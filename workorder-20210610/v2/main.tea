/**
 *
 */
import OpenApi;
import OpenApi.OpenApiUtil;

extends OpenApi;


init(config: OpenApiUtil.Config){
  super(config);
  @endpointRule = 'central';
  @endpointMap = {
    'ap-northeast-1' = 'workorder.ap-northeast-1.aliyuncs.com',
    'ap-southeast-1' = 'workorder.ap-southeast-1.aliyuncs.com',
  };

  checkConfig(config);
  @endpoint = getEndpoint('workorder', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!$isNull(endpoint)) {
    return endpoint;
  }
  
  if (!$isNull(endpointMap) && !$isNull(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return OpenApiUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model CloseTicketRequest {
  ticketId?: string(name='TicketId', description='Work Order Number

This parameter is required.', example='G2BKRWG'),
  uid?: string(name='Uid', description='The UID of the Alibaba Cloud account. You can view your UID in the profile picture in the upper-right corner of the DMS console.', example='1139477549527134'),
}

model CloseTicketResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code', description='The return code of the request result.', example='200'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='CA6204AC-6AA9-4CFA-9310-7DFD20C19EBC'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='true'),
}

model CloseTicketResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: CloseTicketResponseBody(name='body'),
}

/**
 * @summary Closes a ticket.
 *
 * @param request CloseTicketRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return CloseTicketResponse
 */
@context("closeTicketWithContext")
async function closeTicketWithOptions(request: CloseTicketRequest, runtime: $RuntimeOptions): CloseTicketResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.ticketId)) {
    body['TicketId'] = request.ticketId;
  }
  if (!$isNull(request.uid)) {
    body['Uid'] = request.uid;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'CloseTicket',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Closes a ticket.
 *
 * @param request CloseTicketRequest
 * @return CloseTicketResponse
 */
async function closeTicket(request: CloseTicketRequest): CloseTicketResponse {
  var runtime = new $RuntimeOptions{};
  return closeTicketWithOptions(request, runtime);
}

model CreateTicketRequest {
  categoryId?: string(name='CategoryId', description='The ID of the problem category. You can obtain the returned value from the ListCategories operation by using the CategoryId parameter.

This parameter is required.', example='7161'),
  creatorId?: string(name='CreatorId', description='Submit the Alibaba Cloud UID of the account, which is required for the MPK virtual market scene.', example='1289427240739141'),
  description?: string(name='Description', description='The description of the ticket. Only pure text format is supported.

This parameter is required.', example='Why ECS backup failed?'),
  email?: string(name='Email', description='sdahkjdshga@qq.com', example='163@163.com'),
  fileNameList?: [ string ](name='FileNameList', description='The list of attachment names, GetAttachmentUploadUrl the ObjectKey field returned by the interface.'),
  secretInfo?: {
    content?: string(name='Content', description='Sensitive information-text content', example='ID:330102xxxxxx'),
    fileNameList?: [ string ](name='FileNameList', description='Sensitive Information-Attachment Name List'),
  }(name='SecretInfo', description='Sensitive information'),
  severity?: int32(name='Severity', description='Enumeration value, 1 for general problem, 2 for urgent problem

Enumeration values:

*   1: regular.
*   2: emergency.

This parameter is required.', example='1'),
  title?: string(name='Title', description='The title of the ticket.', example='Why ECS backup failed?'),
}

model CreateTicketShrinkRequest {
  categoryId?: string(name='CategoryId', description='The ID of the problem category. You can obtain the returned value from the ListCategories operation by using the CategoryId parameter.

This parameter is required.', example='7161'),
  creatorId?: string(name='CreatorId', description='Submit the Alibaba Cloud UID of the account, which is required for the MPK virtual market scene.', example='1289427240739141'),
  description?: string(name='Description', description='The description of the ticket. Only pure text format is supported.

This parameter is required.', example='Why ECS backup failed?'),
  email?: string(name='Email', description='sdahkjdshga@qq.com', example='163@163.com'),
  fileNameListShrink?: string(name='FileNameList', description='The list of attachment names, GetAttachmentUploadUrl the ObjectKey field returned by the interface.'),
  secretInfoShrink?: string(name='SecretInfo', description='Sensitive information'),
  severity?: int32(name='Severity', description='Enumeration value, 1 for general problem, 2 for urgent problem

Enumeration values:

*   1: regular.
*   2: emergency.

This parameter is required.', example='1'),
  title?: string(name='Title', description='The title of the ticket.', example='Why ECS backup failed?'),
}

model CreateTicketResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code', description='The return code of the request result.', example='0'),
  data?: string(name='Data', description='The return value is the work order number.', example='0005PYGCW'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  requestId?: string(name='RequestId', description='The unique ID of the API request. The requestID is unique for each call.', example='0254B7DE-7365-57B4-8E38-14FE927E3FEB'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='True'),
}

model CreateTicketResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: CreateTicketResponseBody(name='body'),
}

/**
 * @summary Creates a ticket.
 *
 * @param tmpReq CreateTicketRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return CreateTicketResponse
 */
@context("createTicketWithContext")
async function createTicketWithOptions(tmpReq: CreateTicketRequest, runtime: $RuntimeOptions): CreateTicketResponse {
  tmpReq.validate();
  var request = new CreateTicketShrinkRequest{};
  OpenApiUtil.convert(tmpReq, request);
  if (!$isNull(tmpReq.fileNameList)) {
    request.fileNameListShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.fileNameList, 'FileNameList', 'simple');
  }
  if (!$isNull(tmpReq.secretInfo)) {
    request.secretInfoShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.secretInfo, 'SecretInfo', 'json');
  }
  var query = {};
  if (!$isNull(request.secretInfoShrink)) {
    query['SecretInfo'] = request.secretInfoShrink;
  }
  var body : map[string]any = {};
  if (!$isNull(request.categoryId)) {
    body['CategoryId'] = request.categoryId;
  }
  if (!$isNull(request.creatorId)) {
    body['CreatorId'] = request.creatorId;
  }
  if (!$isNull(request.description)) {
    body['Description'] = request.description;
  }
  if (!$isNull(request.email)) {
    body['Email'] = request.email;
  }
  if (!$isNull(request.fileNameListShrink)) {
    body['FileNameList'] = request.fileNameListShrink;
  }
  if (!$isNull(request.severity)) {
    body['Severity'] = request.severity;
  }
  if (!$isNull(request.title)) {
    body['Title'] = request.title;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'CreateTicket',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Creates a ticket.
 *
 * @param request CreateTicketRequest
 * @return CreateTicketResponse
 */
async function createTicket(request: CreateTicketRequest): CreateTicketResponse {
  var runtime = new $RuntimeOptions{};
  return createTicketWithOptions(request, runtime);
}

model EvaluateTicketRequest {
  content?: string(name='Content', description='Comment', example='The engineer solved my issue.'),
  score?: string(name='Score', description='Rating star 1-5 stars

This parameter is required.', example='1'),
  solved?: boolean(name='Solved', description='Whether to resolve

This parameter is required.', example='true'),
  ticketId?: string(name='TicketId', description='The ID of the ticket.

This parameter is required.', example='001ET1BU1P'),
  uid?: string(name='Uid', description='UID', example='1902070573958003'),
}

model EvaluateTicketResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code', description='The response code.', example='200'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='successful'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='C1DA4C6F-963E-5741-AB57-67A554D102FD'),
  success?: boolean(name='Success', description='Indicates whether the request was successful. Valid values: The value true indicates a success. The value false indicates a failure.', example='true'),
}

model EvaluateTicketResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: EvaluateTicketResponseBody(name='body'),
}

/**
 * @summary Evaluates a ticket.
 *
 * @param request EvaluateTicketRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return EvaluateTicketResponse
 */
@context("evaluateTicketWithContext")
async function evaluateTicketWithOptions(request: EvaluateTicketRequest, runtime: $RuntimeOptions): EvaluateTicketResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.content)) {
    body['Content'] = request.content;
  }
  if (!$isNull(request.score)) {
    body['Score'] = request.score;
  }
  if (!$isNull(request.solved)) {
    body['Solved'] = request.solved;
  }
  if (!$isNull(request.ticketId)) {
    body['TicketId'] = request.ticketId;
  }
  if (!$isNull(request.uid)) {
    body['Uid'] = request.uid;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'EvaluateTicket',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Evaluates a ticket.
 *
 * @param request EvaluateTicketRequest
 * @return EvaluateTicketResponse
 */
async function evaluateTicket(request: EvaluateTicketRequest): EvaluateTicketResponse {
  var runtime = new $RuntimeOptions{};
  return evaluateTicketWithOptions(request, runtime);
}

model GetAttachmentUploadUrlRequest {
  fileName?: string(name='FileName', description='Name of the uploaded file

This parameter is required.', example='81A0D93D-54D7-4529-ABFA-633ED63223BA.jpg'),
}

model GetAttachmentUploadUrlResponseBody = {
  code?: int32(name='Code', description='The response code.', example='0'),
  data?: {
    getSignedUrl?: string(name='GetSignedUrl', description='Query the signed URL of an OSS object', example='https://gts-workorder-pre.oss-cn-beijing.aliyuncs.com
/20220314/cabb80c3-430b-4079-a9f2-d2a0d1c2a587.png?Expires=1647328689&OSSAccessKeyId=LTAI****************&Signature=AbSEh26G3oYrJ8ivr4B0xzF89zk%3D'),
    objectKey?: string(name='ObjectKey', description='Uploaded file identifier', example='cdb5d174-c282-4b2d-9048-e74ea2223127.jpg'),
    putSignedUrl?: string(name='PutSignedUrl', description='The signed URL used to upload the object to OSS.', example='https://gts-workorder-pre.oss-cn-beijing.aliyuncs.com
/20220314/cabb80c3-430b-4079-a9f2-d2a0d1c2a587.png?Expires=1647328689&OSSAccessKeyId=LTAI****************&Signature=AbSEh26G3oYrJ8ivr4B0xzF89zk%3D'),
  }(name='Data', description='The data returned after the call succeeds.'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  requestId?: string(name='RequestId', description='The request ID.', example='ED195C2C-787F-511C-8204-714456781861'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='true'),
}

model GetAttachmentUploadUrlResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetAttachmentUploadUrlResponseBody(name='body'),
}

/**
 * @summary Queries the Object Storage Service (OSS) URL that is used to upload attachments.
 *
 * @param request GetAttachmentUploadUrlRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return GetAttachmentUploadUrlResponse
 */
@context("getAttachmentUploadUrlWithContext")
async function getAttachmentUploadUrlWithOptions(request: GetAttachmentUploadUrlRequest, runtime: $RuntimeOptions): GetAttachmentUploadUrlResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.fileName)) {
    body['FileName'] = request.fileName;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'GetAttachmentUploadUrl',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries the Object Storage Service (OSS) URL that is used to upload attachments.
 *
 * @param request GetAttachmentUploadUrlRequest
 * @return GetAttachmentUploadUrlResponse
 */
async function getAttachmentUploadUrl(request: GetAttachmentUploadUrlRequest): GetAttachmentUploadUrlResponse {
  var runtime = new $RuntimeOptions{};
  return getAttachmentUploadUrlWithOptions(request, runtime);
}

model GetMqConsumerTagResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code'),
  data?: string(name='Data'),
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  success?: boolean(name='Success'),
}

model GetMqConsumerTagResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetMqConsumerTagResponseBody(name='body'),
}

/**
 * @param request GetMqConsumerTagRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return GetMqConsumerTagResponse
 */
async function getMqConsumerTagWithOptions(runtime: $RuntimeOptions): GetMqConsumerTagResponse {
  var req = new OpenApiUtil.OpenApiRequest{};
  var params = new OpenApiUtil.Params{
    action = 'GetMqConsumerTag',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @return GetMqConsumerTagResponse
 */
async function getMqConsumerTag(): GetMqConsumerTagResponse {
  var runtime = new $RuntimeOptions{};
  return getMqConsumerTagWithOptions(runtime);
}

model GetTicketRequest {
  ticketId?: string(name='TicketId', description='Work Order Number

This parameter is required.', example='001571BTXC'),
  uid?: string(name='Uid', description='UID', example='1604499804113750'),
}

model GetTicketResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code', description='The return code of the request result.', example='0'),
  data?: {
    categoryId?: string(name='CategoryId', description='The ID of the ticket issue category.', example='7161'),
    createTime?: long(name='CreateTime', description='The timestamp when the ticket was created.', example='1623396736000'),
    creatorId?: string(name='CreatorId', description='The uid of the ticket creator.', example='1168025'),
    description?: string(name='Description', description='The description of the ticket. Only pure text format is supported.', example='Why ECS renewal failed?'),
    severity?: {
      label?: string(name='Label', description='Enumeration Text', example='Common'),
      value?: string(name='Value', description='Enumeration', example='1'),
    }(name='Severity', description='Urgency enumeration value, 1 for general problem, 2 for urgent problem'),
    status?: {
      label?: string(name='Label', description='Status Enumeration Text', example='Completed'),
      value?: string(name='Value', description='State enumeration value', example='6'),
    }(name='Status', description='The status of the ticket. The reference values are as follows 1, "assigned", "Pending Response", 2, "handling", "handling", 3, "wait_feedback", "Pending feedback", 4: "feedback", "Feedback", 5, "wait_confirm", "To be confirmed", 6, "confirmed", "Completed"'),
    ticketId?: string(name='TicketId', description='Work Order Number', example='0005PYGCW'),
    title?: string(name='Title', description='The title of the ticket.', example='Why ECS renewal failed?'),
  }(name='Data', description='The data returned after the call succeeds.'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  pageNumber?: int32(name='PageNumber', description='Page number of the paging query parameter', example='1'),
  pageSize?: int32(name='PageSize', description='The number of entries per page in a pagination query parameter.', example='10'),
  requestId?: string(name='RequestId', description='The request ID.', example='C499BB0F-630D-5BE6-B3EA-5FCD95B85503'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='True'),
  totalCount?: long(name='TotalCount', description='The total number of query results, that is, the total number of my ticket records.', example='108'),
}

model GetTicketResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetTicketResponseBody(name='body'),
}

/**
 * @summary Query tickets.
 *
 * @param request GetTicketRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return GetTicketResponse
 */
@context("getTicketWithContext")
async function getTicketWithOptions(request: GetTicketRequest, runtime: $RuntimeOptions): GetTicketResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.ticketId)) {
    body['TicketId'] = request.ticketId;
  }
  if (!$isNull(request.uid)) {
    body['Uid'] = request.uid;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'GetTicket',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Query tickets.
 *
 * @param request GetTicketRequest
 * @return GetTicketResponse
 */
async function getTicket(request: GetTicketRequest): GetTicketResponse {
  var runtime = new $RuntimeOptions{};
  return getTicketWithOptions(request, runtime);
}

model ListCategoriesRequest {
  language?: string(name='Language', description='Multi-language, support, Chinese, English. Value definition: zh: Chinese, en: English.', example='zh'),
  name?: string(name='Name', description='The name of the classification question. Fuzzy search is supported.', example='ecs'),
  productId?: long(name='ProductId', description='The ID of the product. You can call the ListProducts operation to obtain the product ID. The ProductId parameter is the ID of an Alibaba Cloud product. Multiple Categories are displayed for each product.

This parameter is required.', example='18550'),
}

model ListCategoriesResponseBody = {
  code?: int32(name='Code', description='The response code.', example='200'),
  data?: [ 
    {
      categoryId?: long(name='CategoryId', description='The ID of the ticket issue category.', example='7161'),
      categoryName?: string(name='CategoryName', description='The name of the ticket issue category.', example='ECS'),
    }
  ](name='Data', description='The return value, which is a list of question categories'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='CA6204AC-6AA9-4CFA-9310-7DFD20C19EBC'),
  success?: boolean(name='Success', description='Indicates whether the request was successful. Valid values: The value true indicates a success. The value false indicates a failure.', example='true'),
}

model ListCategoriesResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ListCategoriesResponseBody(name='body'),
}

/**
 * @summary Obtains the list data of ticket problem categories.
 *
 * @param request ListCategoriesRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ListCategoriesResponse
 */
@context("listCategoriesWithContext")
async function listCategoriesWithOptions(request: ListCategoriesRequest, runtime: $RuntimeOptions): ListCategoriesResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.language)) {
    query['Language'] = request.language;
  }
  var body : map[string]any = {};
  if (!$isNull(request.name)) {
    body['Name'] = request.name;
  }
  if (!$isNull(request.productId)) {
    body['ProductId'] = request.productId;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'ListCategories',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Obtains the list data of ticket problem categories.
 *
 * @param request ListCategoriesRequest
 * @return ListCategoriesResponse
 */
async function listCategories(request: ListCategoriesRequest): ListCategoriesResponse {
  var runtime = new $RuntimeOptions{};
  return listCategoriesWithOptions(request, runtime);
}

model ListProductsRequest {
  language?: string(name='Language', description='The language that you use, supporting English, Chinese, and Japanese. Valid values: en, zh, and jp, which indicate English, Chinese, and Japanese, respectively.', example='cn'),
  name?: string(name='Name', description='The name of the product. Fuzzy search is supported. This parameter is optional.', example='ecs'),
}

model ListProductsResponseBody = {
  code?: int32(name='Code', description='The return code of the request result.', example='0'),
  data?: [ 
    {
      directoryId?: long(name='DirectoryId', description='The ID of the product catalog, which represents the product category, such as elastic computing', example='1'),
      directoryName?: string(name='DirectoryName', description='The name of the product catalog, which represents the product category, such as elastic computing', example='ECS'),
      productList?: [ 
        {
          productId?: long(name='ProductId', description='Alibaba Cloud product ID', example='7160'),
          productName?: string(name='ProductName', description='Alibaba Cloud product name', example='ECS'),
        }
      ](name='ProductList', description='List of Alibaba Cloud products'),
    }
  ](name='Data', description='Return value, that is, product list'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  requestId?: string(name='RequestId', description='The unique ID of the API request. The requestID is unique for each call.', example='AC0AB2EC-AFBC-44BA-AE77-132A5A1EC0AD'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='true'),
}

model ListProductsResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ListProductsResponseBody(name='body'),
}

/**
 * @summary Obtains the data of the Alibaba Cloud product list.
 *
 * @param request ListProductsRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ListProductsResponse
 */
@context("listProductsWithContext")
async function listProductsWithOptions(request: ListProductsRequest, runtime: $RuntimeOptions): ListProductsResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.language)) {
    query['Language'] = request.language;
  }
  if (!$isNull(request.name)) {
    query['Name'] = request.name;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'ListProducts',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Obtains the data of the Alibaba Cloud product list.
 *
 * @param request ListProductsRequest
 * @return ListProductsResponse
 */
async function listProducts(request: ListProductsRequest): ListProductsResponse {
  var runtime = new $RuntimeOptions{};
  return listProductsWithOptions(request, runtime);
}

model ListTicketNotesRequest {
  ticketId?: string(name='TicketId', description='Work Order Number

This parameter is required.', example='0005PYGCW'),
  uid?: string(name='Uid', description='UID', example='1936753548534516'),
}

model ListTicketNotesResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code', description='The return code of the request result.', example='0'),
  data?: [ 
    {
      attachments?: [ 
        {
          name?: string(name='Name', description='Attachment Name', example='003.jpg'),
          url?: string(name='Url', description='Temporary Accessible Attachment Address', example='https://gts-workorder.oss-cn-beijing.aliyuncs.com/20221003/cbc00fb0-b612-4d89-a75b-8d535f750f9f/image.png'),
        }
      ](name='Attachments', description='Attachment List'),
      createTime?: long(name='CreateTime', description='The timestamp when the communication message was created.', example='1623396736000'),
      dialog?: {
        content?: string(name='Content', description='Work order communication content', example='ECS backup failed'),
        schema?: string(name='Schema', description='The ticket communication record system card will be used when the system card docking capability is opened in the future. At present, the content can be used to obtain plain text content.', example='null'),
      }(name='Dialog', description='Work order communication record object'),
      dialogId?: long(name='DialogId', description='The unique ID of the conversation record.', example='9999'),
      status?: int32(name='Status', description='Communication message status field, reference value Unread=1, Read=2', example='6'),
      tip?: string(name='Tip', description='Fields Not Used', example='null'),
      type?: int32(name='Type', description='Conversation Type 1 card, that is, schema 2 Text, that is, content', example='1'),
      user?: {
        name?: string(name='Name', description='Dialog User Name', example='agent'),
        role?: int32(name='Role', description='Dialogue user role, distinguish between agent and user.
2 represents agent, 3 represents user.', example='2'),
      }(name='User', description='Conversation of users'),
    }
  ](name='Data', description='Return value, that is, the dialog record list data of the specified ticket'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  requestId?: string(name='RequestId', description='The unique ID of the API request. The requestID is unique for each call.', example='AC0AB2EC-AFBC-44BA-AE77-132A5A1EC0AD'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='true'),
}

model ListTicketNotesResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ListTicketNotesResponseBody(name='body'),
}

/**
 * @summary Obtains the ticket communication records.
 *
 * @param request ListTicketNotesRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ListTicketNotesResponse
 */
@context("listTicketNotesWithContext")
async function listTicketNotesWithOptions(request: ListTicketNotesRequest, runtime: $RuntimeOptions): ListTicketNotesResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.ticketId)) {
    query['TicketId'] = request.ticketId;
  }
  if (!$isNull(request.uid)) {
    query['Uid'] = request.uid;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'ListTicketNotes',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Obtains the ticket communication records.
 *
 * @param request ListTicketNotesRequest
 * @return ListTicketNotesResponse
 */
async function listTicketNotes(request: ListTicketNotesRequest): ListTicketNotesResponse {
  var runtime = new $RuntimeOptions{};
  return listTicketNotesWithOptions(request, runtime);
}

model ListTicketsRequest {
  endDate?: long(name='EndDate', description='The deadline for ticket creation. This parameter is used in conjunction with StartDate to query tickets submitted within the specified start and end time ranges.', example='1623396736000'),
  keyword?: string(name='Keyword', description='The ticket keyword, which is used for fuzzy search to match the content of the Description field when a ticket is created.', example='ecs'),
  pageNumber?: int32(name='PageNumber', description='Paging query page number parameters

This parameter is required.', example='1'),
  pageSize?: int32(name='PageSize', description='The number of entries queried by page parameter

This parameter is required.', example='10'),
  startDate?: long(name='StartDate', description='The time when the ticket was created. This parameter is used with EndDate to query tickets that are created within the specified start and end time ranges.', example='1623396736000'),
  statusList?: [ string ](name='StatusList', description='Multiple ticket statuses', example='6'),
  ticketId?: string(name='TicketId', description='Work Order Number', example='0005PYGCW'),
  ticketIdList?: [ string ](name='TicketIdList', description='Multiple job numbers'),
  uid?: string(name='Uid', description='UID', example='1902070573958003'),
}

model ListTicketsShrinkRequest {
  endDate?: long(name='EndDate', description='The deadline for ticket creation. This parameter is used in conjunction with StartDate to query tickets submitted within the specified start and end time ranges.', example='1623396736000'),
  keyword?: string(name='Keyword', description='The ticket keyword, which is used for fuzzy search to match the content of the Description field when a ticket is created.', example='ecs'),
  pageNumber?: int32(name='PageNumber', description='Paging query page number parameters

This parameter is required.', example='1'),
  pageSize?: int32(name='PageSize', description='The number of entries queried by page parameter

This parameter is required.', example='10'),
  startDate?: long(name='StartDate', description='The time when the ticket was created. This parameter is used with EndDate to query tickets that are created within the specified start and end time ranges.', example='1623396736000'),
  statusList?: [ string ](name='StatusList', description='Multiple ticket statuses', example='6'),
  ticketId?: string(name='TicketId', description='Work Order Number', example='0005PYGCW'),
  ticketIdListShrink?: string(name='TicketIdList', description='Multiple job numbers'),
  uid?: string(name='Uid', description='UID', example='1902070573958003'),
}

model ListTicketsResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code', description='The return code of the request result.', example='0'),
  data?: [ 
    {
      status?: {
        label?: string(name='Label', description='Status description, if completed', example='Completed'),
        value?: string(name='Value', description='A status value, such as 6, represents completed', example='6'),
      }(name='Status', description='The status of the ticket. The reference values are as follows 1, "assigned", "Pending Response", 2, "handling", "handling", 3, "wait_feedback", "Pending feedback", 4: "feedback", "Feedback", 5, "wait_confirm", "To be confirmed", 6, "confirmed", "Completed"'),
      ticketId?: string(name='TicketId', description='Work Order Number', example='0005PYGCW'),
      title?: string(name='Title', description='The title of the ticket.', example='Why ECS backup failed?'),
    }
  ](name='Data', description='The return value is my ticket list data.'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  pageNumber?: int32(name='PageNumber', description='Page number of the paging query parameter', example='1'),
  pageSize?: int32(name='PageSize', description='The number of entries per page in a pagination query parameter.', example='10'),
  requestId?: string(name='RequestId', description='The unique ID of the API request. The requestID is unique for each call.', example='AC0AB2EC-AFBC-44BA-AE77-132A5A1EC0AD'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='true'),
  totalCount?: long(name='TotalCount', description='The total number of query results, that is, the total number of my ticket records.', example='99'),
}

model ListTicketsResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ListTicketsResponseBody(name='body'),
}

/**
 * @summary You can call this operation to obtain the list of my tickets.
 *
 * @param tmpReq ListTicketsRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ListTicketsResponse
 */
@context("listTicketsWithContext")
async function listTicketsWithOptions(tmpReq: ListTicketsRequest, runtime: $RuntimeOptions): ListTicketsResponse {
  tmpReq.validate();
  var request = new ListTicketsShrinkRequest{};
  OpenApiUtil.convert(tmpReq, request);
  if (!$isNull(tmpReq.ticketIdList)) {
    request.ticketIdListShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.ticketIdList, 'TicketIdList', 'simple');
  }
  var query = {};
  if (!$isNull(request.pageNumber)) {
    query['PageNumber'] = request.pageNumber;
  }
  if (!$isNull(request.pageSize)) {
    query['PageSize'] = request.pageSize;
  }
  var body : map[string]any = {};
  if (!$isNull(request.endDate)) {
    body['EndDate'] = request.endDate;
  }
  if (!$isNull(request.keyword)) {
    body['Keyword'] = request.keyword;
  }
  if (!$isNull(request.startDate)) {
    body['StartDate'] = request.startDate;
  }
  if (!$isNull(request.statusList)) {
    body['StatusList'] = request.statusList;
  }
  if (!$isNull(request.ticketId)) {
    body['TicketId'] = request.ticketId;
  }
  if (!$isNull(request.ticketIdListShrink)) {
    body['TicketIdList'] = request.ticketIdListShrink;
  }
  if (!$isNull(request.uid)) {
    body['Uid'] = request.uid;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'ListTickets',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary You can call this operation to obtain the list of my tickets.
 *
 * @param request ListTicketsRequest
 * @return ListTicketsResponse
 */
async function listTickets(request: ListTicketsRequest): ListTicketsResponse {
  var runtime = new $RuntimeOptions{};
  return listTicketsWithOptions(request, runtime);
}

model ReopenTicketRequest {
  content?: string(name='Content', description='Reply content of rework order

This parameter is required.', example='ecs backup fails'),
  ticketId?: string(name='TicketId', description='Work Order Number

This parameter is required.', example='0005PYGCW'),
  uid?: string(name='Uid', description='UID', example='1013872004421947'),
}

model ReopenTicketResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code', description='The return code of the request result.', example='0'),
  data?: string(name='Data', description='The data returned after the call succeeds.', example='0005PYGCW'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  requestId?: string(name='RequestId', description='The request ID.', example='C1DA4C6F-963E-5741-AB57-67A554D102FD'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='true'),
}

model ReopenTicketResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ReopenTicketResponseBody(name='body'),
}

/**
 * @summary Reopens a ticket
 *
 * @param request ReopenTicketRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ReopenTicketResponse
 */
@context("reopenTicketWithContext")
async function reopenTicketWithOptions(request: ReopenTicketRequest, runtime: $RuntimeOptions): ReopenTicketResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.content)) {
    body['Content'] = request.content;
  }
  if (!$isNull(request.ticketId)) {
    body['TicketId'] = request.ticketId;
  }
  if (!$isNull(request.uid)) {
    body['Uid'] = request.uid;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'ReopenTicket',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Reopens a ticket
 *
 * @param request ReopenTicketRequest
 * @return ReopenTicketResponse
 */
async function reopenTicket(request: ReopenTicketRequest): ReopenTicketResponse {
  var runtime = new $RuntimeOptions{};
  return reopenTicketWithOptions(request, runtime);
}

model ReplyTicketRequest {
  content?: string(name='Content', description='Content of the ticket reply

This parameter is required.', example='Why ECS backup failed?'),
  encrypt?: boolean(name='Encrypt', description='Encryption status

This parameter is required.', example='false'),
  fileNameList?: [ string ](name='FileNameList', description='The list of attachment names, GetAttachmentUploadUrl the ObjectKey field returned by the interface.'),
  ticketId?: string(name='TicketId', description='The ID of the ticket.

This parameter is required.', example='0005PYGCW'),
  uid?: string(name='Uid', description='Alibaba Cloud UID', example='1289427240739141'),
}

model ReplyTicketShrinkRequest {
  content?: string(name='Content', description='Content of the ticket reply

This parameter is required.', example='Why ECS backup failed?'),
  encrypt?: boolean(name='Encrypt', description='Encryption status

This parameter is required.', example='false'),
  fileNameListShrink?: string(name='FileNameList', description='The list of attachment names, GetAttachmentUploadUrl the ObjectKey field returned by the interface.'),
  ticketId?: string(name='TicketId', description='The ID of the ticket.

This parameter is required.', example='0005PYGCW'),
  uid?: string(name='Uid', description='Alibaba Cloud UID', example='1289427240739141'),
}

model ReplyTicketResponseBody = {
  accessDeniedDetail?: string(name='AccessDeniedDetail'),
  code?: int32(name='Code', description='The response code.', example='0'),
  data?: string(name='Data', description='The returned value is the dialogID of the response to the ticket.', example='46434030'),
  message?: string(name='Message', description='The error message. If success is set to false, the message is returned.', example='success'),
  requestId?: string(name='RequestId', description='The unique ID of the API request. The requestid is unique for each call.', example='C1DA4C6F-963E-5741-AB57-67A554D102FD'),
  success?: boolean(name='Success', description='Indicates whether the call is successful. A value of true indicates that the call is normal.', example='true'),
}

model ReplyTicketResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ReplyTicketResponseBody(name='body'),
}

/**
 * @summary Reply to the ticket. You can call the ListTicketNotes operation to obtain the content of the reply.
 *
 * @param tmpReq ReplyTicketRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ReplyTicketResponse
 */
@context("replyTicketWithContext")
async function replyTicketWithOptions(tmpReq: ReplyTicketRequest, runtime: $RuntimeOptions): ReplyTicketResponse {
  tmpReq.validate();
  var request = new ReplyTicketShrinkRequest{};
  OpenApiUtil.convert(tmpReq, request);
  if (!$isNull(tmpReq.fileNameList)) {
    request.fileNameListShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.fileNameList, 'FileNameList', 'simple');
  }
  var query = {};
  if (!$isNull(request.fileNameListShrink)) {
    query['FileNameList'] = request.fileNameListShrink;
  }
  var body : map[string]any = {};
  if (!$isNull(request.content)) {
    body['Content'] = request.content;
  }
  if (!$isNull(request.encrypt)) {
    body['Encrypt'] = request.encrypt;
  }
  if (!$isNull(request.ticketId)) {
    body['TicketId'] = request.ticketId;
  }
  if (!$isNull(request.uid)) {
    body['Uid'] = request.uid;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'ReplyTicket',
    version = '2021-06-10',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Reply to the ticket. You can call the ListTicketNotes operation to obtain the content of the reply.
 *
 * @param request ReplyTicketRequest
 * @return ReplyTicketResponse
 */
async function replyTicket(request: ReplyTicketRequest): ReplyTicketResponse {
  var runtime = new $RuntimeOptions{};
  return replyTicketWithOptions(request, runtime);
}

