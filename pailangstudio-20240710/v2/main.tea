/**
 *
 */
import OpenApi;
import OpenApi.OpenApiUtil;

extends OpenApi;


init(config: OpenApiUtil.Config){
  super(config);
  @endpointRule = '';
  
  checkConfig(config);
  @endpoint = getEndpoint('pailangstudio', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!$isNull(endpoint)) {
    return endpoint;
  }
  
  if (!$isNull(endpointMap) && !$isNull(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return OpenApiUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model AutoUpdateConfig {
  ecsSpecs?: [ 
    {
      CPU?: int32(name='CPU', description='CPU核数'),
      driver?: string(name='Driver', description='驱动版本'),
      GPU?: int32(name='GPU', description='GPU卡数'),
      GPUType?: string(name='GPUType', description='GPU类型'),
      instanceType?: string(name='InstanceType', description='机型名称'),
      memory?: int32(name='Memory', description='内存大小'),
      podCount?: int32(name='PodCount', description='副本数量'),
      sharedMemory?: int32(name='SharedMemory', description='共享内存容量'),
      type?: string(name='Type', description='节点类型'),
    }
  ](name='EcsSpecs', description='运行资源配置'),
  embeddingConfig?: {
    batchSize?: int32(name='BatchSize', description='Embedding分批大小'),
    concurrency?: int32(name='Concurrency', description='Embedding并发数'),
  }(name='EmbeddingConfig', description='Embedding配置'),
  maxRunningTimeInSeconds?: int32(name='MaxRunningTimeInSeconds', description='任务最大运行时间'),
  resourceId?: string(name='ResourceId', description='资源组ID'),
  status?: string(name='Status', description='知识库自动更新状态'),
  userVpc?: UserVpc(name='UserVpc', description='用户VPC配置'),
}

model Connection {
  accessibility?: string(name='Accessibility'),
  configs?: map[string]string(name='Configs'),
  connectionId?: string(name='ConnectionId'),
  connectionName?: string(name='ConnectionName'),
  connectionType?: string(name='ConnectionType'),
  creator?: string(name='Creator'),
  customType?: string(name='CustomType'),
  description?: string(name='Description'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  models?: [ 
    {
      displayName?: string(name='DisplayName', description='模型展示名称'),
      maxModelLength?: int32(name='MaxModelLength', description='最大上下文长度'),
      model?: string(name='Model', description='模型名'),
      modelType?: string(name='ModelType', description='模型类型'),
      supportReasoning?: boolean(name='SupportReasoning', description='是否支持Reasoning'),
      supportResponseSchema?: boolean(name='SupportResponseSchema', description='是否支持输出Schema'),
      supportVision?: boolean(name='SupportVision', description='是否支持Vision'),
      toolCall?: boolean(name='ToolCall', description='是否支持ToolCall'),
    }
  ](name='Models'),
  resourceMeta?: {
    instanceId?: string(name='InstanceId', description='资源实例ID'),
    instanceName?: string(name='InstanceName', description='资源实例名称'),
  }(name='ResourceMeta'),
  secrets?: map[string]string(name='Secrets'),
  workspaceId?: string(name='WorkspaceId'),
}

model Deployment {
  accessibility?: string(name='Accessibility'),
  chatHistoryConfig?: {
    connectionName?: string(name='ConnectionName', description='连接名称'),
    storageType?: string(name='StorageType', description='存储类型'),
  }(name='ChatHistoryConfig'),
  contentModerationConfig?: {
    enableInputModeration?: boolean(name='EnableInputModeration', description='启用输入内容审查'),
    enableOutputModeration?: boolean(name='EnableOutputModeration', description='启用输出内容审查'),
    streamingModerationThreshold?: int32(name='StreamingModerationThreshold', description='流式输出内容送审缓存大小'),
  }(name='ContentModerationConfig'),
  creator?: string(name='Creator'),
  credentialConfig?: {
    aliyunEnvRoleKey?: string(name='AliyunEnvRoleKey', description='AliyunEnvRoleKey'),
    credentialConfigItems?: [ 
      {
        key?: string(name='Key', description='Key'),
        roles?: [ 
          {
            assumeRoleFor?: string(name='AssumeRoleFor', description='AssumeRoleFor'),
            roleArn?: string(name='RoleArn', description='角色名称'),
            roleType?: string(name='RoleType', description='角色类型'),
          }
        ](name='Roles', description='角色列表'),
        type?: string(name='Type', description='Type'),
      }
    ](name='CredentialConfigItems', description='Credential配置项列表'),
    enableCredentialInject?: boolean(name='EnableCredentialInject', description='是否启用Credential注入'),
  }(name='CredentialConfig'),
  dataSources?: [ 
    {
      datasetId?: string(name='DatasetId', description='数据集ID'),
      mountPath?: string(name='MountPath', description='挂载路径'),
      uri?: string(name='Uri', description='统一资源识别码'),
    }
  ](name='DataSources'),
  deploymentConfig?: string(name='DeploymentConfig'),
  deploymentId?: string(name='DeploymentId'),
  deploymentStages?: string(name='DeploymentStages'),
  deploymentStatus?: string(name='DeploymentStatus'),
  description?: string(name='Description'),
  ecsSpec?: {
    CPU?: int32(name='CPU', description='CPU信息'),
    computingInstanceConfig?: {
      computingInstances?: [ 
        {
          spotPriceLimit?: float(name='SpotPriceLimit', description='竞价出价'),
          type?: string(name='Type', description='机型'),
        }
      ](name='ComputingInstances', description='机器资源配置'),
      disableSpotProtectionPeriod?: boolean(name='DisableSpotProtectionPeriod', description='是否启用竞价保留时长'),
    }(name='ComputingInstanceConfig', description='竞价资源配置'),
    extraEphemeralStorage?: int32(name='ExtraEphemeralStorage', description='额外系统盘'),
    GPU?: int32(name='GPU', description='GPU信息'),
    GPUCorePercentage?: int32(name='GPUCorePercentage', description='GPU算力占比'),
    GPUMemory?: int32(name='GPUMemory', description='GPU显存'),
    GPUType?: string(name='GPUType', description='GPU类型'),
    instanceType?: string(name='InstanceType', description='实例类型'),
    memory?: int32(name='Memory', description='内存信息'),
    podCount?: int32(name='PodCount', description='Pod数量'),
    quotaId?: string(name='QuotaId', description='资源配额ID'),
    quotaType?: string(name='QuotaType', description='资源配额类型'),
    resourceBurstable?: boolean(name='ResourceBurstable', description='是否启用弹性资源池'),
    resourceId?: string(name='ResourceId', description='资源组ID'),
    sharedMemory?: int32(name='SharedMemory', description='共享内存'),
  }(name='EcsSpec'),
  enableTrace?: boolean(name='EnableTrace'),
  envs?: [ 
    {
      key?: string(name='Key', description='环境键'),
      value?: string(name='Value', description='环境值'),
    }
  ](name='Envs'),
  errorMessage?: string(name='ErrorMessage'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  labels?: [ 
    {
      key?: string(name='Key', description='标签键'),
      value?: string(name='Value', description='标签值'),
    }
  ](name='Labels'),
  operationType?: string(name='OperationType'),
  resourceId?: string(name='ResourceId'),
  resourceSnapshotId?: string(name='ResourceSnapshotId'),
  resourceType?: string(name='ResourceType'),
  serviceGroup?: string(name='ServiceGroup'),
  serviceName?: string(name='ServiceName'),
  userVpc?: {
    securityGroupId?: string(name='SecurityGroupId', description='安全组ID'),
    vSwitchId?: string(name='VSwitchId', description='交换机ID'),
    vpcId?: string(name='VpcId', description='VPC ID'),
  }(name='UserVpc'),
  workDir?: string(name='WorkDir'),
  workspaceId?: string(name='WorkspaceId'),
}

model EcsSpec {
  CPU?: int32(name='CPU', description='CPU核数'),
  driver?: string(name='Driver', description='驱动版本'),
  GPU?: int32(name='GPU', description='GPU卡数'),
  GPUType?: string(name='GPUType', description='GPU类型'),
  instanceType?: string(name='InstanceType', description='机型名称'),
  memory?: int32(name='Memory', description='内存大小'),
  podCount?: int32(name='PodCount', description='副本数量'),
  sharedMemory?: int32(name='SharedMemory', description='共享内存容量'),
  type?: string(name='Type', description='节点类型'),
}

model Flow {
  accessibility?: string(name='Accessibility'),
  codeModeRunInfo?: string(name='CodeModeRunInfo'),
  createFrom?: string(name='CreateFrom'),
  creator?: string(name='Creator'),
  description?: string(name='Description'),
  flowId?: string(name='FlowId'),
  flowName?: string(name='FlowName'),
  flowStoragePath?: string(name='FlowStoragePath'),
  flowTemplateId?: string(name='FlowTemplateId'),
  flowType?: string(name='FlowType'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  runtime?: {
    runtimeId?: string(name='RuntimeId', description='运行时ID'),
    runtimeName?: string(name='RuntimeName', description='运行时名称'),
    runtimeStatus?: string(name='RuntimeStatus', description='运行时状态'),
    runtimeType?: string(name='RuntimeType', description='运行时类型'),
    supportSSEStream?: boolean(name='SupportSSEStream', description='是否支持SSE'),
  }(name='Runtime'),
  runtimeId?: string(name='RuntimeId'),
  sourceUri?: string(name='SourceUri'),
  version?: string(name='Version'),
  workDir?: string(name='WorkDir'),
  workspaceId?: string(name='WorkspaceId'),
}

model FlowRun {
  accessibility?: string(name='Accessibility'),
  childRuns?: [ 
    {
      duration?: int32(name='Duration', description='运行时长'),
      flowRunId?: string(name='FlowRunId', description='应用流运行ID'),
      flowSource?: {
        id?: string(name='Id', description='ID'),
        name?: string(name='Name', description='名称'),
        type?: string(name='Type', description='类型'),
      }(name='FlowSource', description='应用流来源'),
      gmtCreateTime?: string(name='GmtCreateTime', description='创建时间'),
      gmtFinishTime?: string(name='GmtFinishTime', description='结束时间'),
      gmtModifiedTime?: string(name='GmtModifiedTime', description='修改时间'),
      gmtStartTime?: string(name='GmtStartTime', description='开始时间'),
      jobInfo?: {
        jobId?: string(name='JobId', description='任务ID'),
      }(name='JobInfo', description='任务信息'),
      runMode?: string(name='RunMode', description='运行模式'),
      runName?: string(name='RunName', description='运行名称'),
      runResult?: string(name='RunResult', description='运行结果'),
      runStatus?: string(name='RunStatus', description='运行状态'),
    }
  ](name='ChildRuns'),
  creator?: string(name='Creator'),
  credentialConfig?: {
    aliyunEnvRoleKey?: string(name='AliyunEnvRoleKey', description='AliyunEnvRoleKey'),
    credentialConfigItems?: [ 
      {
        key?: string(name='Key', description='Key'),
        roles?: [ 
          {
            assumeRoleFor?: string(name='AssumeRoleFor', description='AssumeRoleFor'),
            roleArn?: string(name='RoleArn', description='角色名称'),
            roleType?: string(name='RoleType', description='角色类型'),
          }
        ](name='Roles', description='角色列表'),
        type?: string(name='Type', description='Type'),
      }
    ](name='CredentialConfigItems', description='Credential配置项列表'),
    enableCredentialInject?: boolean(name='EnableCredentialInject', description='是否启用Credential注入'),
  }(name='CredentialConfig'),
  dataColumnMapping?: map[string]string(name='DataColumnMapping'),
  dataSources?: [ 
    {
      datasetId?: string(name='DatasetId', description='数据集ID'),
      mountPath?: string(name='MountPath', description='挂载路径'),
      uri?: string(name='Uri', description='统一资源识别码'),
    }
  ](name='DataSources'),
  duration?: int32(name='Duration'),
  ecsSpec?: {
    CPU?: int32(name='CPU', description='CPU信息'),
    extraEphemeralStorage?: int32(name='ExtraEphemeralStorage', description='额外系统盘'),
    GPU?: int32(name='GPU', description='GPU信息'),
    GPUCorePercentage?: int32(name='GPUCorePercentage', description='GPU算力占比'),
    GPUMemory?: int32(name='GPUMemory', description='GPU显存'),
    GPUType?: string(name='GPUType', description='GPU类型'),
    instanceType?: string(name='InstanceType', description='实例类型'),
    memory?: int32(name='Memory', description='内存信息'),
    podCount?: int32(name='PodCount', description='Pod数量'),
    quotaId?: string(name='QuotaId', description='资源配额ID'),
    quotaType?: string(name='QuotaType', description='资源配额类型'),
    sharedMemory?: int32(name='SharedMemory', description='共享内存'),
  }(name='EcsSpec'),
  envs?: [ 
    {
      key?: string(name='Key', description='环境键'),
      value?: string(name='Value', description='环境值'),
    }
  ](name='Envs'),
  evaluationConfigs?: [ 
    {
      dataColumnMapping?: map[string]string(name='DataColumnMapping', description='映射配置'),
      flowSource?: {
        id?: string(name='Id', description='ID'),
        name?: string(name='Name', description='名称'),
        type?: string(name='Type', description='类型'),
      }(name='FlowSource', description='应用流来源'),
      inputsOverrideConfig?: string(name='InputsOverrideConfig', description='输入配置'),
    }
  ](name='EvaluationConfigs'),
  evaluationWorkerCount?: int32(name='EvaluationWorkerCount'),
  exception?: string(name='Exception'),
  flowId?: string(name='FlowId'),
  flowName?: string(name='FlowName'),
  flowRunId?: string(name='FlowRunId'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtFinishTime?: string(name='GmtFinishTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  gmtStartTime?: string(name='GmtStartTime'),
  labels?: [ 
    {
      key?: string(name='Key', description='标签键'),
      value?: string(name='Value', description='标签值'),
    }
  ](name='Labels'),
  nodeName?: string(name='NodeName'),
  nodeRunInfos?: [ 
    {
      duration?: string(name='Duration', description='耗时'),
      errorMessage?: string(name='ErrorMessage', description='错误信息'),
      inputs?: string(name='Inputs', description='输入'),
      nodeName?: string(name='NodeName', description='节点名称'),
      output?: string(name='Output', description='输出'),
      status?: string(name='Status', description='节点状态'),
      stdout?: string(name='Stdout', description='日志信息'),
    }
  ](name='NodeRunInfos'),
  resourceId?: string(name='ResourceId'),
  runMode?: string(name='RunMode'),
  runName?: string(name='RunName'),
  runResult?: string(name='RunResult'),
  runStatus?: string(name='RunStatus'),
  runTimeout?: int32(name='RunTimeout'),
  userVpc?: {
    securityGroupId?: string(name='SecurityGroupId', description='安全组ID'),
    vSwitchId?: string(name='VSwitchId', description='交换机ID'),
    vpcId?: string(name='VpcId', description='VPC ID'),
  }(name='UserVpc'),
  variant?: string(name='Variant'),
  workspaceId?: string(name='WorkspaceId'),
}

model FlowTemplate {
  accessibility?: string(name='Accessibility'),
  aliyunDocumentId?: string(name='AliyunDocumentId'),
  description?: string(name='Description'),
  descriptionI18N?: map[string]string(name='DescriptionI18N'),
  displayName?: string(name='DisplayName'),
  displayNameI18N?: map[string]string(name='DisplayNameI18N'),
  flowFiles?: string(name='FlowFiles'),
  flowStoragePath?: string(name='FlowStoragePath'),
  flowTemplateId?: string(name='FlowTemplateId'),
  flowType?: string(name='FlowType'),
  locale?: string(name='Locale'),
  referenceCount?: int32(name='ReferenceCount'),
  templateGroup?: string(name='TemplateGroup'),
  templateName?: string(name='TemplateName'),
  url?: string(name='Url'),
  version?: string(name='Version'),
  workspaceId?: string(name='WorkspaceId'),
}

model KnowledgeBase {
  accessibility?: string(name='Accessibility'),
  autoUpdateConfig?: {
    ecsSpecs?: [ 
      {
        CPU?: int32(name='CPU', description='CPU核数'),
        driver?: string(name='Driver', description='驱动版本'),
        GPU?: int32(name='GPU', description='GPU卡数'),
        GPUType?: string(name='GPUType', description='GPU类型'),
        instanceType?: string(name='InstanceType', description='机型名称'),
        memory?: int32(name='Memory', description='内存大小'),
        podCount?: int32(name='PodCount', description='副本数量'),
        sharedMemory?: int32(name='SharedMemory', description='共享内存容量'),
        type?: string(name='Type', description='节点类型'),
      }
    ](name='EcsSpecs', description='运行资源配置'),
    embeddingConfig?: {
      batchSize?: int32(name='BatchSize', description='Embedding分批大小'),
      concurrency?: int32(name='Concurrency', description='Embedding并发数'),
    }(name='EmbeddingConfig', description='Embedding配置'),
    maxRunningTimeInSeconds?: int32(name='MaxRunningTimeInSeconds', description='任务最大运行时间'),
    resourceId?: string(name='ResourceId', description='资源组ID'),
    status?: string(name='Status', description='知识库自动更新状态'),
    userVpc?: UserVpc(name='UserVpc', description='用户VPC配置'),
  }(name='AutoUpdateConfig'),
  chunkConfig?: {
    chunkDuration?: int32(name='ChunkDuration', description='分块时长'),
    chunkOverlap?: int32(name='ChunkOverlap', description='分块重叠大小'),
    chunkSize?: int32(name='ChunkSize', description='分块大小'),
    chunkStrategy?: string(name='ChunkStrategy', description='分块策略'),
  }(name='ChunkConfig'),
  creator?: string(name='Creator'),
  dataSources?: [ 
    {
      uri?: string(name='Uri', description='统一资源识别码'),
    }
  ](name='DataSources'),
  datasetId?: string(name='DatasetId'),
  description?: string(name='Description'),
  embeddingConfig?: {
    connectionId?: string(name='ConnectionId', description='Embedding连接ID'),
    connectionName?: string(name='ConnectionName', description='Embedding连接名称'),
    model?: string(name='Model', description='模型'),
  }(name='EmbeddingConfig'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  indexColumnConfig?: {
    columnDefinitions?: [ 
      {
        key?: string(name='Key', description='列Key'),
      }
    ](name='ColumnDefinitions', description='所有列名'),
    contentColumns?: [ 
      {
        key?: string(name='Key', description='列Key'),
      }
    ](name='ContentColumns', description='内容检索列'),
    embeddingColumns?: [ 
      {
        key?: string(name='Key', description='列Key'),
      }
    ](name='EmbeddingColumns', description='Embedding列'),
  }(name='IndexColumnConfig'),
  knowledgeBaseId?: string(name='KnowledgeBaseId'),
  knowledgeBaseType?: string(name='KnowledgeBaseType'),
  metaDataConfig?: {
    customMetaData?: [ 
      {
        key?: string(name='Key', description='元数据Key'),
        referenceCount?: int32(name='ReferenceCount', description='引用次数'),
        valueCount?: int32(name='ValueCount', description='值的个数'),
        valueType?: string(name='ValueType', description='元数据Value类型'),
      }
    ](name='CustomMetaData', description='自定义元数据'),
  }(name='MetaDataConfig'),
  name?: string(name='Name'),
  outputDir?: string(name='OutputDir'),
  runtimeId?: string(name='RuntimeId'),
  vectorDBConfig?: {
    collectionName?: string(name='CollectionName', description='Collectioin名称'),
    connectionId?: string(name='ConnectionId', description='Embedding连接ID'),
    connectionName?: string(name='ConnectionName', description='VectorDB连接名称'),
    vectorDBType?: string(name='VectorDBType', description='VectorDB类型'),
  }(name='VectorDBConfig'),
  versionName?: string(name='VersionName'),
  workspaceId?: string(name='WorkspaceId'),
}

model KnowledgeBaseFileChunk {
  chunkAttachment?: [ 
    {
      downloadUrl?: string(name='DownloadUrl'),
      placeholderId?: string(name='PlaceholderId'),
      type?: string(name='Type'),
      uri?: string(name='Uri'),
    }
  ](name='ChunkAttachment'),
  chunkContent?: string(name='ChunkContent'),
  chunkEnd?: int32(name='ChunkEnd'),
  chunkId?: string(name='ChunkId'),
  chunkSequence?: int32(name='ChunkSequence'),
  chunkSize?: int32(name='ChunkSize'),
  chunkStart?: int32(name='ChunkStart'),
  chunkStatus?: string(name='ChunkStatus'),
  downloadUrl?: string(name='DownloadUrl'),
  metaData?: {
    fileMetaId?: string(name='FileMetaId'),
    fileName?: string(name='FileName'),
    fileUri?: string(name='FileUri'),
  }(name='MetaData'),
  score?: float(name='Score'),
  thumbnailUrl?: string(name='ThumbnailUrl'),
}

model KnowledgeBaseJob {
  accessibility?: string(name='Accessibility'),
  creator?: string(name='Creator'),
  description?: string(name='Description'),
  ecsSpecs?: [ 
    {
      CPU?: int32(name='CPU', description='CPU核数'),
      driver?: string(name='Driver', description='驱动版本'),
      GPU?: int32(name='GPU', description='GPU卡数'),
      GPUType?: string(name='GPUType', description='GPU类型'),
      instanceType?: string(name='InstanceType', description='机型名称'),
      memory?: int32(name='Memory', description='内存大小'),
      podCount?: int32(name='PodCount', description='副本数量'),
      sharedMemory?: int32(name='SharedMemory', description='共享内存容量'),
      type?: string(name='Type', description='节点类型'),
    }
  ](name='EcsSpecs'),
  embeddingConfig?: {
    batchSize?: int32(name='BatchSize', description='Embedding分批大小'),
    concurrency?: int32(name='Concurrency', description='Embedding并发数'),
  }(name='EmbeddingConfig'),
  errorMessage?: string(name='ErrorMessage'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtFinishTime?: string(name='GmtFinishTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  jobAction?: string(name='JobAction'),
  knowledgeBaseId?: string(name='KnowledgeBaseId'),
  knowledgeBaseJobId?: string(name='KnowledgeBaseJobId'),
  knowledgeBaseJobResult?: {
    addChunkCount?: int32(name='AddChunkCount', description='增加Chunk数量'),
    deleteChunkCount?: int32(name='DeleteChunkCount', description='删除Chunk数量'),
    totalFileCount?: int32(name='TotalFileCount', description='总处理文件数'),
  }(name='KnowledgeBaseJobResult'),
  maxRunningTimeInSeconds?: int32(name='MaxRunningTimeInSeconds'),
  pipelineRunInfo?: {
    pipelineRunId?: string(name='PipelineRunId', description='PaiFlow工作流运行ID'),
  }(name='PipelineRunInfo'),
  resourceId?: string(name='ResourceId'),
  status?: string(name='Status'),
  userVpc?: {
    securityGroupId?: string(name='SecurityGroupId', description='安全组ID'),
    vSwitchId?: string(name='VSwitchId', description='交换机ID'),
    vpcId?: string(name='VpcId', description='VPC ID'),
  }(name='UserVpc'),
  workspaceId?: string(name='WorkspaceId'),
}

model KnowledgeBaseMeta {
  chunkAttachment?: [ 
    {
      downloadUrl?: string(name='DownloadUrl'),
      placeholderId?: string(name='PlaceholderId'),
      type?: string(name='Type'),
      uri?: string(name='Uri'),
    }
  ](name='ChunkAttachment'),
  chunkContent?: string(name='ChunkContent'),
  chunkEnd?: int32(name='ChunkEnd'),
  chunkId?: string(name='ChunkId'),
  chunkSequence?: int32(name='ChunkSequence'),
  chunkSize?: int32(name='ChunkSize'),
  chunkStart?: int32(name='ChunkStart'),
  chunkStatus?: string(name='ChunkStatus'),
  downloadUrl?: string(name='DownloadUrl'),
  fileContentType?: string(name='FileContentType'),
  fileCreateTime?: string(name='FileCreateTime'),
  fileMetaData?: string(name='FileMetaData'),
  fileMetaId?: string(name='FileMetaId'),
  fileName?: string(name='FileName'),
  fileSize?: int32(name='FileSize'),
  fileStatus?: string(name='FileStatus'),
  fileType?: string(name='FileType'),
  fileUpdateTime?: string(name='FileUpdateTime'),
  fileUri?: string(name='FileUri'),
  metaData?: {
    fileMetaId?: string(name='FileMetaId'),
    fileName?: string(name='FileName'),
    fileUri?: string(name='FileUri'),
  }(name='MetaData'),
  thumbnailUrl?: string(name='ThumbnailUrl'),
}

model Runtime {
  accessibility?: string(name='Accessibility'),
  creator?: string(name='Creator'),
  credentialConfig?: {
    aliyunEnvRoleKey?: string(name='AliyunEnvRoleKey', description='AliyunEnvRoleKey'),
    credentialConfigItems?: [ 
      {
        key?: string(name='Key', description='Key'),
        roles?: [ 
          {
            assumeRoleFor?: string(name='AssumeRoleFor', description='AssumeRoleFor'),
            roleArn?: string(name='RoleArn', description='角色名称'),
            roleType?: string(name='RoleType', description='角色类型'),
          }
        ](name='Roles', description='角色列表'),
        type?: string(name='Type', description='Type'),
      }
    ](name='CredentialConfigItems', description='Credential配置项列表'),
    enableCredentialInject?: boolean(name='EnableCredentialInject', description='是否启用Credential注入'),
  }(name='CredentialConfig'),
  dataSources?: [ 
    {
      datasetId?: string(name='DatasetId', description='数据集ID'),
      mountPath?: string(name='MountPath', description='挂载路径'),
      uri?: string(name='Uri', description='统一资源识别码'),
    }
  ](name='DataSources'),
  ecsSpec?: {
    CPU?: int32(name='CPU', description='CPU信息'),
    extraEphemeralStorage?: int32(name='ExtraEphemeralStorage', description='额外系统盘'),
    GPU?: int32(name='GPU', description='GPU信息'),
    GPUCorePercentage?: int32(name='GPUCorePercentage', description='GPU算力占比'),
    GPUMemory?: int32(name='GPUMemory', description='GPU显存'),
    GPUType?: string(name='GPUType', description='GPU类型'),
    instanceType?: string(name='InstanceType', description='实例类型'),
    memory?: int32(name='Memory', description='内存信息'),
    podCount?: int32(name='PodCount', description='Pod数量'),
    quotaId?: string(name='QuotaId', description='资源配额ID'),
    quotaType?: string(name='QuotaType', description='资源配额类型'),
    sharedMemory?: int32(name='SharedMemory', description='共享内存'),
  }(name='EcsSpec'),
  envs?: [ 
    {
      key?: string(name='Key', description='环境键'),
      value?: string(name='Value', description='环境值'),
    }
  ](name='Envs'),
  flowId?: string(name='FlowId'),
  flows?: [ 
    {
      flowId?: string(name='FlowId', description='应用流ID'),
      flowName?: string(name='FlowName', description='应用流名称'),
    }
  ](name='Flows'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  idleTimeout?: int32(name='IdleTimeout'),
  labels?: [ 
    {
      key?: string(name='Key', description='标签键'),
      value?: string(name='Value', description='标签值'),
    }
  ](name='Labels'),
  latestVersion?: string(name='LatestVersion'),
  MCPConfig?: string(name='MCPConfig'),
  resourceId?: string(name='ResourceId'),
  runTimeout?: int32(name='RunTimeout'),
  runtimeId?: string(name='RuntimeId'),
  runtimeLog?: string(name='RuntimeLog'),
  runtimeName?: string(name='RuntimeName'),
  runtimeStatus?: string(name='RuntimeStatus'),
  runtimeType?: string(name='RuntimeType'),
  supportSSEStream?: boolean(name='SupportSSEStream'),
  userVpc?: {
    defaultRoute?: string(name='DefaultRoute', description='默认路由'),
    extendedCIDRs?: [ string ](name='ExtendedCIDRs', description='扩展网段'),
    securityGroupId?: string(name='SecurityGroupId', description='安全组ID'),
    vSwitchId?: string(name='VSwitchId', description='交换机ID'),
    vpcId?: string(name='VpcId', description='VPC ID'),
  }(name='UserVpc'),
  version?: string(name='Version'),
  workDir?: string(name='WorkDir'),
  workspaceId?: string(name='WorkspaceId'),
}

model Snapshot {
  accessibility?: string(name='Accessibility'),
  creationType?: string(name='CreationType'),
  creator?: string(name='Creator'),
  description?: string(name='Description'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  snapshotId?: string(name='SnapshotId'),
  snapshotName?: string(name='SnapshotName'),
  snapshotResourceId?: string(name='SnapshotResourceId'),
  snapshotResourceType?: string(name='SnapshotResourceType'),
  snapshotStoragePath?: string(name='SnapshotStoragePath'),
  snapshotUrl?: string(name='SnapshotUrl'),
  workDir?: string(name='WorkDir'),
  workspaceId?: string(name='WorkspaceId'),
}

model Toolset {
  accessibility?: string(name='Accessibility'),
  creator?: string(name='Creator'),
  description?: string(name='Description'),
  gmtCreateTime?: string(name='GmtCreateTime'),
  gmtModifiedTime?: string(name='GmtModifiedTime'),
  tools?: string(name='Tools'),
  toolsetConfig?: string(name='ToolsetConfig'),
  toolsetId?: string(name='ToolsetId'),
  toolsetName?: string(name='ToolsetName'),
  toolsetType?: string(name='ToolsetType'),
  workspaceId?: string(name='WorkspaceId'),
}

model UserVpc {
  securityGroupId?: string(name='SecurityGroupId', description='用户安全组的ID'),
  vSwitchId?: string(name='VSwitchId', description='用户交换机的ID'),
  vpcId?: string(name='VpcId', description='用户VPC的ID'),
}

model CreateKnowledgeBaseRequest {
  accessibility?: string(name='Accessibility', example='PUBLIC'),
  chunkConfig?: {
    chunkDuration?: int32(name='ChunkDuration', description='分块时长', example='30'),
    chunkOverlap?: int32(name='ChunkOverlap', description='分块重叠大小', example='200'),
    chunkSize?: int32(name='ChunkSize', description='分块大小', example='1024'),
    chunkStrategy?: string(name='ChunkStrategy', description='分块策略', example='Default'),
  }(name='ChunkConfig', description='This parameter is required.'),
  dataSources?: [ 
    {
      uri?: string(name='Uri', description='统一资源识别码', example='oss://test-bucket.oss-cn-hangzhou-internal.aliyuncs.com/langstudio/source/'),
    }
  ](name='DataSources', description='This parameter is required.'),
  description?: string(name='Description', example='This is a description of the knowledge base.'),
  embeddingConfig?: {
    connectionId?: string(name='ConnectionId', description='Embedding连接ID

This parameter is required.', example='conn-r3o7******38bh'),
    model?: string(name='Model', description='模型

This parameter is required.', example='text-embedding-v4'),
  }(name='EmbeddingConfig', description='This parameter is required.'),
  indexColumnConfig?: {
    columnDefinitions?: [ 
      {
        key?: string(name='Key', description='列Key', example='column1'),
      }
    ](name='ColumnDefinitions', description='所有列名'),
    contentColumns?: [ 
      {
        key?: string(name='Key', description='列Key', example='column1'),
      }
    ](name='ContentColumns', description='内容检索列'),
    embeddingColumns?: [ 
      {
        key?: string(name='Key', description='列Key', example='column1'),
      }
    ](name='EmbeddingColumns', description='Embedding列'),
  }(name='IndexColumnConfig'),
  knowledgeBaseType?: string(name='KnowledgeBaseType', description='This parameter is required.', example='TEXT'),
  metaDataConfig?: {
    customMetaData?: [ 
      {
        key?: string(name='Key', description='元数据Key', example='author'),
        valueType?: string(name='ValueType', description='元数据Value类型', example='String'),
      }
    ](name='CustomMetaData', description='自定义元数据'),
  }(name='MetaDataConfig'),
  name?: string(name='Name', description='This parameter is required.', example='myName'),
  outputDir?: string(name='OutputDir', description='This parameter is required.', example='oss://test-bucket.oss-cn-hangzhou-internal.aliyuncs.com/langstudio/output/'),
  runtimeId?: string(name='RuntimeId', example='rtime-apje******beaz'),
  vectorDBConfig?: {
    collectionName?: string(name='CollectionName', description='Collectioin名称', example='my_collection'),
    connectionId?: string(name='ConnectionId', description='Embedding连接ID', example='conn-7y5y******jja7'),
    vectorDBType?: string(name='VectorDBType', description='VectorDB类型

This parameter is required.', example='Milvus'),
  }(name='VectorDBConfig', description='This parameter is required.'),
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.', example='478**'),
}

model CreateKnowledgeBaseResponseBody = {
  knowledgeBaseId?: string(name='KnowledgeBaseId', example='d-ksicx823d'),
  requestId?: string(name='RequestId', example='48E6392E-C3C9-5212-9FAD-13256ABD9AF6'),
  workspaceId?: string(name='WorkspaceId', example='478**'),
}

model CreateKnowledgeBaseResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: CreateKnowledgeBaseResponseBody(name='body'),
}

/**
 * @summary 创建知识库
 *
 * @param request CreateKnowledgeBaseRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return CreateKnowledgeBaseResponse
 */
@context("createKnowledgeBaseWithContext")
async function createKnowledgeBaseWithOptions(request: CreateKnowledgeBaseRequest, headers: map[string]string, runtime: $RuntimeOptions): CreateKnowledgeBaseResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.accessibility)) {
    body['Accessibility'] = request.accessibility;
  }
  if (!$isNull(request.chunkConfig)) {
    body['ChunkConfig'] = request.chunkConfig;
  }
  if (!$isNull(request.dataSources)) {
    body['DataSources'] = request.dataSources;
  }
  if (!$isNull(request.description)) {
    body['Description'] = request.description;
  }
  if (!$isNull(request.embeddingConfig)) {
    body['EmbeddingConfig'] = request.embeddingConfig;
  }
  if (!$isNull(request.indexColumnConfig)) {
    body['IndexColumnConfig'] = request.indexColumnConfig;
  }
  if (!$isNull(request.knowledgeBaseType)) {
    body['KnowledgeBaseType'] = request.knowledgeBaseType;
  }
  if (!$isNull(request.metaDataConfig)) {
    body['MetaDataConfig'] = request.metaDataConfig;
  }
  if (!$isNull(request.name)) {
    body['Name'] = request.name;
  }
  if (!$isNull(request.outputDir)) {
    body['OutputDir'] = request.outputDir;
  }
  if (!$isNull(request.runtimeId)) {
    body['RuntimeId'] = request.runtimeId;
  }
  if (!$isNull(request.vectorDBConfig)) {
    body['VectorDBConfig'] = request.vectorDBConfig;
  }
  if (!$isNull(request.workspaceId)) {
    body['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'CreateKnowledgeBase',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 创建知识库
 *
 * @param request CreateKnowledgeBaseRequest
 * @return CreateKnowledgeBaseResponse
 */
async function createKnowledgeBase(request: CreateKnowledgeBaseRequest): CreateKnowledgeBaseResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return createKnowledgeBaseWithOptions(request, headers, runtime);
}

model CreateKnowledgeBaseJobRequest {
  accessibility?: string(name='Accessibility', example='PUBLIC'),
  description?: string(name='Description', example='This is a description of the knowledge base job.'),
  ecsSpecs?: [ 
    {
      CPU?: int32(name='CPU', description='CPU核数', example='2'),
      driver?: string(name='Driver', description='驱动版本', example='535.161.08'),
      GPU?: int32(name='GPU', description='GPU卡数', example='1'),
      GPUType?: string(name='GPUType', description='GPU类型'),
      instanceType?: string(name='InstanceType', description='机型名称', example='ecs.c6.large'),
      memory?: int32(name='Memory', description='内存大小', example='8'),
      podCount?: int32(name='PodCount', description='副本数量', example='1'),
      sharedMemory?: int32(name='SharedMemory', description='共享内存容量'),
      type?: string(name='Type', description='节点类型', example='Worker'),
    }
  ](name='EcsSpecs'),
  embeddingConfig?: {
    batchSize?: int32(name='BatchSize', description='Embedding分批大小', example='8'),
    concurrency?: int32(name='Concurrency', description='Embedding并发数', example='1'),
  }(name='EmbeddingConfig'),
  jobAction?: string(name='JobAction'),
  maxRunningTimeInSeconds?: int32(name='MaxRunningTimeInSeconds', example='86400'),
  resourceId?: string(name='ResourceId', example='public-cluster'),
  userVpc?: {
    securityGroupId?: string(name='SecurityGroupId', description='安全组ID'),
    vSwitchId?: string(name='VSwitchId', description='交换机ID'),
    vpcId?: string(name='VpcId', description='VPC ID。'),
  }(name='UserVpc'),
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.', example='478**'),
}

model CreateKnowledgeBaseJobResponseBody = {
  knowledgeBaseJobId?: string(name='KnowledgeBaseJobId', example='kbjob-9mn******1z54'),
  requestId?: string(name='RequestId', example='963BD7F9-0C02-5594-9550-BCC6DD43E3C0'),
}

model CreateKnowledgeBaseJobResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: CreateKnowledgeBaseJobResponseBody(name='body'),
}

/**
 * @summary 创建知识库任务
 *
 * @param request CreateKnowledgeBaseJobRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return CreateKnowledgeBaseJobResponse
 */
@context("createKnowledgeBaseJobWithContext")
async function createKnowledgeBaseJobWithOptions(KnowledgeBaseId: string, request: CreateKnowledgeBaseJobRequest, headers: map[string]string, runtime: $RuntimeOptions): CreateKnowledgeBaseJobResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.accessibility)) {
    body['Accessibility'] = request.accessibility;
  }
  if (!$isNull(request.description)) {
    body['Description'] = request.description;
  }
  if (!$isNull(request.ecsSpecs)) {
    body['EcsSpecs'] = request.ecsSpecs;
  }
  if (!$isNull(request.embeddingConfig)) {
    body['EmbeddingConfig'] = request.embeddingConfig;
  }
  if (!$isNull(request.jobAction)) {
    body['JobAction'] = request.jobAction;
  }
  if (!$isNull(request.maxRunningTimeInSeconds)) {
    body['MaxRunningTimeInSeconds'] = request.maxRunningTimeInSeconds;
  }
  if (!$isNull(request.resourceId)) {
    body['ResourceId'] = request.resourceId;
  }
  if (!$isNull(request.userVpc)) {
    body['UserVpc'] = request.userVpc;
  }
  if (!$isNull(request.workspaceId)) {
    body['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'CreateKnowledgeBaseJob',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}/knowledgebasejobs`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 创建知识库任务
 *
 * @param request CreateKnowledgeBaseJobRequest
 * @return CreateKnowledgeBaseJobResponse
 */
async function createKnowledgeBaseJob(KnowledgeBaseId: string, request: CreateKnowledgeBaseJobRequest): CreateKnowledgeBaseJobResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return createKnowledgeBaseJobWithOptions(KnowledgeBaseId, request, headers, runtime);
}

model DeleteKnowledgeBaseRequest {
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.', example='478***'),
}

model DeleteKnowledgeBaseResponseBody = {
  requestId?: string(name='RequestId', example='C25324E3-18E6-50D8-9026-16D74AAEEB26'),
}

model DeleteKnowledgeBaseResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DeleteKnowledgeBaseResponseBody(name='body'),
}

/**
 * @summary 删除知识库
 *
 * @param request DeleteKnowledgeBaseRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return DeleteKnowledgeBaseResponse
 */
@context("deleteKnowledgeBaseWithContext")
async function deleteKnowledgeBaseWithOptions(KnowledgeBaseId: string, request: DeleteKnowledgeBaseRequest, headers: map[string]string, runtime: $RuntimeOptions): DeleteKnowledgeBaseResponse {
  request.validate();
  var query : map[string]any = {};
  if (!$isNull(request.workspaceId)) {
    query['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DeleteKnowledgeBase',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}`,
    method = 'DELETE',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 删除知识库
 *
 * @param request DeleteKnowledgeBaseRequest
 * @return DeleteKnowledgeBaseResponse
 */
async function deleteKnowledgeBase(KnowledgeBaseId: string, request: DeleteKnowledgeBaseRequest): DeleteKnowledgeBaseResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return deleteKnowledgeBaseWithOptions(KnowledgeBaseId, request, headers, runtime);
}

model DeleteKnowledgeBaseJobRequest {
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.', example='478***'),
}

model DeleteKnowledgeBaseJobResponseBody = {
  requestId?: string(name='RequestId', example='48E6392E-C3C9-5212-9FAD-13256ABD9AF6'),
}

model DeleteKnowledgeBaseJobResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DeleteKnowledgeBaseJobResponseBody(name='body'),
}

/**
 * @summary 删除知识库任务
 *
 * @param request DeleteKnowledgeBaseJobRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return DeleteKnowledgeBaseJobResponse
 */
@context("deleteKnowledgeBaseJobWithContext")
async function deleteKnowledgeBaseJobWithOptions(KnowledgeBaseId: string, KnowledgeBaseJobId: string, request: DeleteKnowledgeBaseJobRequest, headers: map[string]string, runtime: $RuntimeOptions): DeleteKnowledgeBaseJobResponse {
  request.validate();
  var query : map[string]any = {};
  if (!$isNull(request.workspaceId)) {
    query['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DeleteKnowledgeBaseJob',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}/knowledgebasejobs/${$URL.percentEncode(KnowledgeBaseJobId)}`,
    method = 'DELETE',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 删除知识库任务
 *
 * @param request DeleteKnowledgeBaseJobRequest
 * @return DeleteKnowledgeBaseJobResponse
 */
async function deleteKnowledgeBaseJob(KnowledgeBaseId: string, KnowledgeBaseJobId: string, request: DeleteKnowledgeBaseJobRequest): DeleteKnowledgeBaseJobResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return deleteKnowledgeBaseJobWithOptions(KnowledgeBaseId, KnowledgeBaseJobId, request, headers, runtime);
}

model GetKnowledgeBaseRequest {
  versionName?: string(name='VersionName', example='v1'),
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.', example='478**'),
}

model GetKnowledgeBaseResponseBody = {
  accessibility?: string(name='Accessibility', example='PRIVATE'),
  autoUpdateConfig?: {
    ecsSpecs?: [ 
      {
        CPU?: int32(name='CPU', description='CPU核数'),
        driver?: string(name='Driver', description='驱动版本'),
        GPU?: int32(name='GPU', description='GPU卡数'),
        GPUType?: string(name='GPUType', description='GPU类型'),
        instanceType?: string(name='InstanceType', description='机型名称', example='ecs.c6.large'),
        memory?: int32(name='Memory', description='内存大小'),
        podCount?: int32(name='PodCount', description='副本数量'),
        sharedMemory?: int32(name='SharedMemory', description='共享内存容量'),
        type?: string(name='Type', description='节点类型', example='Worker'),
      }
    ](name='EcsSpecs', description='运行资源配置'),
    embeddingConfig?: {
      batchSize?: int32(name='BatchSize', description='Embedding分批大小', example='8'),
      concurrency?: int32(name='Concurrency', description='Embedding并发数', example='1'),
    }(name='EmbeddingConfig', description='Embedding配置'),
    maxRunningTimeInSeconds?: int32(name='MaxRunningTimeInSeconds', description='任务最大运行时间', example='86400'),
    resourceId?: string(name='ResourceId', description='资源组ID', example='public-cluster'),
    status?: string(name='Status', description='知识库自动更新状态', example='Enable'),
    userVpc?: UserVpc(name='UserVpc', description='用户VPC配置'),
  }(name='AutoUpdateConfig'),
  chunkConfig?: {
    chunkDuration?: int32(name='ChunkDuration', description='分块时长', example='30'),
    chunkOverlap?: int32(name='ChunkOverlap', description='分块重叠大小', example='200'),
    chunkSize?: int32(name='ChunkSize', description='分块大小', example='1024'),
    chunkStrategy?: string(name='ChunkStrategy', description='分块策略', example='Default'),
  }(name='ChunkConfig'),
  creator?: string(name='Creator', example='2485765****023475'),
  dataSources?: [ 
    {
      uri?: string(name='Uri', description='统一资源识别码', example='oss://test-bucket.oss-cn-hangzhou-internal.aliyuncs.com/langstudio/source/'),
    }
  ](name='DataSources'),
  datasetId?: string(name='DatasetId', example='d-cupbwkk5us9xpjz870'),
  description?: string(name='Description', example='This is a description of the knowledge base.'),
  embeddingConfig?: {
    connectionId?: string(name='ConnectionId', description='Embedding连接ID', example='conn-r3o7******38bh'),
    connectionName?: string(name='ConnectionName', description='Embedding连接名称', example='myEmbeddingConn'),
    model?: string(name='Model', description='模型', example='text-embedding-v4'),
  }(name='EmbeddingConfig'),
  gmtCreateTime?: string(name='GmtCreateTime', example='2024-12-15T14:46:23Z'),
  gmtModifiedTime?: string(name='GmtModifiedTime', example='2025-12-18T19:32:58Z'),
  indexColumnConfig?: {
    columnDefinitions?: [ 
      {
        key?: string(name='Key', description='列Key'),
      }
    ](name='ColumnDefinitions', description='所有列名'),
    contentColumns?: [ 
      {
        key?: string(name='Key', description='列Key'),
      }
    ](name='ContentColumns', description='内容检索列'),
    embeddingColumns?: [ 
      {
        key?: string(name='Key', description='列Key'),
      }
    ](name='EmbeddingColumns', description='Embedding列'),
  }(name='IndexColumnConfig'),
  knowledgeBaseId?: string(name='KnowledgeBaseId', example='d-ksicx823d'),
  knowledgeBaseType?: string(name='KnowledgeBaseType', example='TEXT'),
  metaDataConfig?: {
    customMetaData?: [ 
      {
        key?: string(name='Key', description='元数据Key'),
        referenceCount?: int32(name='ReferenceCount', description='引用次数'),
        valueCount?: int32(name='ValueCount', description='值的个数'),
        valueType?: string(name='ValueType', description='元数据Value类型'),
      }
    ](name='CustomMetaData', description='自定义元数据'),
  }(name='MetaDataConfig'),
  name?: string(name='Name', example='myName'),
  outputDir?: string(name='OutputDir', example='oss://test-bucket.oss-cn-hangzhou-internal.aliyuncs.com/langstudio/output/'),
  requestId?: string(name='RequestId', example='963BD7F9-0C02-5594-9550-BCC6DD43E3C0'),
  runtimeId?: string(name='RuntimeId', example='rtime-apje******beaz'),
  vectorDBConfig?: {
    collectionName?: string(name='CollectionName', description='Collectioin名称', example='my_collection'),
    connectionId?: string(name='ConnectionId', description='Embedding连接ID', example='conn-7y5y******jja7'),
    connectionName?: string(name='ConnectionName', description='VectorDB连接名称', example='myVectorConn'),
    vectorDBType?: string(name='VectorDBType', description='VectorDB类型', example='Milvus'),
  }(name='VectorDBConfig'),
  versionName?: string(name='VersionName'),
  workspaceId?: string(name='WorkspaceId', example='478**'),
}

model GetKnowledgeBaseResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetKnowledgeBaseResponseBody(name='body'),
}

/**
 * @summary 查看知识库
 *
 * @param request GetKnowledgeBaseRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return GetKnowledgeBaseResponse
 */
@context("getKnowledgeBaseWithContext")
async function getKnowledgeBaseWithOptions(KnowledgeBaseId: string, request: GetKnowledgeBaseRequest, headers: map[string]string, runtime: $RuntimeOptions): GetKnowledgeBaseResponse {
  request.validate();
  var query : map[string]any = {};
  if (!$isNull(request.versionName)) {
    query['VersionName'] = request.versionName;
  }
  if (!$isNull(request.workspaceId)) {
    query['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'GetKnowledgeBase',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}`,
    method = 'GET',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 查看知识库
 *
 * @param request GetKnowledgeBaseRequest
 * @return GetKnowledgeBaseResponse
 */
async function getKnowledgeBase(KnowledgeBaseId: string, request: GetKnowledgeBaseRequest): GetKnowledgeBaseResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return getKnowledgeBaseWithOptions(KnowledgeBaseId, request, headers, runtime);
}

model GetKnowledgeBaseJobRequest {
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.', example='478***'),
}

model GetKnowledgeBaseJobResponseBody = {
  accessibility?: string(name='Accessibility', example='PUBLIC'),
  creator?: string(name='Creator'),
  description?: string(name='Description', example='project name pass the check'),
  ecsSpecs?: [ 
    {
      CPU?: int32(name='CPU', description='CPU核数'),
      driver?: string(name='Driver', description='驱动版本', example='535.161.08'),
      GPU?: int32(name='GPU', description='GPU卡数'),
      GPUType?: string(name='GPUType', description='GPU类型'),
      instanceType?: string(name='InstanceType', description='机型名称', example='ecs.c6.large'),
      memory?: int32(name='Memory', description='内存大小'),
      podCount?: int32(name='PodCount', description='副本数量', example='1'),
      sharedMemory?: int32(name='SharedMemory', description='共享内存容量'),
      type?: string(name='Type', description='节点类型', example='Worker'),
    }
  ](name='EcsSpecs'),
  embeddingConfig?: {
    batchSize?: int32(name='BatchSize', description='Embedding分批大小', example='10'),
    concurrency?: int32(name='Concurrency', description='Embedding并发数', example='2'),
  }(name='EmbeddingConfig'),
  errorMessage?: string(name='ErrorMessage'),
  gmtCreateTime?: string(name='GmtCreateTime', example='2025-09-24T07:33:53Z'),
  gmtFinishTime?: string(name='GmtFinishTime', example='2025-02-08T15:45:12Z'),
  gmtModifiedTime?: string(name='GmtModifiedTime', example='2025-06-11T08:58:35.438Z'),
  jobAction?: string(name='JobAction', example='UpdateScheduleConfig'),
  knowledgeBaseId?: string(name='KnowledgeBaseId', example='d-nacr******sxd2'),
  knowledgeBaseJobId?: string(name='KnowledgeBaseJobId', example='kbjob-9m******54'),
  knowledgeBaseJobResult?: {
    addChunkCount?: int32(name='AddChunkCount', description='增加Chunk数量'),
    deleteChunkCount?: int32(name='DeleteChunkCount', description='删除Chunk数量'),
    totalFileCount?: int32(name='TotalFileCount', description='总处理文件数'),
  }(name='KnowledgeBaseJobResult'),
  maxRunningTimeInSeconds?: int32(name='MaxRunningTimeInSeconds', example='86400'),
  pipelineRunInfo?: {
    pipelineRunId?: string(name='PipelineRunId', description='PaiFlow工作流运行ID', example='flow-fi8z******g4gy'),
  }(name='PipelineRunInfo'),
  requestId?: string(name='RequestId', example='C25324E3-18E6-50D8-9026-16D74AAEEB26'),
  resourceId?: string(name='ResourceId'),
  status?: string(name='Status', example='discovering'),
  userVpc?: {
    securityGroupId?: string(name='SecurityGroupId', description='安全组ID'),
    vSwitchId?: string(name='VSwitchId', description='交换机ID'),
    vpcId?: string(name='VpcId', description='VPC ID。'),
  }(name='UserVpc'),
  workspaceId?: string(name='WorkspaceId', example='478***'),
}

model GetKnowledgeBaseJobResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetKnowledgeBaseJobResponseBody(name='body'),
}

/**
 * @summary 查看知识库任务
 *
 * @param request GetKnowledgeBaseJobRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return GetKnowledgeBaseJobResponse
 */
@context("getKnowledgeBaseJobWithContext")
async function getKnowledgeBaseJobWithOptions(KnowledgeBaseId: string, KnowledgeBaseJobId: string, request: GetKnowledgeBaseJobRequest, headers: map[string]string, runtime: $RuntimeOptions): GetKnowledgeBaseJobResponse {
  request.validate();
  var query : map[string]any = {};
  if (!$isNull(request.workspaceId)) {
    query['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'GetKnowledgeBaseJob',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}/knowledgebasejobs/${$URL.percentEncode(KnowledgeBaseJobId)}`,
    method = 'GET',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 查看知识库任务
 *
 * @param request GetKnowledgeBaseJobRequest
 * @return GetKnowledgeBaseJobResponse
 */
async function getKnowledgeBaseJob(KnowledgeBaseId: string, KnowledgeBaseJobId: string, request: GetKnowledgeBaseJobRequest): GetKnowledgeBaseJobResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return getKnowledgeBaseJobWithOptions(KnowledgeBaseId, KnowledgeBaseJobId, request, headers, runtime);
}

model ListKnowledgeBaseJobsRequest {
  jobAction?: string(name='JobAction', example='SyncIndex'),
  knowledgeBaseJobId?: string(name='KnowledgeBaseJobId', example='kbjob-9m******54'),
  maxResults?: int32(name='MaxResults', example='10'),
  nextToken?: string(name='NextToken'),
  order?: string(name='Order', example='DESC'),
  pageNumber?: int32(name='PageNumber', example='1'),
  pageSize?: int32(name='PageSize', example='10'),
  sortBy?: string(name='SortBy', example='GmtCreateTime'),
  status?: string(name='Status'),
  workspaceId?: string(name='WorkspaceId', example='478**'),
}

model ListKnowledgeBaseJobsResponseBody = {
  knowledgeBaseJobs?: [
    KnowledgeBaseJob
  ](name='KnowledgeBaseJobs'),
  maxResults?: int32(name='MaxResults'),
  nextToken?: string(name='NextToken'),
  requestId?: string(name='RequestId', example='963BD7F9-0C02-5594-9550-BCC6DD43E3C0'),
  totalCount?: int32(name='TotalCount'),
}

model ListKnowledgeBaseJobsResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ListKnowledgeBaseJobsResponseBody(name='body'),
}

/**
 * @summary 获取知识库任务列表
 *
 * @param request ListKnowledgeBaseJobsRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return ListKnowledgeBaseJobsResponse
 */
@context("listKnowledgeBaseJobsWithContext")
async function listKnowledgeBaseJobsWithOptions(KnowledgeBaseId: string, request: ListKnowledgeBaseJobsRequest, headers: map[string]string, runtime: $RuntimeOptions): ListKnowledgeBaseJobsResponse {
  request.validate();
  var query : map[string]any = {};
  if (!$isNull(request.jobAction)) {
    query['JobAction'] = request.jobAction;
  }
  if (!$isNull(request.knowledgeBaseJobId)) {
    query['KnowledgeBaseJobId'] = request.knowledgeBaseJobId;
  }
  if (!$isNull(request.maxResults)) {
    query['MaxResults'] = request.maxResults;
  }
  if (!$isNull(request.nextToken)) {
    query['NextToken'] = request.nextToken;
  }
  if (!$isNull(request.order)) {
    query['Order'] = request.order;
  }
  if (!$isNull(request.pageNumber)) {
    query['PageNumber'] = request.pageNumber;
  }
  if (!$isNull(request.pageSize)) {
    query['PageSize'] = request.pageSize;
  }
  if (!$isNull(request.sortBy)) {
    query['SortBy'] = request.sortBy;
  }
  if (!$isNull(request.status)) {
    query['Status'] = request.status;
  }
  if (!$isNull(request.workspaceId)) {
    query['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'ListKnowledgeBaseJobs',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}/knowledgebasejobs`,
    method = 'GET',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 获取知识库任务列表
 *
 * @param request ListKnowledgeBaseJobsRequest
 * @return ListKnowledgeBaseJobsResponse
 */
async function listKnowledgeBaseJobs(KnowledgeBaseId: string, request: ListKnowledgeBaseJobsRequest): ListKnowledgeBaseJobsResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return listKnowledgeBaseJobsWithOptions(KnowledgeBaseId, request, headers, runtime);
}

model ListKnowledgeBasesRequest {
  creator?: string(name='Creator'),
  knowledgeBaseId?: string(name='KnowledgeBaseId'),
  knowledgeBaseType?: string(name='KnowledgeBaseType'),
  maxResults?: int32(name='MaxResults'),
  name?: string(name='Name'),
  nextToken?: string(name='NextToken'),
  order?: string(name='Order', example='DESC'),
  pageNumber?: int32(name='PageNumber'),
  pageSize?: int32(name='PageSize'),
  sortBy?: string(name='SortBy', example='GmtCreateTime'),
  workspaceId?: string(name='WorkspaceId'),
}

model ListKnowledgeBasesResponseBody = {
  knowledgeBases?: [
    KnowledgeBase
  ](name='KnowledgeBases'),
  maxResults?: int32(name='MaxResults'),
  nextToken?: string(name='NextToken'),
  requestId?: string(name='RequestId', example='35686626-8D83-5ADE-B400-08A6613A6057'),
  totalCount?: int32(name='TotalCount'),
}

model ListKnowledgeBasesResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ListKnowledgeBasesResponseBody(name='body'),
}

/**
 * @summary 获取知识库列表
 *
 * @param request ListKnowledgeBasesRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return ListKnowledgeBasesResponse
 */
@context("listKnowledgeBasesWithContext")
async function listKnowledgeBasesWithOptions(request: ListKnowledgeBasesRequest, headers: map[string]string, runtime: $RuntimeOptions): ListKnowledgeBasesResponse {
  request.validate();
  var query : map[string]any = {};
  if (!$isNull(request.creator)) {
    query['Creator'] = request.creator;
  }
  if (!$isNull(request.knowledgeBaseId)) {
    query['KnowledgeBaseId'] = request.knowledgeBaseId;
  }
  if (!$isNull(request.knowledgeBaseType)) {
    query['KnowledgeBaseType'] = request.knowledgeBaseType;
  }
  if (!$isNull(request.maxResults)) {
    query['MaxResults'] = request.maxResults;
  }
  if (!$isNull(request.name)) {
    query['Name'] = request.name;
  }
  if (!$isNull(request.nextToken)) {
    query['NextToken'] = request.nextToken;
  }
  if (!$isNull(request.order)) {
    query['Order'] = request.order;
  }
  if (!$isNull(request.pageNumber)) {
    query['PageNumber'] = request.pageNumber;
  }
  if (!$isNull(request.pageSize)) {
    query['PageSize'] = request.pageSize;
  }
  if (!$isNull(request.sortBy)) {
    query['SortBy'] = request.sortBy;
  }
  if (!$isNull(request.workspaceId)) {
    query['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'ListKnowledgeBases',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases`,
    method = 'GET',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 获取知识库列表
 *
 * @param request ListKnowledgeBasesRequest
 * @return ListKnowledgeBasesResponse
 */
async function listKnowledgeBases(request: ListKnowledgeBasesRequest): ListKnowledgeBasesResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return listKnowledgeBasesWithOptions(request, headers, runtime);
}

model RetrieveKnowledgeBaseRequest {
  hybridStrategyConfig?: string(name='HybridStrategyConfig', example='{
  "Strategy": "rrf",
  "RRFK":60,
  "Weight": 0.5
}'),
  metaDataFilterConditions?: string(name='MetaDataFilterConditions', example='{
    "FilterCondition": "and", 
    "MetaDataFilters": [
        {
            "Key": "key1", 
            "Value": "value1", 
            "Operator": "=="
        },
        {
            "Key": "key2", 
            "Value": "value2", 
            "Operator": "!="
        },
        {
            "Key": "file_name", 
            "Value": "prefix", 
            "Operator": "contains"
        }
    ]
}'),
  query?: string(name='Query', description='This parameter is required.'),
  queryMode?: string(name='QueryMode', example='dense'),
  rerankConfig?: string(name='RerankConfig', example='{
   "ConnectionId":"conn-xxx",
    "Model": "qwen-max",
    "TopK": 5
}'),
  rewriteConfig?: string(name='RewriteConfig', example='{
    "ConnectionId":"conn-xxx",
    "Model": "qwen-max",
    "Temperature": 0.7,
    "TopP": 0.9,
    "PresencePenalty": 0.5,
    "FrequencyPenalty": 0.5,
    "Seed": 0,
    "MaxTokens": 1024,
    "Stop": [],
    "EnableThinking": true
}'),
  scoreThreshold?: float(name='ScoreThreshold'),
  topK?: int32(name='TopK', example='5'),
  versionName?: string(name='VersionName', example='v1'),
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.', example='174***'),
}

model RetrieveKnowledgeBaseResponseBody = {
  knowledgeBaseFileChunks?: [
    KnowledgeBaseFileChunk
  ](name='KnowledgeBaseFileChunks'),
}

model RetrieveKnowledgeBaseResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: RetrieveKnowledgeBaseResponseBody(name='body'),
}

/**
 * @summary 搜索知识库
 *
 * @param request RetrieveKnowledgeBaseRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return RetrieveKnowledgeBaseResponse
 */
@context("retrieveKnowledgeBaseWithContext")
async function retrieveKnowledgeBaseWithOptions(KnowledgeBaseId: string, request: RetrieveKnowledgeBaseRequest, headers: map[string]string, runtime: $RuntimeOptions): RetrieveKnowledgeBaseResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.hybridStrategyConfig)) {
    body['HybridStrategyConfig'] = request.hybridStrategyConfig;
  }
  if (!$isNull(request.metaDataFilterConditions)) {
    body['MetaDataFilterConditions'] = request.metaDataFilterConditions;
  }
  if (!$isNull(request.query)) {
    body['Query'] = request.query;
  }
  if (!$isNull(request.queryMode)) {
    body['QueryMode'] = request.queryMode;
  }
  if (!$isNull(request.rerankConfig)) {
    body['RerankConfig'] = request.rerankConfig;
  }
  if (!$isNull(request.rewriteConfig)) {
    body['RewriteConfig'] = request.rewriteConfig;
  }
  if (!$isNull(request.scoreThreshold)) {
    body['ScoreThreshold'] = request.scoreThreshold;
  }
  if (!$isNull(request.topK)) {
    body['TopK'] = request.topK;
  }
  if (!$isNull(request.versionName)) {
    body['VersionName'] = request.versionName;
  }
  if (!$isNull(request.workspaceId)) {
    body['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'RetrieveKnowledgeBase',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}/action/retrieve`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 搜索知识库
 *
 * @param request RetrieveKnowledgeBaseRequest
 * @return RetrieveKnowledgeBaseResponse
 */
async function retrieveKnowledgeBase(KnowledgeBaseId: string, request: RetrieveKnowledgeBaseRequest): RetrieveKnowledgeBaseResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return retrieveKnowledgeBaseWithOptions(KnowledgeBaseId, request, headers, runtime);
}

model UpdateKnowledgeBaseRequest {
  autoUpdateConfig?: {
    ecsSpecs?: [ 
      {
        CPU?: int32(name='CPU', description='CPU核数'),
        driver?: string(name='Driver', description='驱动版本'),
        GPU?: int32(name='GPU', description='GPU卡数'),
        GPUType?: string(name='GPUType', description='GPU类型'),
        instanceType?: string(name='InstanceType', description='机型名称'),
        memory?: int32(name='Memory', description='内存大小'),
        podCount?: int32(name='PodCount', description='副本数量'),
        sharedMemory?: int32(name='SharedMemory', description='共享内存容量'),
        type?: string(name='Type', description='节点类型'),
      }
    ](name='EcsSpecs', description='运行资源配置'),
    embeddingConfig?: {
      batchSize?: int32(name='BatchSize', description='Embedding分批大小'),
      concurrency?: int32(name='Concurrency', description='Embedding并发数'),
    }(name='EmbeddingConfig', description='Embedding配置'),
    maxRunningTimeInSeconds?: int32(name='MaxRunningTimeInSeconds', description='任务最大运行时间', example='86400'),
    resourceId?: string(name='ResourceId', description='资源组ID'),
    status?: string(name='Status', description='知识库自动更新状态'),
    userVpc?: UserVpc(name='UserVpc', description='用户VPC配置'),
  }(name='AutoUpdateConfig'),
  bindRuntime?: boolean(name='BindRuntime'),
  description?: string(name='Description'),
  metaDataConfig?: {
    customMetaData?: [ 
      {
        key?: string(name='Key', description='元数据Key'),
        valueType?: string(name='ValueType', description='元数据Value类型', example='String'),
      }
    ](name='CustomMetaData', description='自定义元数据'),
  }(name='MetaDataConfig'),
  runtimeId?: string(name='RuntimeId'),
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.'),
}

model UpdateKnowledgeBaseResponseBody = {
  requestId?: string(name='RequestId'),
}

model UpdateKnowledgeBaseResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: UpdateKnowledgeBaseResponseBody(name='body'),
}

/**
 * @summary 更新知识库
 *
 * @param request UpdateKnowledgeBaseRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return UpdateKnowledgeBaseResponse
 */
@context("updateKnowledgeBaseWithContext")
async function updateKnowledgeBaseWithOptions(KnowledgeBaseId: string, request: UpdateKnowledgeBaseRequest, headers: map[string]string, runtime: $RuntimeOptions): UpdateKnowledgeBaseResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.autoUpdateConfig)) {
    body['AutoUpdateConfig'] = request.autoUpdateConfig;
  }
  if (!$isNull(request.bindRuntime)) {
    body['BindRuntime'] = request.bindRuntime;
  }
  if (!$isNull(request.description)) {
    body['Description'] = request.description;
  }
  if (!$isNull(request.metaDataConfig)) {
    body['MetaDataConfig'] = request.metaDataConfig;
  }
  if (!$isNull(request.runtimeId)) {
    body['RuntimeId'] = request.runtimeId;
  }
  if (!$isNull(request.workspaceId)) {
    body['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'UpdateKnowledgeBase',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}`,
    method = 'PUT',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 更新知识库
 *
 * @param request UpdateKnowledgeBaseRequest
 * @return UpdateKnowledgeBaseResponse
 */
async function updateKnowledgeBase(KnowledgeBaseId: string, request: UpdateKnowledgeBaseRequest): UpdateKnowledgeBaseResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return updateKnowledgeBaseWithOptions(KnowledgeBaseId, request, headers, runtime);
}

model UpdateKnowledgeBaseJobRequest {
  description?: string(name='Description', example='This is a description of the knowledge base job.'),
  workspaceId?: string(name='WorkspaceId', description='This parameter is required.', example='285***'),
}

model UpdateKnowledgeBaseJobResponseBody = {
  requestId?: string(name='RequestId', example='35686626-8D83-5ADE-B400-08A6613A6057'),
}

model UpdateKnowledgeBaseJobResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: UpdateKnowledgeBaseJobResponseBody(name='body'),
}

/**
 * @summary 更新知识库任务
 *
 * @param request UpdateKnowledgeBaseJobRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return UpdateKnowledgeBaseJobResponse
 */
@context("updateKnowledgeBaseJobWithContext")
async function updateKnowledgeBaseJobWithOptions(KnowledgeBaseId: string, KnowledgeBaseJobId: string, request: UpdateKnowledgeBaseJobRequest, headers: map[string]string, runtime: $RuntimeOptions): UpdateKnowledgeBaseJobResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.description)) {
    body['Description'] = request.description;
  }
  if (!$isNull(request.workspaceId)) {
    body['WorkspaceId'] = request.workspaceId;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'UpdateKnowledgeBaseJob',
    version = '2024-07-10',
    protocol = 'HTTPS',
    pathname = `/api/v1/langstudio/knowledgebases/${$URL.percentEncode(KnowledgeBaseId)}/knowledgebasejobs/${$URL.percentEncode(KnowledgeBaseJobId)}`,
    method = 'PUT',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'json',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 更新知识库任务
 *
 * @param request UpdateKnowledgeBaseJobRequest
 * @return UpdateKnowledgeBaseJobResponse
 */
async function updateKnowledgeBaseJob(KnowledgeBaseId: string, KnowledgeBaseJobId: string, request: UpdateKnowledgeBaseJobRequest): UpdateKnowledgeBaseJobResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return updateKnowledgeBaseJobWithOptions(KnowledgeBaseId, KnowledgeBaseJobId, request, headers, runtime);
}

