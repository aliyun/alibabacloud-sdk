/**
  *
  */
import BaseClientBuilder;
import TeaAsyncHandler;
import TeaRequest;
import AsyncRequestBody;
import RequestBody;
import AsyncResponseHandler;
import ClientConfiguration;
import ClientExecutionParams;
extends BaseClientBuilder;
type @product = string
type @version = string
type @endpointRule = string
type @endpointMap = map[string]string
type @REQUEST = TeaRequest
type @handler = TeaAsyncHandler

init(configuration: ClientConfiguration){
  @handler = new TeaAsyncHandler(configuration);
  @product = 'AgentIdentityData';
  @version = '2025-11-27';
  @endpointRule = 'regional';
  @endpointMap = {
  };
}

function close(): void {
  @handler.close();
}

model AssumeRoleForWorkloadIdentityRequest {
  durationSeconds?: string(name='DurationSeconds', example='3600', position='Body'),
  policy?: string(name='Policy', example='{"Statement": [{"Action": ["*"],"Effect": "Allow","Resource": ["*"]}],"Version":"1"}', position='Body'),
  roleSessionName?: string(name='RoleSessionName', example='session-name', position='Body'),
  workloadAccessToken?: string(name='WorkloadAccessToken', example='eyAgImFsZyI6ICJSUzI1NiIsIC****', position='Body'),
}

model AssumeRoleForWorkloadIdentityResponseBody = {
  assumedRoleUser?: {
    arn?: string(name='Arn', example='acs:ram::113511544585****:role/testoidc/TestOidcAssumedRoleSession'),
    assumedRoleId?: string(name='AssumedRoleId', example='33157794895460****'),
  }(name='AssumedRoleUser'),
  credentials?: {
    accessKeyId?: string(name='AccessKeyId', example='STS.NTTcrF2UNgeshFRTj9i7hpkah'),
    accessKeySecret?: string(name='AccessKeySecret', example='3fNFJk4UA6KLEG2GXiBe9ZE43ejFRJsea1yT1rguTVY6'),
    expiration?: string(name='Expiration', example='2025-04-28T03:06:19Z'),
    securityToken?: string(name='SecurityToken', example='CAIShwJ1q6Ft5B2yfSjIr5bSEsj4g7BihPWGWHz****'),
  }(name='Credentials'),
  requestId?: string(name='RequestId', example='B7F68680-F3FE-5BF1-A824-4DE0B1AC9B23'),
  workloadContextInfo?: {
    userContext?: {
      jwtClaims?: {
        audiences?: string(name='Audiences', example='["test-aud","test-aud-2"]'),
        issuer?: string(name='Issuer', example='https://oauth.aliyun.com'),
        subject?: string(name='Subject', example='externalUser'),
      }(name='JwtClaims'),
      userId?: string(name='UserId', example='externalUser'),
    }(name='UserContext'),
    workloadIdentityArn?: string(name='WorkloadIdentityArn', example='acs:agentidentity:cn-beijing:1778*****8462:workloadidentitydirectory/default/workloadidentity/workload-bc7***'),
  }(name='WorkloadContextInfo'),
}

model AssumeRoleForWorkloadIdentityResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: AssumeRoleForWorkloadIdentityResponseBody(name='body'),
}

/**
  * @param request  the request parameters of AssumeRoleForWorkloadIdentity  AssumeRoleForWorkloadIdentityRequest
  * @return AssumeRoleForWorkloadIdentityResponse
 */
async function assumeRoleForWorkloadIdentity(request: AssumeRoleForWorkloadIdentityRequest): AssumeRoleForWorkloadIdentityResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RPC', 'AssumeRoleForWorkloadIdentity', 'POST', '/', 'json', true, 'form', request);
}

model CompleteResourceTokenAuthRequest {
  sessionURI?: string(name='SessionURI', example='urn:ietf:params:oauth:request_uri:3030cabc-****-****-****-d0054944102a', position='Body'),
  userIdentifier?: {
    userId?: string(name='UserId', example='externalUser'),
    userJWT?: string(name='UserJWT', example='eyAgImFsZyI6ICJSU****'),
  }(name='UserIdentifier', shrink='json', position='Body'),
}

model CompleteResourceTokenAuthResponseBody = {
  requestId?: string(name='RequestId', example='6A3344F3-BFA1-5BCB-B5F5-17572C0D5586'),
}

model CompleteResourceTokenAuthResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: CompleteResourceTokenAuthResponseBody(name='body'),
}

/**
  * @param request  the request parameters of CompleteResourceTokenAuth  CompleteResourceTokenAuthRequest
  * @return CompleteResourceTokenAuthResponse
 */
async function completeResourceTokenAuth(request: CompleteResourceTokenAuthRequest): CompleteResourceTokenAuthResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RPC', 'CompleteResourceTokenAuth', 'POST', '/', 'json', true, 'form', request);
}

model GetResourceAPIKeyRequest {
  resourceCredentialProviderName?: string(name='ResourceCredentialProviderName', example='test-api-key-provider', position='Body'),
  workloadAccessToken?: string(name='WorkloadAccessToken', example='eyAgImFsZyI6ICJSUzI1N****', position='Body'),
}

model GetResourceAPIKeyResponseBody = {
  APIKey?: string(name='APIKey', example='sk-ds*****'),
  requestId?: string(name='RequestId', example='6E444C1B-1106-56A8-81E0-E3B049BF44AD'),
}

model GetResourceAPIKeyResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetResourceAPIKeyResponseBody(name='body'),
}

/**
  * @param request  the request parameters of GetResourceAPIKey  GetResourceAPIKeyRequest
  * @return GetResourceAPIKeyResponse
 */
async function getResourceAPIKey(request: GetResourceAPIKeyRequest): GetResourceAPIKeyResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RPC', 'GetResourceAPIKey', 'POST', '/', 'json', true, 'form', request);
}

model GetResourceOAuth2TokenRequest {
  customParameters?: map[string]any(name='CustomParameters', example='{"param1": "test-param", "param2": "test-param2"}', shrink='json', position='Body'),
  customState?: string(name='CustomState', example='user-defined-value', position='Body'),
  forceAuthentication?: boolean(name='ForceAuthentication', example='False', position='Body'),
  oAuth2Flow?: string(name='OAuth2Flow', example='USER_FEDERATION', position='Body'),
  resourceCredentialProviderName?: string(name='ResourceCredentialProviderName', example='oauth_credential_provider', position='Body'),
  resourceOAuth2ReturnURL?: string(name='ResourceOAuth2ReturnURL', example='https://example.com', position='Body'),
  scopes?: [ string ](name='Scopes', shrink='json', position='Body'),
  sessionURI?: string(name='SessionURI', example='urn:ietf:params:oauth:request_uri:43b7df1a-****-****-****-709375a44d8a', position='Body'),
  workloadAccessToken?: string(name='WorkloadAccessToken', example='eyAgImFsZyI6ICJSUzI1N****', position='Body'),
}

model GetResourceOAuth2TokenResponseBody = {
  accessToken?: string(name='AccessToken', example='66a1a2****0b93v3'),
  authorizationURL?: string(name='AuthorizationURL', example='https://agentidentity.cn-beijing.aliyuncs.com/*****'),
  requestId?: string(name='RequestId', example='173C69C9-9C07-5B25-9477-603A33E5DA32'),
  sessionStatus?: string(name='SessionStatus', example='IN_PROGRESS'),
  sessionURI?: string(name='SessionURI', example='urn:ietf:params:oauth:request_uri:43b7df1a-****-****-****-709375a44d8a'),
}

model GetResourceOAuth2TokenResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetResourceOAuth2TokenResponseBody(name='body'),
}

/**
  * @param request  the request parameters of GetResourceOAuth2Token  GetResourceOAuth2TokenRequest
  * @return GetResourceOAuth2TokenResponse
 */
async function getResourceOAuth2Token(request: GetResourceOAuth2TokenRequest): GetResourceOAuth2TokenResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RPC', 'GetResourceOAuth2Token', 'POST', '/', 'json', true, 'form', request);
}

model GetWorkloadAccessTokenRequest {
  workloadIdentityName?: string(name='WorkloadIdentityName', example='test-workload-identity', position='Body'),
}

model GetWorkloadAccessTokenResponseBody = {
  requestId?: string(name='RequestId', example='1E85BA86-0955-5841-9679-9C33867E460D'),
  workloadAccessToken?: string(name='WorkloadAccessToken', example='eyAgImFsZyI6ICJSUzI1N****'),
}

model GetWorkloadAccessTokenResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetWorkloadAccessTokenResponseBody(name='body'),
}

/**
  * @param request  the request parameters of GetWorkloadAccessToken  GetWorkloadAccessTokenRequest
  * @return GetWorkloadAccessTokenResponse
 */
async function getWorkloadAccessToken(request: GetWorkloadAccessTokenRequest): GetWorkloadAccessTokenResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RPC', 'GetWorkloadAccessToken', 'POST', '/', 'json', true, 'form', request);
}

model GetWorkloadAccessTokenForJWTRequest {
  userToken?: string(name='UserToken', example='eyAgImFsZyI6ICJSUzI1NiIsI*******', position='Body'),
  workloadIdentityName?: string(name='WorkloadIdentityName', example='test-workload-identity', position='Body'),
}

model GetWorkloadAccessTokenForJWTResponseBody = {
  requestId?: string(name='RequestId', example='D679769C-957B-586A-AD00-5C2064DAFA7D'),
  workloadAccessToken?: string(name='WorkloadAccessToken', example='eyAgImFsZyI6ICJSUzI1N****'),
}

model GetWorkloadAccessTokenForJWTResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetWorkloadAccessTokenForJWTResponseBody(name='body'),
}

/**
  * @param request  the request parameters of GetWorkloadAccessTokenForJWT  GetWorkloadAccessTokenForJWTRequest
  * @return GetWorkloadAccessTokenForJWTResponse
 */
async function getWorkloadAccessTokenForJWT(request: GetWorkloadAccessTokenForJWTRequest): GetWorkloadAccessTokenForJWTResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RPC', 'GetWorkloadAccessTokenForJWT', 'POST', '/', 'json', true, 'form', request);
}

model GetWorkloadAccessTokenForUserIdRequest {
  userId?: string(name='UserId', example='externalUser1', position='Body'),
  workloadIdentityName?: string(name='WorkloadIdentityName', example='test-workload-identity', position='Body'),
}

model GetWorkloadAccessTokenForUserIdResponseBody = {
  requestId?: string(name='RequestId', example='1E85BA86-0955-5841-9679-9C33867E460D'),
  workloadAccessToken?: string(name='WorkloadAccessToken', example='eyAgImFsZyI6ICJSUzI1N****'),
}

model GetWorkloadAccessTokenForUserIdResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetWorkloadAccessTokenForUserIdResponseBody(name='body'),
}

/**
  * @param request  the request parameters of GetWorkloadAccessTokenForUserId  GetWorkloadAccessTokenForUserIdRequest
  * @return GetWorkloadAccessTokenForUserIdResponse
 */
async function getWorkloadAccessTokenForUserId(request: GetWorkloadAccessTokenForUserIdRequest): GetWorkloadAccessTokenForUserIdResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RPC', 'GetWorkloadAccessTokenForUserId', 'POST', '/', 'json', true, 'form', request);
}

