/**
 *
 */
import OpenApi;
import OpenApi.OpenApiUtil;

extends OpenApi;


init(config: OpenApiUtil.Config){
  super(config);
  @endpointRule = '';
  
  checkConfig(config);
  @endpoint = getEndpoint('bailianmodelonchip', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!$isNull(endpoint)) {
    return endpoint;
  }
  
  if (!$isNull(endpointMap) && !$isNull(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return OpenApiUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model ActiveInteractionCreateRequest {
  image?: string(name='image', description='This parameter is required.', example='https://linkscreen-daily.oss-cn-hangzhou.aliyuncs.com/mock/251023/a_person_1.jpg'),
}

model ActiveInteractionCreateResponseBody = {
  code?: string(name='code', example='success'),
  data?: {
    gesture?: string(name='gesture', example='point'),
    person?: string(name='person', example='A man in dark clothing stands on a rocky hilltop, facing away from the camera, gazing at the expansive view with a contemplative posture.'),
    scene?: string(name='scene', example='Mountainous landscape with layered ridges receding into haze, under a vast blue sky with wispy clouds and soft golden light near the horizon.'),
  }(name='data'),
  httpStatusCode?: int32(name='httpStatusCode', example='200'),
  message?: string(name='message', example='success'),
  requestId?: string(name='requestId', description='Id of the request', example='AF54F772-60FF-56FD-A3EA-11620EF1229A'),
  success?: boolean(name='success', example='True'),
}

model ActiveInteractionCreateResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ActiveInteractionCreateResponseBody(name='body'),
}

/**
 * @summary 主动交互消息传递
 *
 * @param request ActiveInteractionCreateRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return ActiveInteractionCreateResponse
 */
@context("activeInteractionCreateWithContext")
async function activeInteractionCreateWithOptions(request: ActiveInteractionCreateRequest, headers: map[string]string, runtime: $RuntimeOptions): ActiveInteractionCreateResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.image)) {
    body['image'] = request.image;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'ActiveInteractionCreate',
    version = '2024-08-16',
    protocol = 'HTTPS',
    pathname = `/open/api/v1/active/interaction/create`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 主动交互消息传递
 *
 * @param request ActiveInteractionCreateRequest
 * @return ActiveInteractionCreateResponse
 */
async function activeInteractionCreate(request: ActiveInteractionCreateRequest): ActiveInteractionCreateResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return activeInteractionCreateWithOptions(request, headers, runtime);
}

model ActiveInteractionEuCreateRequest {
  image?: string(name='image', description='This parameter is required.', example='https://linkscreen-daily.oss-cn-hangzhou.aliyuncs.com/mock/251023/a_person_12.jpg'),
}

model ActiveInteractionEuCreateResponseBody = {
  code?: string(name='code', example='success'),
  data?: {
    gesture?: string(name='gesture', example='point'),
    person?: string(name='person', example='A man in dark clothing stands on a rocky hilltop, facing away from the camera, gazing at the expansive view with a contemplative posture.'),
    scene?: string(name='scene', example='Mountainous landscape with layered ridges receding into haze, under a vast blue sky with wispy clouds and soft golden light near the horizon.'),
  }(name='data'),
  httpStatusCode?: int32(name='httpStatusCode', example='200'),
  message?: string(name='message', example='success'),
  requestId?: string(name='requestId', description='Id of the request', example='84656A01-32F0-5D12-8C72-E3AFAA0C8A29'),
  success?: boolean(name='success', example='true'),
}

model ActiveInteractionEuCreateResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ActiveInteractionEuCreateResponseBody(name='body'),
}

/**
 * @summary 主动交互消息生成eu
 *
 * @param request ActiveInteractionEuCreateRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return ActiveInteractionEuCreateResponse
 */
@context("activeInteractionEuCreateWithContext")
async function activeInteractionEuCreateWithOptions(request: ActiveInteractionEuCreateRequest, headers: map[string]string, runtime: $RuntimeOptions): ActiveInteractionEuCreateResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.image)) {
    body['image'] = request.image;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'ActiveInteractionEuCreate',
    version = '2024-08-16',
    protocol = 'HTTPS',
    pathname = `/open/api/eu/active/interaction/create`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 主动交互消息生成eu
 *
 * @param request ActiveInteractionEuCreateRequest
 * @return ActiveInteractionEuCreateResponse
 */
async function activeInteractionEuCreate(request: ActiveInteractionEuCreateRequest): ActiveInteractionEuCreateResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return activeInteractionEuCreateWithOptions(request, headers, runtime);
}

model DeviceRegisterRequest {
  appId?: string(name='appId', description='This parameter is required.'),
  nonce?: string(name='nonce', description='This parameter is required.', example='2a64edd96296880f55aa61987b'),
  requestTime?: string(name='requestTime', description='This parameter is required.'),
  signature?: string(name='signature', description='This parameter is required.'),
}

model DeviceRegisterResponseBody = {
  code?: string(name='code', example='success'),
  data?: {
    appId?: string(name='appId'),
    deviceName?: string(name='deviceName', example='991fa52b7935aaa33536e05d4f4b5003'),
    nonce?: string(name='nonce', example='e2e928e8244f45ab30ec6ba9f9'),
    responseTime?: string(name='responseTime', example='1748312544852'),
    signature?: string(name='signature', example='s8wPO/w79jP7sz6OaHkixAje2GmgzmZiCuCZZ+J8w77ICTyqD30lL6rUhnXwwx4MyGF62DRPFnpXtJ6c5mlmt6QdML3FkjGn+i/wR5T6QMkVDW6YRPWsx3jkIWRQ2sDnmVNBtixo2s9w3RJrnddRzVCaR/WeLOfiVLWcrLcJditzO/1YXBZ9vuRKQ4iperfhZvw372N/m8/1qtjJl+FUe2+wxK6RMxr03K7R'),
  }(name='data'),
  httpStatusCode?: int32(name='httpStatusCode', example='200'),
  message?: string(name='message', example='success'),
  requestId?: string(name='requestId', description='Id of the request', example='52548360-B3AA-55EA-893F-48C16470F64A'),
  success?: boolean(name='success', example='True'),
}

model DeviceRegisterResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DeviceRegisterResponseBody(name='body'),
}

/**
 * @summary 设备注册
 *
 * @param request DeviceRegisterRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return DeviceRegisterResponse
 */
@context("deviceRegisterWithContext")
async function deviceRegisterWithOptions(request: DeviceRegisterRequest, headers: map[string]string, runtime: $RuntimeOptions): DeviceRegisterResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.appId)) {
    body['appId'] = request.appId;
  }
  if (!$isNull(request.nonce)) {
    body['nonce'] = request.nonce;
  }
  if (!$isNull(request.requestTime)) {
    body['requestTime'] = request.requestTime;
  }
  if (!$isNull(request.signature)) {
    body['signature'] = request.signature;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'DeviceRegister',
    version = '2024-08-16',
    protocol = 'HTTPS',
    pathname = `/open/api/device/v1/register`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 设备注册
 *
 * @param request DeviceRegisterRequest
 * @return DeviceRegisterResponse
 */
async function deviceRegister(request: DeviceRegisterRequest): DeviceRegisterResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return deviceRegisterWithOptions(request, headers, runtime);
}

model GetPassThroughAuthInfoRequest {
  appId?: string(name='appId', example='mm_2b7d37b695fb44faa983e5fbb032'),
  deviceName?: string(name='deviceName', example='35f9ed99b27a1e8374f6593bf969f7d6'),
}

model GetPassThroughAuthInfoResponseBody = {
  code?: string(name='code', example='success'),
  data?: {
    appId?: string(name='appId', example='mm_2b7d37b695fb44faa983e5fbb032'),
    deviceName?: string(name='deviceName', example='35f9ed99b27a1e8374f6593bf969f7d6'),
    passThroughParams?: map[string]any(name='passThroughParams', example='{"device_info":"246c19a2c721724aa3e52e96a93a730ce9080b3a7680522a0d5210e0dc0a43cd","timestamp":"1765874670867"}'),
    taskId?: string(name='taskId', example='8e4e0522a986cd641866c2b2453eedfa'),
  }(name='data'),
  httpStatusCode?: int32(name='httpStatusCode', example='200'),
  message?: string(name='message', example='success'),
  requestId?: string(name='requestId', example='7B0FC4BC-9E4B-5AD7-9D35-6559BDC0788E'),
  success?: boolean(name='success', example='true'),
}

model GetPassThroughAuthInfoResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetPassThroughAuthInfoResponseBody(name='body'),
}

/**
 * @summary 云端获取透传鉴权信息
 *
 * @param request GetPassThroughAuthInfoRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return GetPassThroughAuthInfoResponse
 */
@context("getPassThroughAuthInfoWithContext")
async function getPassThroughAuthInfoWithOptions(request: GetPassThroughAuthInfoRequest, headers: map[string]string, runtime: $RuntimeOptions): GetPassThroughAuthInfoResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.appId)) {
    body['appId'] = request.appId;
  }
  if (!$isNull(request.deviceName)) {
    body['deviceName'] = request.deviceName;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'GetPassThroughAuthInfo',
    version = '2024-08-16',
    protocol = 'HTTPS',
    pathname = `/open/api/auth/v1/token/getPassThroughAuthInfo`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 云端获取透传鉴权信息
 *
 * @param request GetPassThroughAuthInfoRequest
 * @return GetPassThroughAuthInfoResponse
 */
async function getPassThroughAuthInfo(request: GetPassThroughAuthInfoRequest): GetPassThroughAuthInfoResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return getPassThroughAuthInfoWithOptions(request, headers, runtime);
}

model GetTokenRequest {
  appId?: string(name='appId', description='This parameter is required.'),
  deviceName?: string(name='deviceName', description='This parameter is required.', example='5b504f84b69b9a73d3a21a2cff05e190'),
  nonce?: string(name='nonce', description='This parameter is required.', example='2a64edd96296880f55aa61987b'),
  requestTime?: string(name='requestTime', description='This parameter is required.', example='1748413148546'),
  signature?: string(name='signature', description='This parameter is required.', example='5/Smm8gnDSgZY2Blftq9eGYpVnpYCztoLJaJfhlH7id0lNlQxydRLtjUkGPr1qdbQq+oUn6Y1h0KJUdk0rf4am3MzdNr/Uhc47c8bbXnV8SlIC0agGo5skEQZNObzUD+sFxt8uN35/FYf7YRC8R61xY7+NPN2NLJrA/DPhewtVRRgAbb8RjergTcIG6oN1XTzLyC+76Az/3o2dPCxTfMXG3AFQc='),
  tokenKey?: string(name='tokenKey', example='sk-4asv136677d2411b876e536bc8xxxxx'),
  tokenType?: string(name='tokenType', description='This parameter is required.', example='oss'),
}

model GetTokenResponseBody = {
  code?: string(name='code', example='success'),
  data?: {
    appId?: string(name='appId'),
    deviceName?: string(name='deviceName', example='5b504f84b69b9a73d3a21a2cff05e190'),
    nonce?: string(name='nonce', example='b79d692c315d6bfb28312edf15'),
    requestIp?: string(name='requestIp', example='127.0.0.1'),
    responseTime?: string(name='responseTime', example='1748413248360'),
    signature?: string(name='signature', example='N1faAjFhhaRNFaZNC8woRpQyAzEfBaIoWQEgDfds/Fwm7nIyEDLlSK3Ttx2OFebiHZ/MpHRr/3MnI/jpVWB/xNYIQxm6sccHJENHNAz6gaW+itU5wUrh+46EpqySABV8kc2pQ0HmYlbePfjjOK6lCfQjEGpekSAgQ6tDhG1lXWfKdtggq58Ut5bImMxMhk4R/PFUWrJe4CDuFu072C+foI0JlUV9TnGtVQ58oz8VRndrGXyauS/xqg8iGSZn6FyprUf5p+0ow20E'),
  }(name='data'),
  httpStatusCode?: string(name='httpStatusCode', example='200'),
  message?: string(name='message', example='success'),
  requestId?: string(name='requestId', example='B08AAA14-AD93-51F6-82AE-82AFAE9375B6'),
  success?: string(name='success', example='true'),
}

model GetTokenResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetTokenResponseBody(name='body'),
}

/**
 * @summary 获取网关校验Token
 *
 * @param request GetTokenRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return GetTokenResponse
 */
@context("getTokenWithContext")
async function getTokenWithOptions(request: GetTokenRequest, headers: map[string]string, runtime: $RuntimeOptions): GetTokenResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.appId)) {
    body['appId'] = request.appId;
  }
  if (!$isNull(request.deviceName)) {
    body['deviceName'] = request.deviceName;
  }
  if (!$isNull(request.nonce)) {
    body['nonce'] = request.nonce;
  }
  if (!$isNull(request.requestTime)) {
    body['requestTime'] = request.requestTime;
  }
  if (!$isNull(request.signature)) {
    body['signature'] = request.signature;
  }
  if (!$isNull(request.tokenKey)) {
    body['tokenKey'] = request.tokenKey;
  }
  if (!$isNull(request.tokenType)) {
    body['tokenType'] = request.tokenType;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'GetToken',
    version = '2024-08-16',
    protocol = 'HTTPS',
    pathname = `/open/api/auth/v1/token/get`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 获取网关校验Token
 *
 * @param request GetTokenRequest
 * @return GetTokenResponse
 */
async function getToken(request: GetTokenRequest): GetTokenResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return getTokenWithOptions(request, headers, runtime);
}

model ModelTypeDetermineRequest {
  history?: [ 
    {
      content?: string(name='content'),
      role?: string(name='role'),
    }
  ](name='history'),
  inputText?: string(name='inputText', description='This parameter is required.'),
}

model ModelTypeDetermineShrinkRequest {
  historyShrink?: string(name='history'),
  inputText?: string(name='inputText', description='This parameter is required.'),
}

model ModelTypeDetermineResponseBody = {
  code?: string(name='code', example='success'),
  data?: {
    followUp?: boolean(name='followUp', example='false'),
    rewriteText?: string(name='rewriteText'),
    vl?: boolean(name='vl', example='true'),
  }(name='data'),
  httpStatusCode?: int32(name='httpStatusCode', example='200'),
  message?: string(name='message', example='success'),
  requestId?: string(name='requestId', description='Id of the request', example='7B0FC4BC-9E4B-5AD7-9D35-6559BDC0788E'),
  success?: string(name='success', example='True'),
}

model ModelTypeDetermineResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ModelTypeDetermineResponseBody(name='body'),
}

/**
 * @summary 模型类型识别
 *
 * @param tmpReq ModelTypeDetermineRequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return ModelTypeDetermineResponse
 */
@context("modelTypeDetermineWithContext")
async function modelTypeDetermineWithOptions(tmpReq: ModelTypeDetermineRequest, headers: map[string]string, runtime: $RuntimeOptions): ModelTypeDetermineResponse {
  tmpReq.validate();
  var request = new ModelTypeDetermineShrinkRequest{};
  OpenApiUtil.convert(tmpReq, request);
  if (!$isNull(tmpReq.history)) {
    request.historyShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.history, 'history', 'json');
  }
  var body : map[string]any = {};
  if (!$isNull(request.historyShrink)) {
    body['history'] = request.historyShrink;
  }
  if (!$isNull(request.inputText)) {
    body['inputText'] = request.inputText;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'ModelTypeDetermine',
    version = '2024-08-16',
    protocol = 'HTTPS',
    pathname = `/open/api/v1/model/type/determine`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 模型类型识别
 *
 * @param request ModelTypeDetermineRequest
 * @return ModelTypeDetermineResponse
 */
async function modelTypeDetermine(request: ModelTypeDetermineRequest): ModelTypeDetermineResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return modelTypeDetermineWithOptions(request, headers, runtime);
}

model OmniRealtimeConversationEURequest {
  inputAudio?: string(name='inputAudio', description='This parameter is required.', example='https://help-static-aliyun-doc.aliyuncs.com/file-manage-files/zh-CN/20250211/tixcef/cherry.wav'),
  userPrompt?: string(name='userPrompt'),
  voice?: string(name='voice', example='Cherry'),
}

model OmniRealtimeConversationEUResponseBody = {
  code?: string(name='code', example='success'),
  data?: {
    audioResult?: string(name='audioResult'),
  }(name='data'),
  httpStatusCode?: int32(name='httpStatusCode', example='200'),
  message?: string(name='message', example='success'),
  requestId?: string(name='requestId', description='Id of the request', example='89946BAA-E4E1-5114-8A5E-A542FEDC9B16'),
  success?: boolean(name='success', example='true'),
}

model OmniRealtimeConversationEUResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: OmniRealtimeConversationEUResponseBody(name='body'),
}

/**
 * @summary 音频-供机械臂调用
 *
 * @param request OmniRealtimeConversationEURequest
 * @param headers map
 * @param runtime runtime options for this request RuntimeOptions
 * @return OmniRealtimeConversationEUResponse
 */
@context("omniRealtimeConversationEUWithContext")
async function omniRealtimeConversationEUWithOptions(request: OmniRealtimeConversationEURequest, headers: map[string]string, runtime: $RuntimeOptions): OmniRealtimeConversationEUResponse {
  request.validate();
  var body : map[string]any = {};
  if (!$isNull(request.inputAudio)) {
    body['inputAudio'] = request.inputAudio;
  }
  if (!$isNull(request.userPrompt)) {
    body['userPrompt'] = request.userPrompt;
  }
  if (!$isNull(request.voice)) {
    body['voice'] = request.voice;
  }

  var req = new OpenApiUtil.OpenApiRequest{ 
    headers = headers,
    body = OpenApiUtil.parseToMap(body),
  };
  var params = new OpenApiUtil.Params{
    action = 'OmniRealtimeConversationEU',
    version = '2024-08-16',
    protocol = 'HTTPS',
    pathname = `/open/api/eu/active/interaction/audio`,
    method = 'POST',
    authType = 'AK',
    style = 'ROA',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 音频-供机械臂调用
 *
 * @param request OmniRealtimeConversationEURequest
 * @return OmniRealtimeConversationEUResponse
 */
async function omniRealtimeConversationEU(request: OmniRealtimeConversationEURequest): OmniRealtimeConversationEUResponse {
  var runtime = new $RuntimeOptions{};
  var headers : map[string]string = {};
  return omniRealtimeConversationEUWithOptions(request, headers, runtime);
}

