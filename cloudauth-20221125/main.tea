/**
 *
 */
import Util;
import OpenApi;
import OpenApiUtil;
import EndpointUtil;

extends OpenApi;


init(config: OpenApi.Config){
  super(config);
  @endpointRule = 'central';
  
  checkConfig(config);
  @endpoint = getEndpoint('cloudauth', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!Util.empty(endpoint)) {
    return endpoint;
  }
  
  if (!Util.isUnset(endpointMap) && !Util.empty(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return EndpointUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model EntElementVerifyRequest {
  entName?: string(name='EntName', description='Enterprise name.', example='***有限公司'),
  infoVerifyType?: string(name='InfoVerifyType', description='Type of enterprise element verification.
- ENT_2META: Two elements
- ENT_3META: Three elements
- ENT_4META: Four elements', example='ENT_2META'),
  legalPersonCertNo?: string(name='LegalPersonCertNo', description='Legal representative\\\\"s ID number. Required for the four-element scenario.', example='370105*****3892'),
  legalPersonName?: string(name='LegalPersonName', description='Legal representative\\\\"s name. Required for three-element and four-element scenarios.', example='张**'),
  licenseNo?: string(name='LicenseNo', description='Business license number.', example='32132***328932'),
  merchantBizId?: string(name='MerchantBizId', description='A unique business identifier defined by the merchant for subsequent troubleshooting. It supports a combination of letters and numbers, with a maximum length of 32 characters. Please ensure uniqueness.', example='32198****193000'),
  merchantUserId?: string(name='MerchantUserId', description='Merchant-side user ID. Supports a combination of letters and numbers, with a maximum length of 32 characters.', example='432***421'),
  sceneCode?: string(name='SceneCode', description='Scene code. Supports a combination of letters, numbers, and underscores, with a maximum length of 32 characters.', example='withdraw'),
  userAuthorization?: string(name='UserAuthorization', description='Whether user authorization is obtained.
- 1: Authorized
- 0: Not authorized', example='1'),
}

model EntElementVerifyResponseBody = {
  code?: string(name='Code', description='Return code', example='Success'),
  message?: string(name='Message', description='Error message', example='success'),
  requestId?: string(name='RequestId', description='ID of the request', example='473469C7***B-A3DC0DE3C83E'),
  result?: {
    bizCode?: string(name='BizCode', description='Verification result code.
- 1: Verification consistent
- 2: Verification inconsistent
- 3: Not found', example='1'),
    openTime?: string(name='OpenTime', description='Operating period: start and end time of operations.
- Format: yyyy-MM-dd/yyyy-MM-dd.
- Example: 2018-09-25/9999-09-09.', example='2018-09-25/9999-09-09'),
    reasonCode?: string(name='ReasonCode', description='ReasonCode explanation:

- 100: Verification consistent

- 201: Inconsistent between person and enterprise

- 202: Inconsistent in two elements of the enterprise

- 301: No enterprise found, unable to verify

- 302: Legal representative does not exist in the database
>Warning: This field will be discontinued on June 15, 2023. Existing customers are not affected.', example='100'),
    reasonDetail?: string(name='ReasonDetail', description='Details of inconsistencies, multiple inconsistencies will be separated by commas.
- LegalPersonNameFlag: Inconsistent legal representative name
- LegalPersonCertNoFlag: Inconsistent legal representative ID number
- EntNameFlag: Inconsistent enterprise name
- LicenseNoFlag: Inconsistent business license number', example='LegalPersonNameFlag,LegalPersonCertNoFlag'),
    status?: string(name='Status', description='Enterprise operating status.
- 1: In operation (open)
- 2: Relocated
- 3: Deregistered
- 4: Revoked
- 5: Canceled
- 6: Suspended
- 0: Other', example='1'),
  }(name='Result', description='Result'),
}

model EntElementVerifyResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: EntElementVerifyResponseBody(name='body'),
}

/**
 * @summary Enterprise Element Verification
 *
 * @description Supports only enterprises and individual businesses.
 *
 * @param request EntElementVerifyRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return EntElementVerifyResponse
 */
async function entElementVerifyWithOptions(request: EntElementVerifyRequest, runtime: Util.RuntimeOptions): EntElementVerifyResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.entName)) {
    query['EntName'] = request.entName;
  }
  if (!Util.isUnset(request.infoVerifyType)) {
    query['InfoVerifyType'] = request.infoVerifyType;
  }
  if (!Util.isUnset(request.legalPersonCertNo)) {
    query['LegalPersonCertNo'] = request.legalPersonCertNo;
  }
  if (!Util.isUnset(request.legalPersonName)) {
    query['LegalPersonName'] = request.legalPersonName;
  }
  if (!Util.isUnset(request.licenseNo)) {
    query['LicenseNo'] = request.licenseNo;
  }
  if (!Util.isUnset(request.merchantBizId)) {
    query['MerchantBizId'] = request.merchantBizId;
  }
  if (!Util.isUnset(request.merchantUserId)) {
    query['MerchantUserId'] = request.merchantUserId;
  }
  if (!Util.isUnset(request.sceneCode)) {
    query['SceneCode'] = request.sceneCode;
  }
  if (!Util.isUnset(request.userAuthorization)) {
    query['UserAuthorization'] = request.userAuthorization;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'EntElementVerify',
    version = '2022-11-25',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Enterprise Element Verification
 *
 * @description Supports only enterprises and individual businesses.
 *
 * @param request EntElementVerifyRequest
 * @return EntElementVerifyResponse
 */
async function entElementVerify(request: EntElementVerifyRequest): EntElementVerifyResponse {
  var runtime = new Util.RuntimeOptions{};
  return entElementVerifyWithOptions(request, runtime);
}

model EntElementVerifyV2Request {
  entName?: string(name='EntName', description='Enterprise Name.

This parameter is required.', example='****有限公司'),
  infoVerifyType?: string(name='InfoVerifyType', description='Type of enterprise element verification.
- ENT_2META: Two-element verification (enterprise name + unified social credit code)
- ENT_3META: Three-element verification (enterprise name + unified social credit code + legal person\\\\"s name or organization head)
- ENT_4META: Four-element verification (enterprise name + unified social credit code + legal person\\\\"s name or organization head + legal person\\\\"s ID number)

This parameter is required.', example='ENT_2META'),
  legalPersonCertNo?: string(name='LegalPersonCertNo', description='Legal Person\\\\"s ID Number. Required for four-element scenarios.', example='1******************9'),
  legalPersonName?: string(name='LegalPersonName', description='Legal Person\\\\"s Name. Required for three-element and four-element scenarios.', example='张**'),
  licenseNo?: string(name='LicenseNo', description='Unified Social Credit Code.

This parameter is required.', example='91330106673959****'),
  merchantBizId?: string(name='MerchantBizId', description='A unique business identifier defined by the merchant side, used for subsequent problem localization and troubleshooting. Supports a combination of letters and numbers, with a maximum length of 32 characters. Please ensure uniqueness.

This parameter is required.', example='e0c34a77f5ac40a5aa5e6ed20c35****'),
  merchantUserId?: string(name='MerchantUserId', description='Merchant-side user ID. Supports a combination of letters and numbers, with a maximum length of 32 characters.

This parameter is required.', example='mch7x9a2b4c8d3e5f6g1h2i3j4k5****'),
  sceneCode?: string(name='SceneCode', description='Custom scene code, defined by the user to distinguish between different business scenarios. Supports a combination of letters, numbers, and underscores, with a maximum length of 32 characters.

This parameter is required.', example='1000000006'),
  userAuthorization?: string(name='UserAuthorization', description='Whether user authorization has been obtained.
- 1: Authorization obtained
- 0: No authorization obtained

This parameter is required.', example='1'),
}

model EntElementVerifyV2ResponseBody = {
  code?: string(name='Code', description='Return code', example='Success'),
  message?: string(name='Message', description='Error message', example='success'),
  requestId?: string(name='RequestId', description='Id of the request', example='473469C7***B-A3DC0DE3C83E'),
  result?: {
    bizCode?: string(name='BizCode', description='Verification result code.
- 1: Verification consistent
- 2: Verification inconsistent
- 3: Not found', example='1'),
    openTime?: string(name='OpenTime', description='Business term: start and end time of operations.
- Format: yyyy-MM-dd/yyyy-MM-dd.
- Example: 2018-09-25/9999-09-09.', example='2018-09-25/9999-09-09'),
    reasonDetail?: string(name='ReasonDetail', description='Details of inconsistencies, multiple inconsistencies will be separated by commas.
- LegalPersonNameFlag: Legal person\\\\"s name does not match
- LegalPersonCertNoFlag: Legal person\\\\"s ID number does not match
- EntNameFlag: Enterprise name does not match
- LicenseNoFlag: Business license number does not match', example='LegalPersonNameFlag,LegalPersonCertNoFlag'),
    status?: string(name='Status', description='Business operation status.
- 1: In operation (open)
- 2: Relocated
- 3: Deregistered
- 4: Revoked
- 5: Canceled
- 6: Suspended
- 0: Other', example='1'),
  }(name='Result', description='Result'),
}

model EntElementVerifyV2Response = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: EntElementVerifyV2ResponseBody(name='body'),
}

/**
 * @summary Enterprise Element Verification V2
 *
 * @description The Enterprise Element Verification API provides a service for verifying the consistency of enterprise element information, used to identify the authenticity of enterprise information.
 * It supports various institutions including enterprises, individual businesses, farmers\\" professional cooperatives, government agencies, public institutions, social organizations, legal profession institutions, and owners\\" meetings for 2-3 elements;
 * For 4 elements, it supports enterprises, individual businesses, farmers\\" professional cooperatives, and legal professions.
 *
 * @param request EntElementVerifyV2Request
 * @param runtime runtime options for this request RuntimeOptions
 * @return EntElementVerifyV2Response
 */
async function entElementVerifyV2WithOptions(request: EntElementVerifyV2Request, runtime: Util.RuntimeOptions): EntElementVerifyV2Response {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.entName)) {
    query['EntName'] = request.entName;
  }
  if (!Util.isUnset(request.infoVerifyType)) {
    query['InfoVerifyType'] = request.infoVerifyType;
  }
  if (!Util.isUnset(request.legalPersonCertNo)) {
    query['LegalPersonCertNo'] = request.legalPersonCertNo;
  }
  if (!Util.isUnset(request.legalPersonName)) {
    query['LegalPersonName'] = request.legalPersonName;
  }
  if (!Util.isUnset(request.licenseNo)) {
    query['LicenseNo'] = request.licenseNo;
  }
  if (!Util.isUnset(request.merchantBizId)) {
    query['MerchantBizId'] = request.merchantBizId;
  }
  if (!Util.isUnset(request.merchantUserId)) {
    query['MerchantUserId'] = request.merchantUserId;
  }
  if (!Util.isUnset(request.sceneCode)) {
    query['SceneCode'] = request.sceneCode;
  }
  if (!Util.isUnset(request.userAuthorization)) {
    query['UserAuthorization'] = request.userAuthorization;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'EntElementVerifyV2',
    version = '2022-11-25',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Enterprise Element Verification V2
 *
 * @description The Enterprise Element Verification API provides a service for verifying the consistency of enterprise element information, used to identify the authenticity of enterprise information.
 * It supports various institutions including enterprises, individual businesses, farmers\\" professional cooperatives, government agencies, public institutions, social organizations, legal profession institutions, and owners\\" meetings for 2-3 elements;
 * For 4 elements, it supports enterprises, individual businesses, farmers\\" professional cooperatives, and legal professions.
 *
 * @param request EntElementVerifyV2Request
 * @return EntElementVerifyV2Response
 */
async function entElementVerifyV2(request: EntElementVerifyV2Request): EntElementVerifyV2Response {
  var runtime = new Util.RuntimeOptions{};
  return entElementVerifyV2WithOptions(request, runtime);
}

model EntRiskQueryRequest {
  merchantBizId?: string(name='MerchantBizId', description='A unique business identifier defined by the merchant side, used for subsequent problem localization and troubleshooting. Supports a combination of 32 alphanumeric characters, please ensure uniqueness.', example='32198****193000'),
  merchantUserId?: string(name='MerchantUserId', description='A custom user ID in your business, used for subsequent problem localization and troubleshooting.', example='无'),
  paramType?: string(name='ParamType', description='Parameter type.
00: Company name;
01: Business registration number;
02: Unified Social Credit Code;
03: Organization code;', example='00'),
  paramValue?: string(name='ParamValue', description='Enter one of the following based on the ParamType: company name, business registration number, unified social credit code, or organization code.', example='91330106673959****'),
  sceneCode?: string(name='SceneCode', description='Custom scene code, used to distinguish business scenarios, a 10-digit number.', example='1000000086'),
  userAuthorization?: string(name='UserAuthorization', description='Whether user authorization is obtained.
1: Authorized
0: Not authorized', example='1'),
}

model EntRiskQueryResponseBody = {
  code?: string(name='Code', description='Error code. For details about error codes, see **[Error Codes](https://help.aliyun.com/document_detail/215420.html)**.', example='200'),
  message?: string(name='Message', description='Response message for the request information.', example='success'),
  requestId?: string(name='RequestId', description='Request ID', example='8FC3D6AC-9FED-4311-8DA7-C4BF47D9F260'),
  result?: {
    bizCode?: string(name='BizCode', description='Query result
0: Normal business operation
1: Abnormal business operation
2: Not found', example='1'),
    riskList?: [ 
      {
        creditCode?: string(name='CreditCode', description='Unified Social Credit Code', example='92500112MA5UHU****'),
        entName?: string(name='EntName', description='Company name.', example='杭州****'),
        listedDate?: string(name='ListedDate', description='Date listed as abnormal
Example: 2023-02-03', example='2023-02-03'),
        listedReason?: string(name='ListedReason', description='Reason for being listed as abnormal', example='未按照《个体工商户年度报告暂行办法》***'),
        operationOrg?: string(name='OperationOrg', description='Authority that handled the inclusion', example='***市场监督***'),
        regNo?: string(name='RegNo', description='Business registration number', example='50011260996****'),
        removedDate?: string(name='RemovedDate', description='Date removed from the abnormal list
Example: 2023-02-03', example='2023-02-06'),
        removedOrg?: string(name='RemovedOrg', description='Authority that handled the removal', example='***市场监督***'),
        removedReason?: string(name='RemovedReason', description='Reason for being removed from the abnormal list', example='根据《个体工商户年度报告暂行办法》第十三条的规定******'),
      }
    ](name='RiskList', description='List of abnormal information'),
    status?: string(name='Status', description='Business operation status.
- 1: In operation (open)
- 2: Relocated
- 3: Deregistered
- 4: Revoked
- 5: Canceled
- 6: Suspended
- 0: Other', example='1'),
  }(name='Result', description='Result'),
}

model EntRiskQueryResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: EntRiskQueryResponseBody(name='body'),
}

/**
 * @summary Abnormal Business Operation Query
 *
 * @param request EntRiskQueryRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return EntRiskQueryResponse
 */
async function entRiskQueryWithOptions(request: EntRiskQueryRequest, runtime: Util.RuntimeOptions): EntRiskQueryResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.merchantBizId)) {
    query['MerchantBizId'] = request.merchantBizId;
  }
  if (!Util.isUnset(request.merchantUserId)) {
    query['MerchantUserId'] = request.merchantUserId;
  }
  if (!Util.isUnset(request.paramType)) {
    query['ParamType'] = request.paramType;
  }
  if (!Util.isUnset(request.paramValue)) {
    query['ParamValue'] = request.paramValue;
  }
  if (!Util.isUnset(request.sceneCode)) {
    query['SceneCode'] = request.sceneCode;
  }
  if (!Util.isUnset(request.userAuthorization)) {
    query['UserAuthorization'] = request.userAuthorization;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'EntRiskQuery',
    version = '2022-11-25',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Abnormal Business Operation Query
 *
 * @param request EntRiskQueryRequest
 * @return EntRiskQueryResponse
 */
async function entRiskQuery(request: EntRiskQueryRequest): EntRiskQueryResponse {
  var runtime = new Util.RuntimeOptions{};
  return entRiskQueryWithOptions(request, runtime);
}

model EntVerifyRequest {
  accountNo?: string(name='AccountNo', description='Receiving account, to assist in improving the risk assessment effect.', example='321324***38293'),
  entName?: string(name='EntName', description='Enterprise name.', example='***有限公司'),
  infoVerifyType?: string(name='InfoVerifyType', description='Enterprise element verification type, currently not supported.', example='无'),
  legalPersonCertNo?: string(name='LegalPersonCertNo', description='Legal person\\\\"s ID number.', example='370105*****3892'),
  legalPersonMobile?: string(name='LegalPersonMobile', description='Legal person\\\\"s mobile phone number.', example='1300***53'),
  legalPersonName?: string(name='LegalPersonName', description='Legal person\\\\"s name.', example='张**'),
  licenseNo?: string(name='LicenseNo', description='Business license number.', example='32132***328932'),
  merchantBizId?: string(name='MerchantBizId', description='A unique business identifier defined by the merchant, used for subsequent problem localization and troubleshooting. It supports a combination of letters and numbers, with a maximum length of 32 characters. Please ensure its uniqueness.', example='32198****193000'),
  merchantUserId?: string(name='MerchantUserId', description='Merchant-side user ID. It supports a combination of letters and numbers, with a maximum length of 32 characters.', example='432***421'),
  riskModelVersion?: string(name='RiskModelVersion', description='Enterprise risk verification model version, required when RiskVerifyType is not empty. Currently supported:

- BASIC: Basic version', example='BASIC'),
  riskVerifyType?: string(name='RiskVerifyType', description='Enterprise risk verification type, at least one of InfoVerifyType or this must be selected. Currently supported:

- BUSINESS_ANTIFRAUD', example='BUSINESS_ANTIFRAUD'),
  sceneCode?: string(name='SceneCode', description='Scene code.', example='withdraw'),
  userAuthorization?: string(name='UserAuthorization', description='Whether the user authorization is obtained.

- 1: Authorized

- 0: Not authorized', example='1'),
}

model EntVerifyResponseBody = {
  code?: string(name='Code', description='Return code', example='Success'),
  message?: string(name='Message', description='Error message', example='成功'),
  requestId?: string(name='RequestId', description='ID of the request', example='473469C7-A***B-A3DC0DE3C83E'),
  result?: {
    riskVerifyResult?: {
      found?: boolean(name='Found', description='Whether found', example='true'),
      modelResults?: [ 
        {
          modelName?: string(name='ModelName', description='Model name', example='model_1'),
          result?: string(name='Result', description='Model result', example='5'),
        }
      ](name='ModelResults', description='List of enterprise risk verification model results'),
    }(name='RiskVerifyResult', description='Enterprise risk verification result'),
  }(name='Result', description='Result'),
}

model EntVerifyResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: EntVerifyResponseBody(name='body'),
}

/**
 * @summary Enterprise Authentication
 *
 * @param request EntVerifyRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return EntVerifyResponse
 */
async function entVerifyWithOptions(request: EntVerifyRequest, runtime: Util.RuntimeOptions): EntVerifyResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.accountNo)) {
    query['AccountNo'] = request.accountNo;
  }
  if (!Util.isUnset(request.entName)) {
    query['EntName'] = request.entName;
  }
  if (!Util.isUnset(request.infoVerifyType)) {
    query['InfoVerifyType'] = request.infoVerifyType;
  }
  if (!Util.isUnset(request.legalPersonCertNo)) {
    query['LegalPersonCertNo'] = request.legalPersonCertNo;
  }
  if (!Util.isUnset(request.legalPersonMobile)) {
    query['LegalPersonMobile'] = request.legalPersonMobile;
  }
  if (!Util.isUnset(request.legalPersonName)) {
    query['LegalPersonName'] = request.legalPersonName;
  }
  if (!Util.isUnset(request.licenseNo)) {
    query['LicenseNo'] = request.licenseNo;
  }
  if (!Util.isUnset(request.merchantBizId)) {
    query['MerchantBizId'] = request.merchantBizId;
  }
  if (!Util.isUnset(request.merchantUserId)) {
    query['MerchantUserId'] = request.merchantUserId;
  }
  if (!Util.isUnset(request.riskModelVersion)) {
    query['RiskModelVersion'] = request.riskModelVersion;
  }
  if (!Util.isUnset(request.riskVerifyType)) {
    query['RiskVerifyType'] = request.riskVerifyType;
  }
  if (!Util.isUnset(request.sceneCode)) {
    query['SceneCode'] = request.sceneCode;
  }
  if (!Util.isUnset(request.userAuthorization)) {
    query['UserAuthorization'] = request.userAuthorization;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'EntVerify',
    version = '2022-11-25',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Enterprise Authentication
 *
 * @param request EntVerifyRequest
 * @return EntVerifyResponse
 */
async function entVerify(request: EntVerifyRequest): EntVerifyResponse {
  var runtime = new Util.RuntimeOptions{};
  return entVerifyWithOptions(request, runtime);
}

