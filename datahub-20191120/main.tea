/**
 *
 */
import Util;
import OpenApi;
import OpenApiUtil;
import EndpointUtil;

extends OpenApi;


init(config: OpenApi.Config){
  super(config);
  @endpointRule = '';
  
  checkConfig(config);
  @endpoint = getEndpoint('datahub', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!Util.empty(endpoint)) {
    return endpoint;
  }
  
  if (!Util.isUnset(endpointMap) && !Util.empty(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return EndpointUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model ListProjectsRequest {
  keyword?: string(name='Keyword', description='Search keyword', example='search_key'),
  pageNumber?: int32(name='PageNumber', description='Current page number

This parameter is required.', example='1'),
  pageSize?: int32(name='PageSize', description='Page size

This parameter is required.', example='10'),
  regionId?: string(name='RegionId', description='Region ID

This parameter is required.', example='cn-hangzhou'),
}

model ListProjectsResponseBody = {
  list?: {
    project?: [ 
    {
      comment?: string(name='Comment', description='Text comment for the field', example='测试专用'),
      createTime?: long(name='CreateTime', description='Creation time', example='1708171905000'),
      creator?: string(name='Creator', description='Creator ID', example='1048133943212399'),
      creatorName?: string(name='CreatorName', description='Creator\\\\"s name', example='user_name', nullable=true),
      projectName?: string(name='ProjectName', description='Project name', example='poc_test'),
      updateTime?: long(name='UpdateTime', description='Update time', example='1708171905000'),
    }
  ](name='Project')
  }(name='List', description='Project name'),
  pageCount?: string(name='PageCount', description='Total number of pages', example='1'),
  pageNumber?: string(name='PageNumber', description='Current page number', example='84'),
  pageSize?: string(name='PageSize', description='Page size', example='10'),
  requestId?: string(name='RequestId', description='Request ID', example='20250401102332e68e3d0b04ab4904'),
  success?: boolean(name='Success', description='Whether the operation was successful', example='True'),
  totalCount?: string(name='TotalCount', description='Total number of query results', example='50'),
}

model ListProjectsResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ListProjectsResponseBody(name='body'),
}

/**
 * @summary Query project list information
 *
 * @param request ListProjectsRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ListProjectsResponse
 */
async function listProjectsWithOptions(request: ListProjectsRequest, runtime: Util.RuntimeOptions): ListProjectsResponse {
  Util.validateModel(request);
  var query = OpenApiUtil.query(Util.toMap(request));
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'ListProjects',
    version = '2019-11-20',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'GET',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Query project list information
 *
 * @param request ListProjectsRequest
 * @return ListProjectsResponse
 */
async function listProjects(request: ListProjectsRequest): ListProjectsResponse {
  var runtime = new Util.RuntimeOptions{};
  return listProjectsWithOptions(request, runtime);
}

model OpenDataHubServiceResponseBody = {
  orderId?: string(name='OrderId'),
  requestId?: string(name='RequestId'),
}

model OpenDataHubServiceResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: OpenDataHubServiceResponseBody(name='body'),
}

/**
 * @summary 开通Datahub服务
 *
 * @param request OpenDataHubServiceRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return OpenDataHubServiceResponse
 */
async function openDataHubServiceWithOptions(runtime: Util.RuntimeOptions): OpenDataHubServiceResponse {
  var req = new OpenApi.OpenApiRequest{};
  var params = new OpenApi.Params{
    action = 'OpenDataHubService',
    version = '2019-11-20',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 开通Datahub服务
 *
 * @return OpenDataHubServiceResponse
 */
async function openDataHubService(): OpenDataHubServiceResponse {
  var runtime = new Util.RuntimeOptions{};
  return openDataHubServiceWithOptions(runtime);
}

