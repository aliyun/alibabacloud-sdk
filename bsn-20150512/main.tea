/**
 *
 */
import Util;
import OpenApi;
import OpenApiUtil;
import EndpointUtil;

extends OpenApi;


init(config: OpenApi.Config){
  super(config);
  @endpointRule = '';
  
  checkConfig(config);
  @endpoint = getEndpoint('bsn', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!Util.empty(endpoint)) {
    return endpoint;
  }
  
  if (!Util.isUnset(endpointMap) && !Util.empty(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return EndpointUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model GetBsnByResourceRequest {
  aliuid?: long(name='aliuid', description='This parameter is required.', example='123456789'),
  resourceId?: string(name='resourceId', description='This parameter is required.', example='3097938'),
  resourceType?: int32(name='resourceType', description='This parameter is required.', example='alicloud_edas_application_scale'),
}

model GetBsnByResourceResponseBody = {
  datas?: {
    bsnDO?: [ string ](name='bsnDO')
  }(name='datas'),
}

model GetBsnByResourceResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GetBsnByResourceResponseBody(name='body'),
}

/**
 * @param request GetBsnByResourceRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return GetBsnByResourceResponse
 */
async function getBsnByResourceWithOptions(request: GetBsnByResourceRequest, runtime: Util.RuntimeOptions): GetBsnByResourceResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.aliuid)) {
    query['aliuid'] = request.aliuid;
  }
  if (!Util.isUnset(request.resourceId)) {
    query['resourceId'] = request.resourceId;
  }
  if (!Util.isUnset(request.resourceType)) {
    query['resourceType'] = request.resourceType;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'GetBsnByResource',
    version = '2015-05-12',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @param request GetBsnByResourceRequest
 * @return GetBsnByResourceResponse
 */
async function getBsnByResource(request: GetBsnByResourceRequest): GetBsnByResourceResponse {
  var runtime = new Util.RuntimeOptions{};
  return getBsnByResourceWithOptions(request, runtime);
}

model GrantBsnCodeRequest {
  aliUid?: long(name='AliUid', description='This parameter is required.', example='456*******163'),
  grantToAliuid?: long(name='GrantToAliuid', description='This parameter is required.', example='124*******345'),
  notes?: string(name='Notes'),
  sn?: string(name='Sn', description='This parameter is required.', example='1131-*******-233'),
}

model GrantBsnCodeResponseBody = {
  aliUid?: long(name='AliUid', example='456*******163'),
  grantToAliuid?: long(name='GrantToAliuid', example='124*******345'),
  notes?: string(name='Notes'),
  requestId?: string(name='RequestId', example='FA30A2AF-9542-5927-9B73-2030F1A68DBF'),
  sn?: string(name='Sn', example='1131-*******-233'),
  success?: boolean(name='Success', example='true'),
}

model GrantBsnCodeResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: GrantBsnCodeResponseBody(name='body'),
}

/**
 * @summary 授权服务码，供虚商使用
 *
 * @param request GrantBsnCodeRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return GrantBsnCodeResponse
 */
async function grantBsnCodeWithOptions(request: GrantBsnCodeRequest, runtime: Util.RuntimeOptions): GrantBsnCodeResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.aliUid)) {
    query['AliUid'] = request.aliUid;
  }
  if (!Util.isUnset(request.grantToAliuid)) {
    query['GrantToAliuid'] = request.grantToAliuid;
  }
  if (!Util.isUnset(request.notes)) {
    query['Notes'] = request.notes;
  }
  if (!Util.isUnset(request.sn)) {
    query['Sn'] = request.sn;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'GrantBsnCode',
    version = '2015-05-12',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 授权服务码，供虚商使用
 *
 * @param request GrantBsnCodeRequest
 * @return GrantBsnCodeResponse
 */
async function grantBsnCode(request: GrantBsnCodeRequest): GrantBsnCodeResponse {
  var runtime = new Util.RuntimeOptions{};
  return grantBsnCodeWithOptions(request, runtime);
}

model ProductBindBsnRequest {
  aliuid?: long(name='aliuid', description='456*******163

This parameter is required.'),
  num?: int32(name='num', description='This parameter is required.', example='4'),
  resourceId?: string(name='resourceId', description='41****34

This parameter is required.'),
  resourceType?: int32(name='resourceType', description='This parameter is required.', example='1'),
}

model ProductBindBsnResponseBody = {
  datas?: {
    bsnDO?: [ string ](name='bsnDO')
  }(name='datas'),
  requestId?: string(name='requestId', example='21ED07AF-267E-5820-AEE5-53C973BFD5F8'),
}

model ProductBindBsnResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ProductBindBsnResponseBody(name='body'),
}

/**
 * @param request ProductBindBsnRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ProductBindBsnResponse
 */
async function productBindBsnWithOptions(request: ProductBindBsnRequest, runtime: Util.RuntimeOptions): ProductBindBsnResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.aliuid)) {
    query['aliuid'] = request.aliuid;
  }
  if (!Util.isUnset(request.num)) {
    query['num'] = request.num;
  }
  if (!Util.isUnset(request.resourceId)) {
    query['resourceId'] = request.resourceId;
  }
  if (!Util.isUnset(request.resourceType)) {
    query['resourceType'] = request.resourceType;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'ProductBindBsn',
    version = '2015-05-12',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @param request ProductBindBsnRequest
 * @return ProductBindBsnResponse
 */
async function productBindBsn(request: ProductBindBsnRequest): ProductBindBsnResponse {
  var runtime = new Util.RuntimeOptions{};
  return productBindBsnWithOptions(request, runtime);
}

