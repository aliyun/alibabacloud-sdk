/**
 *
 */
import Util;
import OpenApi;

import EndpointUtil;

extends OpenApi;


init(config: OpenApi.Config){
  super(config);
  @endpointRule = '';
  
  checkConfig(config);
  @endpoint = getEndpoint('yuqing', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!Util.empty(endpoint)) {
    return endpoint;
  }
  
  if (!Util.isUnset(endpointMap) && !Util.empty(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return EndpointUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model ProductInstance {
  appCode?: string(name='appCode', description='应用码'),
  buyerName?: string(name='buyerName', description='购买者名称'),
  buyerUid?: string(name='buyerUid', description='购买者账号uid'),
  channel?: string(name='channel', description='商业化渠道码'),
  config?: string(name='config', description='购买配置信息'),
  end?: long(name='end', description='生效结束时间'),
  instanceId?: string(name='instanceId', description='实例id'),
  orderNo?: string(name='orderNo', description='订单号，幂等使用'),
  productCode?: string(name='productCode', description='产品码'),
  productSpecCode?: string(name='productSpecCode', description='规格码'),
  start?: long(name='start', description='生效开始时间'),
  tenantName?: string(name='tenantName', description='租户名称'),
  tenantUid?: string(name='tenantUid', description='租户uid'),
}

