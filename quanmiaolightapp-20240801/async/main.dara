/**
 *
 */
import BaseClientBuilder;
import TeaAsyncHandler;
import TeaRequest;
import AsyncRequestBody;
import RequestBody;
import AsyncResponseHandler;
import ClientConfiguration;
import ClientExecutionParams;
extends BaseClientBuilder;
type @product = string
type @version = string
type @endpointRule = string
type @endpointMap = map[string]string
type @REQUEST = TeaRequest
type @handler = TeaAsyncHandler

init(configuration: ClientConfiguration){
  @handler = new TeaAsyncHandler(configuration);
  @product = 'QuanMiaoLightApp';
  @version = '2024-08-01';
  @endpointRule = '';
  @endpointMap = {
  };
}

function close(): void {
  @handler.close();
}

model RunMarketingInformationExtractRequest {
  workspaceId?: string(name='workspaceId', example='w-08a4a3ba7104917c', position='Path'),
  regionId?: string(name='regionId', position='Host'),
  customPrompt?: string(name='customPrompt', position='Body'),
  extractType?: string(name='extractType', position='Body'),
  modelId?: string(name='modelId', example='qwen-max
qwen-plus', position='Body'),
  sourceMaterials?: [ string ](name='sourceMaterials', shrink='json', position='Body'),
}

model RunMarketingInformationExtractResponseBody = {
  end?: boolean(name='end', example='{\\"TimeZone\\": \\"Asia/Shanghai\\", \\"DateTime\\": \\"2024-03-07T17:00:09+08:00\\"}'),
  header?: {
    event?: string(name='event', example='result-generated'),
    eventInfo?: string(name='eventInfo'),
    requestId?: string(name='requestId', example='F08C71C0-9399-548C-838B-1DA01DE211B0'),
    sessionId?: string(name='sessionId', example='121dlsga4o7golrl1hojazg0u9lvytjc17ebgzzj2u4zukgh122tfg7wj1e6a1vcowy1ewzinauxriai9atcr6r323mm9ddbr0bg5m61ij8hxnf8664tstlfkfol6m8luc4shs3gums7l46uauyy0xndqmhdjtdon6coyhb4x17bo762bg9e3tb2geufg2'),
    taskId?: string(name='taskId', example='12826092918145'),
    traceId?: string(name='traceId', example='2150432017236011824686132ecdbc'),
  }(name='header'),
  payload?: {
    output?: {
      text?: string(name='text'),
    }(name='output'),
    usage?: {
      inputTokens?: long(name='inputTokens', example='100'),
      outputTokens?: long(name='outputTokens', example='100'),
      totalTokens?: long(name='totalTokens', example='200'),
    }(name='usage'),
  }(name='payload'),
}

model RunMarketingInformationExtractResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: RunMarketingInformationExtractResponseBody(name='body'),
}

async function runMarketingInformationExtract(request: RunMarketingInformationExtractRequest): RunMarketingInformationExtractResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RESTFUL', 'RunMarketingInformationExtract', 'POST', '/{workspaceId}/quanmiao/lightapp/runMarketingInformationExtract', 'json', true, 'form', request);
}

async function runMarketingInformationExtractWithAsyncResponseHandler(request: RunMarketingInformationExtractRequest, responseHandler: AsyncResponseHandler): RunMarketingInformationExtractResponse {
  @handler.validateRequestModel(request);
  return @handler.doResponseHandler('RESTFUL', 'RunMarketingInformationExtract', 'POST', '/{workspaceId}/quanmiao/lightapp/runMarketingInformationExtract', 'json', true, 'form', request, responseHandler);
}

function runMarketingInformationExtractWithResponseIterable(request: RunMarketingInformationExtractRequest): iterator[RunMarketingInformationExtractResponseBody] {
  @handler.validateRequestModel(request);
  yield @handler.doSSERequest('SSE', 'RunMarketingInformationExtract', 'POST', '/{workspaceId}/quanmiao/lightapp/runMarketingInformationExtract', 'json', true, 'form', request);
}

model RunMarketingInformationWritingRequest {
  workspaceId?: string(name='workspaceId', example='w-26ca1703f6d71e6e', position='Path'),
  regionId?: string(name='regionId', position='Host'),
  customPrompt?: string(name='customPrompt', position='Body'),
  modelId?: string(name='modelId', example='qwen-max
qwen-plus', position='Body'),
  sourceMaterial?: string(name='sourceMaterial', position='Body'),
  writingType?: string(name='writingType', position='Body'),
}

model RunMarketingInformationWritingResponseBody = {
  end?: boolean(name='end', example='2024-06-21T10:29:52+08:00'),
  header?: {
    event?: string(name='event', example='result-generated'),
    eventInfo?: string(name='eventInfo'),
    requestId?: string(name='requestId', example='436BC5AE-0573-59D8-9803-6B5FDCD3BBA1'),
    sessionId?: string(name='sessionId', example='uqubxgqzlnf4exfektij032lgb3yvix678p232n56387aqxdo4uutdt9wstqzovvz6j3ho7wnbgye785u79yn5q3euqmsvzmqdn3nmfq2826oscjvsi43kof8b8uxufpp1x97jjukk6jd3183hy8ni6hqpskuhuascpd'),
    taskId?: string(name='taskId', example='13312125943232'),
    traceId?: string(name='traceId', example='213e20e517049392478441155e8b2a'),
  }(name='header'),
  payload?: {
    output?: {
      text?: string(name='text'),
    }(name='output'),
    usage?: {
      inputTokens?: long(name='inputTokens', example='100'),
      outputTokens?: long(name='outputTokens', example='100'),
      totalTokens?: long(name='totalTokens', example='200'),
    }(name='usage'),
  }(name='payload'),
}

model RunMarketingInformationWritingResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: RunMarketingInformationWritingResponseBody(name='body'),
}

async function runMarketingInformationWriting(request: RunMarketingInformationWritingRequest): RunMarketingInformationWritingResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RESTFUL', 'RunMarketingInformationWriting', 'POST', '/{workspaceId}/quanmiao/lightapp/runMarketingInformationWriting', 'json', true, 'form', request);
}

async function runMarketingInformationWritingWithAsyncResponseHandler(request: RunMarketingInformationWritingRequest, responseHandler: AsyncResponseHandler): RunMarketingInformationWritingResponse {
  @handler.validateRequestModel(request);
  return @handler.doResponseHandler('RESTFUL', 'RunMarketingInformationWriting', 'POST', '/{workspaceId}/quanmiao/lightapp/runMarketingInformationWriting', 'json', true, 'form', request, responseHandler);
}

function runMarketingInformationWritingWithResponseIterable(request: RunMarketingInformationWritingRequest): iterator[RunMarketingInformationWritingResponseBody] {
  @handler.validateRequestModel(request);
  yield @handler.doSSERequest('SSE', 'RunMarketingInformationWriting', 'POST', '/{workspaceId}/quanmiao/lightapp/runMarketingInformationWriting', 'json', true, 'form', request);
}

model RunStyleWritingRequest {
  workspaceId: string(name='workspaceId', example='llm-2setzb9xb8mx', position='Path'),
  regionId?: string(name='regionId', position='Host'),
  learningSamples: [ string ](name='learningSamples', shrink='json', position='Body'),
  referenceMaterials: [ string ](name='referenceMaterials', shrink='json', position='Body'),
  styleFeature?: string(name='styleFeature', maxLength=1000, position='Body'),
  writingTheme: string(name='writingTheme', maxLength=1000, position='Body'),
}

model RunStyleWritingResponseBody = {
  end?: boolean(name='end', example='true'),
  header?: {
    errorCode?: string(name='errorCode', example='403'),
    errorMessage?: string(name='errorMessage', example='Pop sign mismatch, please check log.'),
    event?: string(name='event', example='task-progress-start-generating'),
    eventInfo?: string(name='eventInfo'),
    requestId?: string(name='requestId', example='0EB27AE3-CA53-5FAE-83C6-EE66CA4DF5DF'),
    sessionId?: string(name='sessionId', example='3cd10828-0e42-471c-8f1a-931cde20b035'),
    taskId?: string(name='taskId', example='d3be9981-ca2d-4e17-bf31-1c0a628e9f99'),
    traceId?: string(name='traceId', example='2150451a17191950923411783e2927'),
  }(name='header', example='{"event":"task-progress-start-generating","sessionId":"3cd10828-0e42-471c-8f1a-931cde20b035","taskId":"d3be9981-ca2d-4e17-bf31-1c0a628e9f99","traceId":"66bef4a7f5d61ff3c43f3b710574e175"}'),
  payload?: {
    output?: {
      text?: string(name='text'),
    }(name='output'),
    usage?: {
      inputTokens?: long(name='inputTokens', example='100'),
      outputTokens?: long(name='outputTokens', example='100'),
      totalTokens?: long(name='totalTokens', example='200'),
    }(name='usage', example='{
        "inputTokens": 1816,
        "outputTokens": 96,
        "totalTokens": 1912
    }'),
  }(name='payload'),
}

model RunStyleWritingResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: RunStyleWritingResponseBody(name='body'),
}

async function runStyleWriting(request: RunStyleWritingRequest): RunStyleWritingResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RESTFUL', 'RunStyleWriting', 'POST', '/{workspaceId}/quanmiao/lightapp/runStyleWriting', 'json', true, 'form', request);
}

async function runStyleWritingWithAsyncResponseHandler(request: RunStyleWritingRequest, responseHandler: AsyncResponseHandler): RunStyleWritingResponse {
  @handler.validateRequestModel(request);
  return @handler.doResponseHandler('RESTFUL', 'RunStyleWriting', 'POST', '/{workspaceId}/quanmiao/lightapp/runStyleWriting', 'json', true, 'form', request, responseHandler);
}

function runStyleWritingWithResponseIterable(request: RunStyleWritingRequest): iterator[RunStyleWritingResponseBody] {
  @handler.validateRequestModel(request);
  yield @handler.doSSERequest('SSE', 'RunStyleWriting', 'POST', '/{workspaceId}/quanmiao/lightapp/runStyleWriting', 'json', true, 'form', request);
}

model RunVideoAnalysisRequest {
  regionId?: string(name='regionId', position='Host'),
  workspaceId: string(name='workspaceId', example='llm-xxx', position='Path'),
  generateOptions?: [ string ](name='generateOptions', shrink='json', position='Body'),
  modelCustomPromptTemplate?: string(name='modelCustomPromptTemplate', position='Body'),
  modelCustomPromptTemplateId?: string(name='modelCustomPromptTemplateId', example='PlotDetail', position='Body'),
  modelId?: string(name='modelId', example='qwen-max', position='Body'),
  originalSessionId?: string(name='originalSessionId', example='a3d1c2ac-f086-4a21-9069-f5631542f5ax', position='Body'),
  taskId?: string(name='taskId', example='a3d1c2ac-f086-4a21-9069-f5631542f5a2', position='Body'),
  videoModelCustomPromptTemplate?: string(name='videoModelCustomPromptTemplate', position='Body'),
  videoModelId?: string(name='videoModelId', example='qwen-vl-max', position='Body'),
  videoUrl?: string(name='videoUrl', example='http://xxxx.mp4', position='Body'),
}

model RunVideoAnalysisResponseBody = {
  header?: {
    errorCode?: string(name='errorCode', example='InvalidParam'),
    errorMessage?: string(name='errorMessage', example='Pop sign mismatch, please check log.'),
    event?: string(name='event', example='task-progress-start-generating'),
    eventInfo?: string(name='eventInfo'),
    sessionId?: string(name='sessionId', example='xxx'),
    taskId?: string(name='taskId', example='xxx'),
    traceId?: string(name='traceId', example='2150432017236011824686132ecdbc'),
  }(name='header'),
  payload?: {
    output?: {
      videoAnalysisResult?: {
        generateFinished?: boolean(name='generateFinished', example='true'),
        text?: string(name='text'),
        usage?: {
          inputTokens?: long(name='inputTokens', example='1'),
          outputTokens?: long(name='outputTokens', example='1'),
          totalTokens?: long(name='totalTokens', example='1'),
        }(name='usage'),
        videoShotAnalysisResults?: [ 
          {
            endTime?: long(name='endTime', example='10000'),
            startTime?: long(name='startTime', example='1000'),
            text?: string(name='text'),
          }
        ](name='videoShotAnalysisResults'),
      }(name='videoAnalysisResult'),
      videoCaptionResult?: {
        generateFinished?: boolean(name='generateFinished', example='true'),
        videoCaptions?: [ 
          {
            endTime?: long(name='endTime', example='1710432000000'),
            endTimeFormat?: string(name='endTimeFormat', example='00:01'),
            startTime?: long(name='startTime', example='0'),
            startTimeFormat?: string(name='startTimeFormat', example='00:01'),
            text?: string(name='text', example='xxx'),
          }
        ](name='videoCaptions'),
      }(name='videoCaptionResult'),
      videoGenerateResult?: {
        generateFinished?: boolean(name='generateFinished', example='true'),
        text?: string(name='text'),
        usage?: {
          inputTokens?: long(name='inputTokens', example='1'),
          outputTokens?: long(name='outputTokens', example='1'),
          totalTokens?: long(name='totalTokens', example='1'),
        }(name='usage'),
      }(name='videoGenerateResult'),
      videoMindMappingGenerateResult?: {
        generateFinished?: boolean(name='generateFinished', example='true'),
        text?: string(name='text'),
        usage?: {
          inputTokens?: long(name='inputTokens', example='1'),
          outputTokens?: long(name='outputTokens', example='1'),
          totalTokens?: long(name='totalTokens', example='1'),
        }(name='usage'),
        videoMindMappings?: [ 
          {
            childNodes?: [ 
              {
                childNodes?: [ 
                  {
                    name?: string(name='name'),
                  }
                ](name='childNodes'),
                name?: string(name='name'),
              }
            ](name='childNodes'),
            name?: string(name='name'),
          }
        ](name='videoMindMappings'),
      }(name='videoMindMappingGenerateResult'),
      videoTitleGenerateResult?: {
        generateFinished?: boolean(name='generateFinished', example='true'),
        text?: string(name='text'),
        usage?: {
          inputTokens?: long(name='inputTokens', example='1'),
          outputTokens?: long(name='outputTokens', example='1'),
          totalTokens?: long(name='totalTokens', example='2'),
        }(name='usage'),
      }(name='videoTitleGenerateResult'),
    }(name='output'),
  }(name='payload'),
  requestId?: string(name='requestId', example='117F5ABE-CF02-5502-9A3F-E56BC9081A64'),
}

model RunVideoAnalysisResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: RunVideoAnalysisResponseBody(name='body'),
}

async function runVideoAnalysis(request: RunVideoAnalysisRequest): RunVideoAnalysisResponse {
  @handler.validateRequestModel(request);
  return @handler.do('RESTFUL', 'RunVideoAnalysis', 'POST', '/{workspaceId}/quanmiao/lightapp/runVideoAnalysis', 'json', true, 'form', request);
}

async function runVideoAnalysisWithAsyncResponseHandler(request: RunVideoAnalysisRequest, responseHandler: AsyncResponseHandler): RunVideoAnalysisResponse {
  @handler.validateRequestModel(request);
  return @handler.doResponseHandler('RESTFUL', 'RunVideoAnalysis', 'POST', '/{workspaceId}/quanmiao/lightapp/runVideoAnalysis', 'json', true, 'form', request, responseHandler);
}

function runVideoAnalysisWithResponseIterable(request: RunVideoAnalysisRequest): iterator[RunVideoAnalysisResponseBody] {
  @handler.validateRequestModel(request);
  yield @handler.doSSERequest('SSE', 'RunVideoAnalysis', 'POST', '/{workspaceId}/quanmiao/lightapp/runVideoAnalysis', 'json', true, 'form', request);
}

