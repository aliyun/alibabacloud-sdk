/**
 *
 */
import Util;
import OpenApi;
import OpenApiUtil;
import EndpointUtil;

extends OpenApi;

init(config: OpenApi.Config){
  super(config);
  @endpointRule = 'regional';
  
  checkConfig(config);
  @endpoint = getEndpoint('computenest', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!Util.empty(endpoint)) {
    return endpoint;
  }

  if (!Util.isUnset(endpointMap) && !Util.empty(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return EndpointUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}
model ContinueDeployServiceInstanceRequest {
  clientToken?: string(name='ClientToken'),
  parameters?: string(name='Parameters'),
  regionId?: string(name='RegionId'),
  serviceInstanceId?: string(name='ServiceInstanceId'),
}

model ContinueDeployServiceInstanceResponseBody = {
  requestId?: string(name='RequestId'),
}

model ContinueDeployServiceInstanceResponse = {
  headers: map[string]string(name='headers'),
  body: ContinueDeployServiceInstanceResponseBody(name='body'),
}

async function continueDeployServiceInstanceWithOptions(request: ContinueDeployServiceInstanceRequest, runtime: Util.RuntimeOptions): ContinueDeployServiceInstanceResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ContinueDeployServiceInstance', '2021-06-01', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function continueDeployServiceInstance(request: ContinueDeployServiceInstanceRequest): ContinueDeployServiceInstanceResponse {
  var runtime = new Util.RuntimeOptions{};
  return continueDeployServiceInstanceWithOptions(request, runtime);
}

model CreateServiceInstanceRequest {
  clientToken?: string(name='ClientToken'),
  enableAccountOps?: boolean(name='EnableAccountOps'),
  enableInstanceOps?: boolean(name='EnableInstanceOps'),
  operationMetadata?: {
    endTime?: string(name='EndTime'),
    resources?: string(name='Resources'),
    serviceInstanceId?: string(name='ServiceInstanceId'),
    startTime?: string(name='StartTime'),
  }(name='OperationMetadata'),
  parameters?: map[string]any(name='Parameters'),
  regionId?: string(name='RegionId'),
  requestTag?: [ 
    {
      key?: string(name='Key'),
      value?: string(name='Value'),
    }
  ](name='RequestTag'),
  resourceGroupId?: string(name='ResourceGroupId'),
  serviceId?: string(name='ServiceId'),
  serviceVersion?: string(name='ServiceVersion'),
  templateName?: string(name='TemplateName'),
}

model CreateServiceInstanceShrinkRequest {
  clientToken?: string(name='ClientToken'),
  enableAccountOps?: boolean(name='EnableAccountOps'),
  enableInstanceOps?: boolean(name='EnableInstanceOps'),
  operationMetadata?: {
    endTime?: string(name='EndTime'),
    resources?: string(name='Resources'),
    serviceInstanceId?: string(name='ServiceInstanceId'),
    startTime?: string(name='StartTime'),
  }(name='OperationMetadata'),
  parametersShrink?: string(name='Parameters'),
  regionId?: string(name='RegionId'),
  requestTag?: [ 
    {
      key?: string(name='Key'),
      value?: string(name='Value'),
    }
  ](name='RequestTag'),
  resourceGroupId?: string(name='ResourceGroupId'),
  serviceId?: string(name='ServiceId'),
  serviceVersion?: string(name='ServiceVersion'),
  templateName?: string(name='TemplateName'),
}

model CreateServiceInstanceResponseBody = {
  requestId?: string(name='RequestId'),
  serviceInstanceId?: string(name='ServiceInstanceId'),
  status?: string(name='Status'),
}

model CreateServiceInstanceResponse = {
  headers: map[string]string(name='headers'),
  body: CreateServiceInstanceResponseBody(name='body'),
}

async function createServiceInstanceWithOptions(tmpReq: CreateServiceInstanceRequest, runtime: Util.RuntimeOptions): CreateServiceInstanceResponse {
  Util.validateModel(tmpReq);
  var request = new CreateServiceInstanceShrinkRequest{};
  OpenApiUtil.convert(tmpReq, request);
  if (!Util.isUnset(tmpReq.parameters)) {
    request.parametersShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.parameters, 'Parameters', 'json');
  }
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('CreateServiceInstance', '2021-06-01', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function createServiceInstance(request: CreateServiceInstanceRequest): CreateServiceInstanceResponse {
  var runtime = new Util.RuntimeOptions{};
  return createServiceInstanceWithOptions(request, runtime);
}

model DeleteServiceInstancesRequest {
  clientToken?: string(name='ClientToken'),
  regionId?: string(name='RegionId'),
  serviceInstanceId?: [ string ](name='ServiceInstanceId'),
}

model DeleteServiceInstancesResponseBody = {
  requestId?: string(name='RequestId'),
}

model DeleteServiceInstancesResponse = {
  headers: map[string]string(name='headers'),
  body: DeleteServiceInstancesResponseBody(name='body'),
}

async function deleteServiceInstancesWithOptions(request: DeleteServiceInstancesRequest, runtime: Util.RuntimeOptions): DeleteServiceInstancesResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('DeleteServiceInstances', '2021-06-01', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function deleteServiceInstances(request: DeleteServiceInstancesRequest): DeleteServiceInstancesResponse {
  var runtime = new Util.RuntimeOptions{};
  return deleteServiceInstancesWithOptions(request, runtime);
}

model GetServiceInstanceRequest {
  regionId?: string(name='RegionId'),
  serviceInstanceId?: string(name='ServiceInstanceId'),
}

model GetServiceInstanceResponseBody = {
  createTime?: string(name='CreateTime'),
  enableInstanceOps?: boolean(name='EnableInstanceOps'),
  isOperated?: boolean(name='IsOperated'),
  operatedServiceInstanceId?: string(name='OperatedServiceInstanceId'),
  operationEndTime?: string(name='OperationEndTime'),
  operationStartTime?: string(name='OperationStartTime'),
  outputs?: string(name='Outputs'),
  parameters?: string(name='Parameters'),
  progress?: long(name='Progress'),
  requestId?: string(name='RequestId'),
  resources?: string(name='Resources'),
  service?: {
    deployMetadata?: string(name='DeployMetadata'),
    deployType?: string(name='DeployType'),
    publishTime?: string(name='PublishTime'),
    serviceId?: string(name='ServiceId'),
    serviceInfos?: [ 
      {
        image?: string(name='Image'),
        locale?: string(name='Locale'),
        name?: string(name='Name'),
        shortDescription?: string(name='ShortDescription'),
      }
    ](name='ServiceInfos'),
    serviceType?: string(name='ServiceType'),
    status?: string(name='Status'),
    supplierName?: string(name='SupplierName'),
    supplierUrl?: string(name='SupplierUrl'),
    version?: string(name='Version'),
  }(name='Service'),
  serviceInstanceId?: string(name='ServiceInstanceId'),
  status?: string(name='Status'),
  statusDetail?: string(name='StatusDetail'),
  templateName?: string(name='TemplateName'),
  updateTime?: string(name='UpdateTime'),
}

model GetServiceInstanceResponse = {
  headers: map[string]string(name='headers'),
  body: GetServiceInstanceResponseBody(name='body'),
}

async function getServiceInstanceWithOptions(request: GetServiceInstanceRequest, runtime: Util.RuntimeOptions): GetServiceInstanceResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('GetServiceInstance', '2021-06-01', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function getServiceInstance(request: GetServiceInstanceRequest): GetServiceInstanceResponse {
  var runtime = new Util.RuntimeOptions{};
  return getServiceInstanceWithOptions(request, runtime);
}

model ListServiceInstanceLogsRequest {
  maxResults?: string(name='MaxResults'),
  nextToken?: string(name='NextToken'),
  regionId?: string(name='RegionId'),
  serviceInstanceId?: string(name='ServiceInstanceId'),
}

model ListServiceInstanceLogsResponseBody = {
  maxResults?: string(name='MaxResults'),
  nextToken?: string(name='NextToken'),
  requestId?: string(name='RequestId'),
  serviceInstancesLogs?: [ 
    {
      content?: string(name='Content'),
      phase?: string(name='Phase'),
      serviceInstanceId?: string(name='ServiceInstanceId'),
      source?: string(name='Source'),
      timestamp?: string(name='Timestamp'),
    }
  ](name='ServiceInstancesLogs'),
}

model ListServiceInstanceLogsResponse = {
  headers: map[string]string(name='headers'),
  body: ListServiceInstanceLogsResponseBody(name='body'),
}

async function listServiceInstanceLogsWithOptions(request: ListServiceInstanceLogsRequest, runtime: Util.RuntimeOptions): ListServiceInstanceLogsResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ListServiceInstanceLogs', '2021-06-01', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function listServiceInstanceLogs(request: ListServiceInstanceLogsRequest): ListServiceInstanceLogsResponse {
  var runtime = new Util.RuntimeOptions{};
  return listServiceInstanceLogsWithOptions(request, runtime);
}

model ListServiceInstanceResourcesRequest {
  maxResults?: string(name='MaxResults'),
  nextToken?: string(name='NextToken'),
  serviceInstanceId?: string(name='ServiceInstanceId'),
}

model ListServiceInstanceResourcesResponseBody = {
  maxResults?: string(name='MaxResults'),
  nextToken?: string(name='NextToken'),
  requestId?: string(name='RequestId'),
  resources?: [ 
    {
      resourceARN?: string(name='ResourceARN'),
    }
  ](name='Resources'),
}

model ListServiceInstanceResourcesResponse = {
  headers: map[string]string(name='headers'),
  body: ListServiceInstanceResourcesResponseBody(name='body'),
}

async function listServiceInstanceResourcesWithOptions(request: ListServiceInstanceResourcesRequest, runtime: Util.RuntimeOptions): ListServiceInstanceResourcesResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ListServiceInstanceResources', '2021-06-01', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function listServiceInstanceResources(request: ListServiceInstanceResourcesRequest): ListServiceInstanceResourcesResponse {
  var runtime = new Util.RuntimeOptions{};
  return listServiceInstanceResourcesWithOptions(request, runtime);
}

model ListServiceInstancesRequest {
  filter?: [ 
    {
      name?: string(name='Name'),
      value?: [ string ](name='Value'),
    }
  ](name='Filter'),
  maxResults?: string(name='MaxResults'),
  nextToken?: string(name='NextToken'),
  regionId?: string(name='RegionId'),
  requestTag?: [ 
    {
      key?: string(name='Key'),
      value?: string(name='Value'),
    }
  ](name='RequestTag'),
}

model ListServiceInstancesResponseBody = {
  maxResults?: string(name='MaxResults'),
  nextToken?: string(name='NextToken'),
  requestId?: string(name='RequestId'),
  serviceInstances?: [ 
    {
      createTime?: string(name='CreateTime'),
      enableInstanceOps?: boolean(name='EnableInstanceOps'),
      operatedServiceInstanceId?: string(name='OperatedServiceInstanceId'),
      operationEndTime?: string(name='OperationEndTime'),
      operationStartTime?: string(name='OperationStartTime'),
      outputs?: string(name='Outputs'),
      parameters?: string(name='Parameters'),
      progress?: long(name='Progress'),
      resources?: string(name='Resources'),
      service?: {
        deployType?: string(name='DeployType'),
        publishTime?: string(name='PublishTime'),
        serviceId?: string(name='ServiceId'),
        serviceInfos?: [ 
          {
            image?: string(name='Image'),
            locale?: string(name='Locale'),
            name?: string(name='Name'),
            shortDescription?: string(name='ShortDescription'),
          }
        ](name='ServiceInfos'),
        serviceType?: string(name='ServiceType'),
        status?: string(name='Status'),
        supplierName?: string(name='SupplierName'),
        supplierUrl?: string(name='SupplierUrl'),
        version?: string(name='Version'),
      }(name='Service'),
      serviceInstanceId?: string(name='ServiceInstanceId'),
      status?: string(name='Status'),
      statusDetail?: string(name='StatusDetail'),
      templateName?: string(name='TemplateName'),
      updateTime?: string(name='UpdateTime'),
    }
  ](name='ServiceInstances'),
  totalCount?: long(name='TotalCount'),
}

model ListServiceInstancesResponse = {
  headers: map[string]string(name='headers'),
  body: ListServiceInstancesResponseBody(name='body'),
}

async function listServiceInstancesWithOptions(request: ListServiceInstancesRequest, runtime: Util.RuntimeOptions): ListServiceInstancesResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ListServiceInstances', '2021-06-01', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function listServiceInstances(request: ListServiceInstancesRequest): ListServiceInstancesResponse {
  var runtime = new Util.RuntimeOptions{};
  return listServiceInstancesWithOptions(request, runtime);
}

