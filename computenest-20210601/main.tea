/**
 *
 */
import Util;
import OpenApi;
import OpenApiUtil;
import EndpointUtil;

extends OpenApi;


init(config: OpenApi.Config){
  super(config);
  @endpointRule = 'regional';
  
  checkConfig(config);
  @endpoint = getEndpoint('computenest', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!Util.empty(endpoint)) {
    return endpoint;
  }
  
  if (!Util.isUnset(endpointMap) && !Util.empty(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return EndpointUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model ChangeResourceGroupRequest {
  newResourceGroupId?: string(name='NewResourceGroupId', example='rg-acfmzmhzo******'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  resourceId?: string(name='ResourceId', example='si-5dc794a7fd254e******'),
  resourceType?: string(name='ResourceType', example='service'),
}

model ChangeResourceGroupResponseBody = {
  requestId?: string(name='RequestId', example='464C8CB6-A548-5206-B83C-D32A8E43EC21'),
}

model ChangeResourceGroupResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: ChangeResourceGroupResponseBody(name='body'),
}

async function changeResourceGroupWithOptions(request: ChangeResourceGroupRequest, runtime: Util.RuntimeOptions): ChangeResourceGroupResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.newResourceGroupId)) {
    query['NewResourceGroupId'] = request.newResourceGroupId;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.resourceId)) {
    query['ResourceId'] = request.resourceId;
  }
  if (!Util.isUnset(request.resourceType)) {
    query['ResourceType'] = request.resourceType;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'ChangeResourceGroup',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function changeResourceGroup(request: ChangeResourceGroupRequest): ChangeResourceGroupResponse {
  var runtime = new Util.RuntimeOptions{};
  return changeResourceGroupWithOptions(request, runtime);
}

model ContinueDeployServiceInstanceRequest {
  clientToken?: string(name='ClientToken', example='123e4567-e89b-12d3-a456-426655440000'),
  dryRun?: boolean(name='DryRun', example='false'),
  option?: [ string ](name='Option'),
  parameters?: string(name='Parameters', example='{"NodeCount": 3, "SystemDiskSize": 40, "InstancePassword": "******"}'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  serviceInstanceId?: string(name='ServiceInstanceId', example='si-0e6fca6a51a54420****'),
}

model ContinueDeployServiceInstanceResponseBody = {
  dryRunResult?: {
    parametersAllowedToBeModified?: [ string ](name='ParametersAllowedToBeModified'),
    parametersConditionallyAllowedToBeModified?: [ string ](name='ParametersConditionallyAllowedToBeModified'),
    parametersNotAllowedToBeModified?: [ string ](name='ParametersNotAllowedToBeModified'),
  }(name='DryRunResult'),
  requestId?: string(name='RequestId', example='4DB0F536-B3BE-4F0D-BD29-E83FB56D550C'),
  serviceInstanceId?: string(name='ServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
}

model ContinueDeployServiceInstanceResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: ContinueDeployServiceInstanceResponseBody(name='body'),
}

async function continueDeployServiceInstanceWithOptions(request: ContinueDeployServiceInstanceRequest, runtime: Util.RuntimeOptions): ContinueDeployServiceInstanceResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.clientToken)) {
    query['ClientToken'] = request.clientToken;
  }
  if (!Util.isUnset(request.dryRun)) {
    query['DryRun'] = request.dryRun;
  }
  if (!Util.isUnset(request.option)) {
    query['Option'] = request.option;
  }
  if (!Util.isUnset(request.parameters)) {
    query['Parameters'] = request.parameters;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.serviceInstanceId)) {
    query['ServiceInstanceId'] = request.serviceInstanceId;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'ContinueDeployServiceInstance',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function continueDeployServiceInstance(request: ContinueDeployServiceInstanceRequest): ContinueDeployServiceInstanceResponse {
  var runtime = new Util.RuntimeOptions{};
  return continueDeployServiceInstanceWithOptions(request, runtime);
}

model CreateServiceInstanceRequest {
  clientToken?: string(name='ClientToken', example='123e4567-e89b-12d3-a456-426655440000'),
  commodity?: {
    payPeriod?: long(name='PayPeriod', example='1'),
    payPeriodUnit?: string(name='PayPeriodUnit', example='Year'),
  }(name='Commodity'),
  contactGroup?: string(name='ContactGroup', description='接收告警的云监控联系人组。', example='云账号报警联系人'),
  dryRun?: boolean(name='DryRun', example='false'),
  enableInstanceOps?: boolean(name='EnableInstanceOps', example='true'),
  enableUserPrometheus?: boolean(name='EnableUserPrometheus', example='true'),
  name?: string(name='Name', description='服务实例名称。格式要求如下：

- 长度不超过64个字符。

- 必须以数字或英文字母开头，可包含数字、英文字母、短划线（-）和下划线（_）。', example='TestName'),
  operationMetadata?: {
    endTime?: string(name='EndTime', example='2022-01-28T06:48:56Z'),
    extraInfo?: string(name='ExtraInfo', example='```json
  {
    "vncInfo": [
      {
        "instanceId": "i-001",
        "username": "admin",
        "password": "******",
        "vncPassword": "******"
      }
    ]
  }
  ```'),
    resources?: string(name='Resources', example='{   "RegionId": "cn-hangzhou",   "Type": "ResourceIds",   "ResourceIds": {     "ALIYUN::ECS::INSTANCE": ["i-xxx", "i-yyy"],     "ALIYUN::RDS::INSTANCE": ["rm-xxx", "rm-yyy"],     "ALIYUN::VPC::VPC": ["vpc-xxx", "vpc-yyy"],     "ALIYUN::SLB::INSTANCE": ["lb-xxx", "lb-yyy"]   } }'),
    serviceInstanceId?: string(name='ServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
    startTime?: string(name='StartTime', example='2021-12-29T06:48:56Z'),
  }(name='OperationMetadata'),
  parameters?: map[string]any(name='Parameters', example='{"NodeCount": 3, "SystemDiskSize": 40, "InstancePassword": "******"}'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  resourceGroupId?: string(name='ResourceGroupId', example='rg-bp67acfmxazb4p****'),
  serviceId?: string(name='ServiceId', example='service-0e6fca6a51a54420****'),
  serviceVersion?: string(name='ServiceVersion', example='1'),
  specificationCode?: string(name='SpecificationCode', example='yuncode5425200001'),
  specificationName?: string(name='SpecificationName', description='套餐规格名称。', example='套餐一'),
  tag?: [ 
    {
      key?: string(name='Key', description='标签键。', example='key1'),
      value?: string(name='Value', description='标签值。', example='value1'),
    }
  ](name='Tag', description='用户自定义标签。'),
  templateName?: string(name='TemplateName'),
  trialType?: string(name='TrialType', description='使用类型。可选值：

- Trial：支持试用。

- NotTrial：不支持试用。', example='Trial'),
}

model CreateServiceInstanceShrinkRequest {
  clientToken?: string(name='ClientToken', example='123e4567-e89b-12d3-a456-426655440000'),
  commodity?: {
    payPeriod?: long(name='PayPeriod', example='1'),
    payPeriodUnit?: string(name='PayPeriodUnit', example='Year'),
  }(name='Commodity'),
  contactGroup?: string(name='ContactGroup', description='接收告警的云监控联系人组。', example='云账号报警联系人'),
  dryRun?: boolean(name='DryRun', example='false'),
  enableInstanceOps?: boolean(name='EnableInstanceOps', example='true'),
  enableUserPrometheus?: boolean(name='EnableUserPrometheus', example='true'),
  name?: string(name='Name', description='服务实例名称。格式要求如下：

- 长度不超过64个字符。

- 必须以数字或英文字母开头，可包含数字、英文字母、短划线（-）和下划线（_）。', example='TestName'),
  operationMetadata?: {
    endTime?: string(name='EndTime', example='2022-01-28T06:48:56Z'),
    extraInfo?: string(name='ExtraInfo', example='```json
  {
    "vncInfo": [
      {
        "instanceId": "i-001",
        "username": "admin",
        "password": "******",
        "vncPassword": "******"
      }
    ]
  }
  ```'),
    resources?: string(name='Resources', example='{   "RegionId": "cn-hangzhou",   "Type": "ResourceIds",   "ResourceIds": {     "ALIYUN::ECS::INSTANCE": ["i-xxx", "i-yyy"],     "ALIYUN::RDS::INSTANCE": ["rm-xxx", "rm-yyy"],     "ALIYUN::VPC::VPC": ["vpc-xxx", "vpc-yyy"],     "ALIYUN::SLB::INSTANCE": ["lb-xxx", "lb-yyy"]   } }'),
    serviceInstanceId?: string(name='ServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
    startTime?: string(name='StartTime', example='2021-12-29T06:48:56Z'),
  }(name='OperationMetadata'),
  parametersShrink?: string(name='Parameters', example='{"NodeCount": 3, "SystemDiskSize": 40, "InstancePassword": "******"}'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  resourceGroupId?: string(name='ResourceGroupId', example='rg-bp67acfmxazb4p****'),
  serviceId?: string(name='ServiceId', example='service-0e6fca6a51a54420****'),
  serviceVersion?: string(name='ServiceVersion', example='1'),
  specificationCode?: string(name='SpecificationCode', example='yuncode5425200001'),
  specificationName?: string(name='SpecificationName', description='套餐规格名称。', example='套餐一'),
  tag?: [ 
    {
      key?: string(name='Key', description='标签键。', example='key1'),
      value?: string(name='Value', description='标签值。', example='value1'),
    }
  ](name='Tag', description='用户自定义标签。'),
  templateName?: string(name='TemplateName'),
  trialType?: string(name='TrialType', description='使用类型。可选值：

- Trial：支持试用。

- NotTrial：不支持试用。', example='Trial'),
}

model CreateServiceInstanceResponseBody = {
  marketInstanceId?: string(name='MarketInstanceId', example='786***45'),
  requestId?: string(name='RequestId', example='4DB0F536-B3BE-4F0D-BD29-E83FB56D****'),
  serviceInstanceId?: string(name='ServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
  status?: string(name='Status', example='Created'),
}

model CreateServiceInstanceResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: CreateServiceInstanceResponseBody(name='body'),
}

async function createServiceInstanceWithOptions(tmpReq: CreateServiceInstanceRequest, runtime: Util.RuntimeOptions): CreateServiceInstanceResponse {
  Util.validateModel(tmpReq);
  var request = new CreateServiceInstanceShrinkRequest{};
  OpenApiUtil.convert(tmpReq, request);
  if (!Util.isUnset(tmpReq.parameters)) {
    request.parametersShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.parameters, 'Parameters', 'json');
  }
  var query = {};
  if (!Util.isUnset(request.clientToken)) {
    query['ClientToken'] = request.clientToken;
  }
  if (!Util.isUnset(request.commodity)) {
    query['Commodity'] = request.commodity;
  }
  if (!Util.isUnset(request.contactGroup)) {
    query['ContactGroup'] = request.contactGroup;
  }
  if (!Util.isUnset(request.dryRun)) {
    query['DryRun'] = request.dryRun;
  }
  if (!Util.isUnset(request.enableInstanceOps)) {
    query['EnableInstanceOps'] = request.enableInstanceOps;
  }
  if (!Util.isUnset(request.enableUserPrometheus)) {
    query['EnableUserPrometheus'] = request.enableUserPrometheus;
  }
  if (!Util.isUnset(request.name)) {
    query['Name'] = request.name;
  }
  if (!Util.isUnset(request.operationMetadata)) {
    query['OperationMetadata'] = request.operationMetadata;
  }
  if (!Util.isUnset(request.parametersShrink)) {
    query['Parameters'] = request.parametersShrink;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.resourceGroupId)) {
    query['ResourceGroupId'] = request.resourceGroupId;
  }
  if (!Util.isUnset(request.serviceId)) {
    query['ServiceId'] = request.serviceId;
  }
  if (!Util.isUnset(request.serviceVersion)) {
    query['ServiceVersion'] = request.serviceVersion;
  }
  if (!Util.isUnset(request.specificationCode)) {
    query['SpecificationCode'] = request.specificationCode;
  }
  if (!Util.isUnset(request.specificationName)) {
    query['SpecificationName'] = request.specificationName;
  }
  if (!Util.isUnset(request.tag)) {
    query['Tag'] = request.tag;
  }
  if (!Util.isUnset(request.templateName)) {
    query['TemplateName'] = request.templateName;
  }
  if (!Util.isUnset(request.trialType)) {
    query['TrialType'] = request.trialType;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'CreateServiceInstance',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function createServiceInstance(request: CreateServiceInstanceRequest): CreateServiceInstanceResponse {
  var runtime = new Util.RuntimeOptions{};
  return createServiceInstanceWithOptions(request, runtime);
}

model DeleteServiceInstancesRequest {
  clientToken?: string(name='ClientToken', example='123e4567-e89b-12d3-a456-426655440000'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  serviceInstanceId?: [ string ](name='ServiceInstanceId'),
}

model DeleteServiceInstancesResponseBody = {
  requestId?: string(name='RequestId', example='4DB0F536-B3BE-4F0D-BD29-E83FB56D550C'),
}

model DeleteServiceInstancesResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: DeleteServiceInstancesResponseBody(name='body'),
}

async function deleteServiceInstancesWithOptions(request: DeleteServiceInstancesRequest, runtime: Util.RuntimeOptions): DeleteServiceInstancesResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.clientToken)) {
    query['ClientToken'] = request.clientToken;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.serviceInstanceId)) {
    query['ServiceInstanceId'] = request.serviceInstanceId;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'DeleteServiceInstances',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function deleteServiceInstances(request: DeleteServiceInstancesRequest): DeleteServiceInstancesResponse {
  var runtime = new Util.RuntimeOptions{};
  return deleteServiceInstancesWithOptions(request, runtime);
}

model GetServiceInstanceRequest {
  marketInstanceId?: string(name='MarketInstanceId', example='704***59'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  serviceInstanceId?: string(name='ServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
}

model GetServiceInstanceResponseBody = {
  bizStatus?: string(name='BizStatus'),
  components?: string(name='Components', description='云市场额外计费项。', example='{"TiKVServerCount":"3","package_version":"yuncode5398300001","PDServerCount":"3","TiDBServerCount":"2"}'),
  createTime?: string(name='CreateTime', example='2021-05-20T00:00:00Z'),
  enableInstanceOps?: boolean(name='EnableInstanceOps', example='true'),
  enableUserPrometheus?: boolean(name='EnableUserPrometheus', example='true'),
  endTime?: string(name='EndTime', example='2022-01-01T12:00:00'),
  isOperated?: boolean(name='IsOperated', example='true'),
  licenseEndTime?: string(name='LicenseEndTime', example='2022-01-01T12:00:00'),
  marketInstanceId?: string(name='MarketInstanceId', example='704***59'),
  name?: string(name='Name', example='TestName'),
  networkConfig?: {
    endpointId?: string(name='EndpointId', example='ep-m5ei37240541816b****'),
    privateVpcConnections?: [ 
      {
        connectionConfigs?: [ 
          {
            connectBandwidth?: int32(name='ConnectBandwidth'),
            domainName?: string(name='DomainName', description='域名名称。', example='ie-569a9be34f5534f6bc6559b5c1xxxxxx.service-51f80502802e48xxxxxx.cn-hangzhou.computenest.aliyuncs.com'),
            endpointIps?: [ string ](name='EndpointIps'),
            ingressEndpointStatus?: string(name='IngressEndpointStatus', example='Ready'),
            networkServiceStatus?: string(name='NetworkServiceStatus', example='Ready'),
            regionId?: string(name='RegionId', example='cn-beijing'),
            securityGroups?: [ string ](name='SecurityGroups'),
            vSwitches?: [ string ](name='VSwitches'),
            vpcId?: string(name='VpcId', example='vpc-bp1vwnn14rqpyiczj****'),
          }
        ](name='ConnectionConfigs'),
        endpointId?: string(name='EndpointId', example='ep-m5ei37240541816b****'),
        privateZoneId?: string(name='PrivateZoneId', example='cb7f214f80ac348d87daaeac1f35****'),
        privateZoneName?: string(name='PrivateZoneName', example='test.computenest.aliyuncs.com'),
        regionId?: string(name='RegionId', example='cn-hangzhou'),
      }
    ](name='PrivateVpcConnections'),
    privateZoneId?: string(name='PrivateZoneId', example='cb7f214f80ac348d87daaeac1f35****'),
    reversePrivateVpcConnections?: [ 
      {
        endpointId?: string(name='EndpointId', example='ep-m5ei42370541816b****'),
      }
    ](name='ReversePrivateVpcConnections'),
  }(name='NetworkConfig'),
  operatedServiceInstanceId?: string(name='OperatedServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
  operationEndTime?: string(name='OperationEndTime', example='2022-01-28T06:48:56Z'),
  operationStartTime?: string(name='OperationStartTime', example='2021-12-29T06:48:56Z'),
  outputs?: string(name='Outputs', example='{"InstanceIds":["i-hp38ofxl0dsyfi7z****"]}'),
  parameters?: string(name='Parameters', example='{"param":"value"}'),
  payType?: string(name='PayType', example='Subscription'),
  predefinedParameterName?: string(name='PredefinedParameterName', description='套餐名称。', example='套餐一'),
  progress?: long(name='Progress', example='90'),
  requestId?: string(name='RequestId', example='4DB0F536-B3BE-4F0D-BD29-E83FB56D550C'),
  resourceGroupId?: string(name='ResourceGroupId', example='rg-bp67acfmxazb4p****'),
  resources?: string(name='Resources', example='[{"StackId": "stack-xxx"}]'),
  service?: {
    deployMetadata?: string(name='DeployMetadata'),
    deployType?: string(name='DeployType', example='ros'),
    publishTime?: string(name='PublishTime', example='2021-05-21T00:00:00Z'),
    serviceDocUrl?: string(name='ServiceDocUrl', example='http://example.com'),
    serviceId?: string(name='ServiceId', example='service-9c8a3522528b4fe8****'),
    serviceInfos?: [ 
      {
        image?: string(name='Image', example='https://example.com/service-image/c1c4a559-cc60-4af1-b976-98f356602462.png'),
        locale?: string(name='Locale', example='zh-CN'),
        name?: string(name='Name'),
        shortDescription?: string(name='ShortDescription'),
      }
    ](name='ServiceInfos'),
    serviceProductUrl?: string(name='ServiceProductUrl', example='https://service-info-private.oss-cn-hangzhou.aliyuncs.com'),
    serviceType?: string(name='ServiceType', example='private'),
    status?: string(name='Status', example='Online'),
    supplierName?: string(name='SupplierName'),
    supplierUrl?: string(name='SupplierUrl', example='http://example.com'),
    upgradableServiceVersions?: [ string ](name='UpgradableServiceVersions'),
    upgradeMetadata?: string(name='UpgradeMetadata'),
    version?: string(name='Version', example='1'),
    versionName?: string(name='VersionName'),
  }(name='Service'),
  serviceInstanceId?: string(name='ServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
  serviceType?: string(name='ServiceType', example='private'),
  source?: string(name='Source', example='User'),
  status?: string(name='Status', example='Deployed'),
  statusDetail?: string(name='StatusDetail', example='deploy successfully'),
  supplierUid?: long(name='SupplierUid', example='158927391332*****'),
  tags?: [ 
    {
      key?: string(name='Key', example='key1'),
      value?: string(name='Value', example='value1'),
    }
  ](name='Tags'),
  templateName?: string(name='TemplateName'),
  updateTime?: string(name='UpdateTime', example='2021-05-20T00:00:00Z'),
  userId?: long(name='UserId', example='130920852836****'),
}

model GetServiceInstanceResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: GetServiceInstanceResponseBody(name='body'),
}

async function getServiceInstanceWithOptions(request: GetServiceInstanceRequest, runtime: Util.RuntimeOptions): GetServiceInstanceResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.marketInstanceId)) {
    query['MarketInstanceId'] = request.marketInstanceId;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.serviceInstanceId)) {
    query['ServiceInstanceId'] = request.serviceInstanceId;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'GetServiceInstance',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function getServiceInstance(request: GetServiceInstanceRequest): GetServiceInstanceResponse {
  var runtime = new Util.RuntimeOptions{};
  return getServiceInstanceWithOptions(request, runtime);
}

model GetServiceTemplateParameterConstraintsRequest {
  clientToken?: string(name='ClientToken', example='123e4567-e89b-12d3-a456-426655440000'),
  deployRegionId?: string(name='DeployRegionId', example='cn-hangzhou'),
  enablePrivateVpcConnection?: boolean(name='EnablePrivateVpcConnection', example='true'),
  parameters?: [ 
    {
      parameterKey?: string(name='ParameterKey', example='InstanceType'),
      parameterValue?: string(name='ParameterValue', example='cn-hangzhou-j'),
    }
  ](name='Parameters'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  serviceId?: string(name='ServiceId', example='service-731f788406024axxxxxx'),
  serviceInstanceId?: string(name='ServiceInstanceId', example='si-461ee95f46ca46xxxxxx'),
  serviceVersion?: string(name='ServiceVersion', example='1'),
  specificationName?: string(name='SpecificationName'),
  templateName?: string(name='TemplateName'),
  trialType?: string(name='TrialType', example='NotTrial'),
}

model GetServiceTemplateParameterConstraintsResponseBody = {
  familyConstraints?: [ string ](name='FamilyConstraints'),
  parameterConstraints?: [ 
    {
      allowedValues?: [ string ](name='AllowedValues'),
      associationParameterNames?: [ string ](name='AssociationParameterNames'),
      behavior?: string(name='Behavior', example='NoLimit'),
      behaviorReason?: string(name='BehaviorReason', example='No resource property refer to the parameter'),
      originalConstraints?: [ 
        {
          allowedValues?: [ string ](name='AllowedValues'),
          propertyName?: string(name='PropertyName', example='ZoneId'),
          resourceName?: string(name='ResourceName', example='MyECS'),
          resourceType?: string(name='ResourceType', example='ALIYUN::ECS::InstanceGroup'),
        }
      ](name='OriginalConstraints'),
      parameterKey?: string(name='ParameterKey', example='ZoneInfo'),
      type?: string(name='Type', example='String'),
    }
  ](name='ParameterConstraints'),
  requestId?: string(name='RequestId', example='449DC03D-A039-56A6-8D6F-6EBCCCE0EE2C'),
}

model GetServiceTemplateParameterConstraintsResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: GetServiceTemplateParameterConstraintsResponseBody(name='body'),
}

async function getServiceTemplateParameterConstraintsWithOptions(request: GetServiceTemplateParameterConstraintsRequest, runtime: Util.RuntimeOptions): GetServiceTemplateParameterConstraintsResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.clientToken)) {
    query['ClientToken'] = request.clientToken;
  }
  if (!Util.isUnset(request.deployRegionId)) {
    query['DeployRegionId'] = request.deployRegionId;
  }
  if (!Util.isUnset(request.enablePrivateVpcConnection)) {
    query['EnablePrivateVpcConnection'] = request.enablePrivateVpcConnection;
  }
  if (!Util.isUnset(request.parameters)) {
    query['Parameters'] = request.parameters;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.serviceId)) {
    query['ServiceId'] = request.serviceId;
  }
  if (!Util.isUnset(request.serviceInstanceId)) {
    query['ServiceInstanceId'] = request.serviceInstanceId;
  }
  if (!Util.isUnset(request.serviceVersion)) {
    query['ServiceVersion'] = request.serviceVersion;
  }
  if (!Util.isUnset(request.specificationName)) {
    query['SpecificationName'] = request.specificationName;
  }
  if (!Util.isUnset(request.templateName)) {
    query['TemplateName'] = request.templateName;
  }
  if (!Util.isUnset(request.trialType)) {
    query['TrialType'] = request.trialType;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'GetServiceTemplateParameterConstraints',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function getServiceTemplateParameterConstraints(request: GetServiceTemplateParameterConstraintsRequest): GetServiceTemplateParameterConstraintsResponse {
  var runtime = new Util.RuntimeOptions{};
  return getServiceTemplateParameterConstraintsWithOptions(request, runtime);
}

model ListServiceInstanceLogsRequest {
  logSource?: string(name='LogSource'),
  logstore?: string(name='Logstore'),
  maxResults?: int32(name='MaxResults', example='20'),
  nextToken?: string(name='NextToken', example='BBBAAfu+XtuBE55iRLHEYYuojI4='),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  serviceInstanceId?: string(name='ServiceInstanceId', example='si-70a3b15bb626435b****'),
}

model ListServiceInstanceLogsResponseBody = {
  maxResults?: int32(name='MaxResults', example='20'),
  nextToken?: string(name='NextToken', example='AAAAAfu+XtuBE55iRLHEYYuojI4='),
  requestId?: string(name='RequestId', example='51945B04-6AA6-410D-93BA-236E0248B104'),
  serviceInstancesLogs?: [ 
    {
      content?: string(name='Content', example='Start creating service instance'),
      logType?: string(name='LogType', example='serviceInstance'),
      resourceId?: string(name='ResourceId', example='si-5c6525c0589545c3****'),
      resourceType?: string(name='ResourceType', example='ROS.Stack'),
      source?: string(name='Source', example='ros'),
      status?: string(name='Status', example='Creating'),
      timestamp?: string(name='Timestamp', example='2021-05-21T00:00:00Z'),
    }
  ](name='ServiceInstancesLogs'),
}

model ListServiceInstanceLogsResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: ListServiceInstanceLogsResponseBody(name='body'),
}

async function listServiceInstanceLogsWithOptions(request: ListServiceInstanceLogsRequest, runtime: Util.RuntimeOptions): ListServiceInstanceLogsResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.logSource)) {
    query['LogSource'] = request.logSource;
  }
  if (!Util.isUnset(request.logstore)) {
    query['Logstore'] = request.logstore;
  }
  if (!Util.isUnset(request.maxResults)) {
    query['MaxResults'] = request.maxResults;
  }
  if (!Util.isUnset(request.nextToken)) {
    query['NextToken'] = request.nextToken;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.serviceInstanceId)) {
    query['ServiceInstanceId'] = request.serviceInstanceId;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'ListServiceInstanceLogs',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function listServiceInstanceLogs(request: ListServiceInstanceLogsRequest): ListServiceInstanceLogsResponse {
  var runtime = new Util.RuntimeOptions{};
  return listServiceInstanceLogsWithOptions(request, runtime);
}

model ListServiceInstanceResourcesRequest {
  expireTimeEnd?: string(name='ExpireTimeEnd', example='2022-03-01T12:00:00'),
  expireTimeStart?: string(name='ExpireTimeStart', example='2022-01-01T12:00:00'),
  maxResults?: int32(name='MaxResults', example='20'),
  nextToken?: string(name='NextToken', example='AAAAAc3HCuYhJi/wvpk4xOr0VLbAx7BkQzyYC+ONO+WudHGKEdB0uWSY7AGnM3qCgm/Ynge7zU6NWdbj0Tegyajyqyc='),
  payType?: string(name='PayType', example='Subscription'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  resourceARN?: [ string ](name='ResourceARN'),
  serviceInstanceId?: string(name='ServiceInstanceId', example='si-d8a0cc2a1ee04dce****'),
  serviceInstanceResourceType?: string(name='ServiceInstanceResourceType'),
  tag?: [ 
    {
      key?: string(name='Key', example='key1'),
      value?: string(name='Value', example='value1'),
    }
  ](name='Tag'),
}

model ListServiceInstanceResourcesResponseBody = {
  maxResults?: int32(name='MaxResults', example='20'),
  nextToken?: string(name='NextToken', example='AAAAAc3HCuYhJi/wvpk4xOr0VLbAx7BkQzyYC+ONO+WudHGKEdB0uWSY7AGnM3qCgm/Ynge7zU6NWdbj0Tegyajyqyc='),
  requestId?: string(name='RequestId', example='B288A0BE-D927-4888-B0F7-B35EF84B6E6F'),
  resources?: [ 
    {
      createTime?: string(name='CreateTime', example='2022-01-01T12:00:00'),
      expireTime?: string(name='ExpireTime', example='2022-03-01T12:00:00'),
      payType?: string(name='PayType', example='Subscription'),
      productCode?: string(name='ProductCode', example='rds'),
      productType?: string(name='ProductType', example='RDS'),
      renewStatus?: string(name='RenewStatus', example='AutoRenewal'),
      renewalPeriod?: int32(name='RenewalPeriod', example='1'),
      renewalPeriodUnit?: string(name='RenewalPeriodUnit', example='Month'),
      resourceARN?: string(name='ResourceARN', example='arn:acs:sag:cn-hangzhou:130920852836****:ccn/ccn-b3qf0q439sq2de****'),
      status?: string(name='Status'),
    }
  ](name='Resources'),
}

model ListServiceInstanceResourcesResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: ListServiceInstanceResourcesResponseBody(name='body'),
}

async function listServiceInstanceResourcesWithOptions(request: ListServiceInstanceResourcesRequest, runtime: Util.RuntimeOptions): ListServiceInstanceResourcesResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.expireTimeEnd)) {
    query['ExpireTimeEnd'] = request.expireTimeEnd;
  }
  if (!Util.isUnset(request.expireTimeStart)) {
    query['ExpireTimeStart'] = request.expireTimeStart;
  }
  if (!Util.isUnset(request.maxResults)) {
    query['MaxResults'] = request.maxResults;
  }
  if (!Util.isUnset(request.nextToken)) {
    query['NextToken'] = request.nextToken;
  }
  if (!Util.isUnset(request.payType)) {
    query['PayType'] = request.payType;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.resourceARN)) {
    query['ResourceARN'] = request.resourceARN;
  }
  if (!Util.isUnset(request.serviceInstanceId)) {
    query['ServiceInstanceId'] = request.serviceInstanceId;
  }
  if (!Util.isUnset(request.serviceInstanceResourceType)) {
    query['ServiceInstanceResourceType'] = request.serviceInstanceResourceType;
  }
  if (!Util.isUnset(request.tag)) {
    query['Tag'] = request.tag;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'ListServiceInstanceResources',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function listServiceInstanceResources(request: ListServiceInstanceResourcesRequest): ListServiceInstanceResourcesResponse {
  var runtime = new Util.RuntimeOptions{};
  return listServiceInstanceResourcesWithOptions(request, runtime);
}

model ListServiceInstancesRequest {
  filter?: [ 
    {
      name?: string(name='Name', example='ServiceInstanceId'),
      value?: [ string ](name='Value'),
    }
  ](name='Filter'),
  maxResults?: int32(name='MaxResults', example='20'),
  nextToken?: string(name='NextToken', example='BBBAAfu+XtuBE55iRLHEYYuojI4='),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  resourceGroupId?: string(name='ResourceGroupId', example='rg-bp67acfmxazb4p****'),
  tag?: [ 
    {
      key?: string(name='Key', example='key1'),
      value?: string(name='Value', example='value1'),
    }
  ](name='Tag'),
}

model ListServiceInstancesResponseBody = {
  maxResults?: int32(name='MaxResults', example='20'),
  nextToken?: string(name='NextToken', example='AAAAAfu+XtuBE55iRLHEYYuojI4='),
  requestId?: string(name='RequestId', example='E50287CB-AABF-4877-92C0-289B339A1546'),
  serviceInstances?: [ 
    {
      bizStatus?: string(name='BizStatus'),
      createTime?: string(name='CreateTime', example='2021-05-20T00:00:00Z'),
      enableInstanceOps?: boolean(name='EnableInstanceOps', example='true'),
      endTime?: string(name='EndTime', example='2022-01-01T12:00:00'),
      marketInstanceId?: string(name='MarketInstanceId', example='5827****'),
      name?: string(name='Name', example='TestName'),
      operatedServiceInstanceId?: string(name='OperatedServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
      operationEndTime?: string(name='OperationEndTime', example='2022-01-28T06:48:56Z'),
      operationStartTime?: string(name='OperationStartTime', example='2021-12-29T06:48:56Z'),
      outputs?: string(name='Outputs', example='{"managementUrl": "http://xx.xx"}'),
      parameters?: string(name='Parameters', example='{"param":"value"}'),
      payType?: string(name='PayType', example='Subscription'),
      progress?: long(name='Progress', example='90'),
      resourceGroupId?: string(name='ResourceGroupId', example='rg-aekz6scpcxxxxxx'),
      resources?: string(name='Resources', example='[{"StackId": "stack-xxx"}]'),
      service?: {
        deployType?: string(name='DeployType', example='ros'),
        publishTime?: string(name='PublishTime', example='2021-05-21T00:00:00Z'),
        serviceId?: string(name='ServiceId', example='service-0e6fca6a51a54420****'),
        serviceInfos?: [ 
          {
            image?: string(name='Image', example='https://example.com/service-image/c1c4a559-cc60-4af1-b976-98f356602462.png'),
            locale?: string(name='Locale', example='zh-CN'),
            name?: string(name='Name'),
            shortDescription?: string(name='ShortDescription'),
          }
        ](name='ServiceInfos'),
        serviceType?: string(name='ServiceType', example='private'),
        status?: string(name='Status', example='Online'),
        supplierName?: string(name='SupplierName'),
        supplierUrl?: string(name='SupplierUrl', example='http://example.com'),
        version?: string(name='Version', example='1.0'),
        versionName?: string(name='VersionName'),
      }(name='Service'),
      serviceInstanceId?: string(name='ServiceInstanceId', example='si-d6ab3a63ccbb4b17****'),
      serviceType?: string(name='ServiceType', example='private'),
      source?: string(name='Source', example='Supplier'),
      status?: string(name='Status', example='Deployed'),
      statusDetail?: string(name='StatusDetail', example='deploy successfully'),
      tags?: [ 
        {
          key?: string(name='Key', example='key1'),
          value?: string(name='Value', example='value1'),
        }
      ](name='Tags'),
      templateName?: string(name='TemplateName'),
      updateTime?: string(name='UpdateTime', example='2021-05-20T00:00:00Z'),
    }
  ](name='ServiceInstances'),
  totalCount?: long(name='TotalCount', example='100'),
}

model ListServiceInstancesResponse = {
  headers: map[string]string(name='headers'),
  statusCode: int32(name='statusCode'),
  body: ListServiceInstancesResponseBody(name='body'),
}

async function listServiceInstancesWithOptions(request: ListServiceInstancesRequest, runtime: Util.RuntimeOptions): ListServiceInstancesResponse {
  Util.validateModel(request);
  var query = {};
  if (!Util.isUnset(request.filter)) {
    query['Filter'] = request.filter;
  }
  if (!Util.isUnset(request.maxResults)) {
    query['MaxResults'] = request.maxResults;
  }
  if (!Util.isUnset(request.nextToken)) {
    query['NextToken'] = request.nextToken;
  }
  if (!Util.isUnset(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!Util.isUnset(request.resourceGroupId)) {
    query['ResourceGroupId'] = request.resourceGroupId;
  }
  if (!Util.isUnset(request.tag)) {
    query['Tag'] = request.tag;
  }
  var req = new OpenApi.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApi.Params{
    action = 'ListServiceInstances',
    version = '2021-06-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

async function listServiceInstances(request: ListServiceInstancesRequest): ListServiceInstancesResponse {
  var runtime = new Util.RuntimeOptions{};
  return listServiceInstancesWithOptions(request, runtime);
}

