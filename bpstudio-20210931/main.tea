/**
 *
 */
import Util;
import OpenApi;
import OpenApiUtil;
import EndpointUtil;

extends OpenApi;

init(config: OpenApi.Config){
  super(config);
  @endpointRule = '';
  
  checkConfig(config);
  @endpoint = getEndpoint('bpstudio', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!Util.empty(endpoint)) {
    return endpoint;
  }

  if (!Util.isUnset(endpointMap) && !Util.empty(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return EndpointUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}
model ListApplicationRequest {
  nextToken?: int32(name='NextToken'),
  maxResults?: int32(name='MaxResults'),
  keyword?: string(name='Keyword'),
  orderType?: long(name='OrderType', description='排序字段'),
  status?: string(name='Status', description='应用的状态'),
  resourceGroupId?: string(name='ResourceGroupId'),
}

model ListApplicationResponseBody = {
  totalCount?: int32(name='TotalCount'),
  message?: string(name='Message'),
  nextToken?: int32(name='NextToken'),
  requestId?: string(name='RequestId'),
  data?: [ 
    {
      imageURL?: string(name='ImageURL', description='应用的图片链接'),
      status?: int32(name='Status', description='应用的状态'),
      applicationId?: string(name='ApplicationId', description='应用ID'),
      name?: string(name='Name', description='应用的名称'),
      topoURL?: string(name='TopoURL', description='应用的拓扑图链接'),
      createTime?: string(name='CreateTime', description='应用创建时间'),
      resourceGroupId?: string(name='ResourceGroupId', description='应用的资源组'),
    }
  ](name='Data'),
  code?: int32(name='Code'),
}

model ListApplicationResponse = {
  headers: map[string]string(name='headers'),
  body: ListApplicationResponseBody(name='body'),
}

async function listApplicationWithOptions(request: ListApplicationRequest, runtime: Util.RuntimeOptions): ListApplicationResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ListApplication', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function listApplication(request: ListApplicationRequest): ListApplicationResponse {
  var runtime = new Util.RuntimeOptions{};
  return listApplicationWithOptions(request, runtime);
}

model CreateApplicationRequest {
  templateId?: string(name='TemplateId', description='模板ID'),
  clientToken?: string(name='ClientToken', description='幂等标记'),
  name?: string(name='Name', description='新建应用名'),
  areaId?: string(name='AreaId', description='区域ID'),
  instances?: [ 
    {
      nodeType?: string(name='NodeType', description='实例类型'),
      nodeName?: string(name='NodeName', description='图上实例名'),
      id?: string(name='Id', description='实例ID'),
    }
  ](name='Instances', description='待替换实例列表'),
  resourceGroupId?: string(name='ResourceGroupId', description='应用所属资源组ID'),
}

model CreateApplicationShrinkRequest {
  templateId?: string(name='TemplateId', description='模板ID'),
  clientToken?: string(name='ClientToken', description='幂等标记'),
  name?: string(name='Name', description='新建应用名'),
  areaId?: string(name='AreaId', description='区域ID'),
  instancesShrink?: string(name='Instances', description='待替换实例列表'),
  resourceGroupId?: string(name='ResourceGroupId', description='应用所属资源组ID'),
}

model CreateApplicationResponseBody = {
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  data?: string(name='Data', description='应用ID'),
  code?: int32(name='Code'),
}

model CreateApplicationResponse = {
  headers: map[string]string(name='headers'),
  body: CreateApplicationResponseBody(name='body'),
}

async function createApplicationWithOptions(tmpReq: CreateApplicationRequest, runtime: Util.RuntimeOptions): CreateApplicationResponse {
  Util.validateModel(tmpReq);
  var request = new CreateApplicationShrinkRequest{};
  OpenApiUtil.convert(tmpReq, request);
  if (!Util.isUnset(tmpReq.instances)) {
    request.instancesShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.instances, 'Instances', 'json');
  }
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('CreateApplication', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function createApplication(request: CreateApplicationRequest): CreateApplicationResponse {
  var runtime = new Util.RuntimeOptions{};
  return createApplicationWithOptions(request, runtime);
}

model DeployApplicationRequest {
  applicationId?: string(name='ApplicationId', description='应用ID'),
  resourceGroupId?: string(name='ResourceGroupId', description='资源组ID'),
}

model DeployApplicationResponseBody = {
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  data?: long(name='Data'),
  code?: int32(name='Code'),
}

model DeployApplicationResponse = {
  headers: map[string]string(name='headers'),
  body: DeployApplicationResponseBody(name='body'),
}

async function deployApplicationWithOptions(request: DeployApplicationRequest, runtime: Util.RuntimeOptions): DeployApplicationResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('DeployApplication', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function deployApplication(request: DeployApplicationRequest): DeployApplicationResponse {
  var runtime = new Util.RuntimeOptions{};
  return deployApplicationWithOptions(request, runtime);
}

model ListTemplateRequest {
  nextToken?: int32(name='NextToken'),
  maxResults?: int32(name='MaxResults'),
  orderType?: long(name='OrderType', description='排序字段'),
  keyword?: string(name='Keyword', description='搜索关键字'),
  type?: string(name='Type', description='类型'),
  tagList?: int32(name='TagList', description='模板的标签'),
  resourceGroupId?: string(name='ResourceGroupId'),
}

model ListTemplateResponseBody = {
  totalCount?: int32(name='TotalCount'),
  message?: string(name='Message'),
  nextToken?: int32(name='NextToken'),
  requestId?: string(name='RequestId'),
  data?: [ 
    {
      imageURL?: string(name='ImageURL', description='模板的图片链接'),
      tagId?: int32(name='TagId', description='模板的标签的ID'),
      tagName?: string(name='TagName', description='模板标签的名称'),
      name?: string(name='Name', description='模板的名称'),
      topoURL?: string(name='TopoURL', description='模板的拓扑图'),
      templateId?: string(name='TemplateId', description='模板的ID'),
      createTime?: string(name='CreateTime', description='创建时间'),
      resourceGroupId?: string(name='ResourceGroupId', description='资源组ID'),
    }
  ](name='Data'),
  code?: int32(name='Code'),
}

model ListTemplateResponse = {
  headers: map[string]string(name='headers'),
  body: ListTemplateResponseBody(name='body'),
}

async function listTemplateWithOptions(request: ListTemplateRequest, runtime: Util.RuntimeOptions): ListTemplateResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ListTemplate', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function listTemplate(request: ListTemplateRequest): ListTemplateResponse {
  var runtime = new Util.RuntimeOptions{};
  return listTemplateWithOptions(request, runtime);
}

model ValidateApplicationRequest {
  applicationId?: string(name='ApplicationId', description='应用ID'),
  resourceGroupId?: string(name='ResourceGroupId', description='资源组ID'),
}

model ValidateApplicationResponseBody = {
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  data?: string(name='Data'),
  code?: int32(name='Code'),
}

model ValidateApplicationResponse = {
  headers: map[string]string(name='headers'),
  body: ValidateApplicationResponseBody(name='body'),
}

async function validateApplicationWithOptions(request: ValidateApplicationRequest, runtime: Util.RuntimeOptions): ValidateApplicationResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ValidateApplication', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function validateApplication(request: ValidateApplicationRequest): ValidateApplicationResponse {
  var runtime = new Util.RuntimeOptions{};
  return validateApplicationWithOptions(request, runtime);
}

model DeleteApplicationRequest {
  applicationId?: string(name='ApplicationId'),
  resourceGroupId?: string(name='ResourceGroupId'),
}

model DeleteApplicationResponseBody = {
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  code?: int32(name='Code'),
}

model DeleteApplicationResponse = {
  headers: map[string]string(name='headers'),
  body: DeleteApplicationResponseBody(name='body'),
}

async function deleteApplicationWithOptions(request: DeleteApplicationRequest, runtime: Util.RuntimeOptions): DeleteApplicationResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('DeleteApplication', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function deleteApplication(request: DeleteApplicationRequest): DeleteApplicationResponse {
  var runtime = new Util.RuntimeOptions{};
  return deleteApplicationWithOptions(request, runtime);
}

model GetApplicationRequest {
  applicationId?: string(name='ApplicationId'),
  resourceGroupId?: string(name='ResourceGroupId'),
}

model GetApplicationResponseBody = {
  message?: string(name='Message', description='请求失败原因'),
  requestId?: string(name='RequestId', description='请求ID'),
  data?: {
    description?: string(name='Description', description='应用描述'),
    imageURL?: string(name='ImageURL', description='数据库中图片地址'),
    applicationId?: string(name='ApplicationId', description='应用ID'),
    name?: string(name='Name', description='应用名'),
    topoURL?: string(name='TopoURL', description='应用topo地址'),
    templateId?: string(name='TemplateId', description='应用关联模板ID'),
    createTime?: string(name='CreateTime', description='应用创建时间'),
    resourceGroupId?: string(name='ResourceGroupId', description='应用所属资源组ID'),
    priceList?: [ 
      {
        resourceCode?: string(name='ResourceCode', description='产品code'),
        instanceName?: string(name='InstanceName', description='实例名'),
        originalPrice?: float(name='OriginalPrice', description='原价'),
        onePrice?: float(name='OnePrice', description='单价'),
        period?: float(name='Period', description='时长'),
        count?: long(name='Count', description='数量'),
        priceUnit?: string(name='PriceUnit', description='单位'),
        price?: float(name='Price', description='总价'),
        chargeType?: string(name='ChargeType', description='支付类型'),
        region?: string(name='Region', description='区域'),
        specification?: string(name='Specification', description='规格'),
      }
    ](name='PriceList', description='计费结果列表'),
    checklist?: [ 
      {
        resourceCode?: string(name='ResourceCode', description='产品code'),
        resourceName?: string(name='ResourceName', description='实例名'),
        region?: string(name='Region', description='区域'),
        result?: string(name='Result', description='校验结果'),
        remark?: string(name='Remark', description='失败原因'),
        specification?: string(name='Specification', description='规格'),
      }
    ](name='Checklist', description='校验结果列表'),
    status?: string(name='Status', description='应用状态'),
    resourceList?: [ 
      {
        status?: string(name='Status', description='资源部署结果'),
        resourceCode?: string(name='ResourceCode', description='产品code'),
        resourceName?: string(name='ResourceName', description='实例名称'),
        resourceId?: string(name='ResourceId', description='实例ID'),
        chargeType?: string(name='ChargeType', description='支付类型'),
        resourceType?: string(name='ResourceType', description='资源类型'),
        remark?: string(name='Remark', description='部署结果'),
      }
    ](name='ResourceList', description='资源列表'),
    error?: string(name='Error', description='失败原因'),
  }(name='Data'),
  code?: int32(name='Code'),
}

model GetApplicationResponse = {
  headers: map[string]string(name='headers'),
  body: GetApplicationResponseBody(name='body'),
}

async function getApplicationWithOptions(request: GetApplicationRequest, runtime: Util.RuntimeOptions): GetApplicationResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('GetApplication', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function getApplication(request: GetApplicationRequest): GetApplicationResponse {
  var runtime = new Util.RuntimeOptions{};
  return getApplicationWithOptions(request, runtime);
}

model ReleaseApplicationRequest {
  applicationId?: string(name='ApplicationId', description='应用ID'),
  resourceGroupId?: string(name='ResourceGroupId'),
}

model ReleaseApplicationResponseBody = {
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  data?: long(name='Data'),
  code?: int32(name='Code'),
}

model ReleaseApplicationResponse = {
  headers: map[string]string(name='headers'),
  body: ReleaseApplicationResponseBody(name='body'),
}

async function releaseApplicationWithOptions(request: ReleaseApplicationRequest, runtime: Util.RuntimeOptions): ReleaseApplicationResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ReleaseApplication', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function releaseApplication(request: ReleaseApplicationRequest): ReleaseApplicationResponse {
  var runtime = new Util.RuntimeOptions{};
  return releaseApplicationWithOptions(request, runtime);
}

model GetTokenRequest {
  resourceGroupId?: string(name='ResourceGroupId', description='资源组ID'),
}

model GetTokenResponseBody = {
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  data?: {
    securityToken?: string(name='SecurityToken', description='oss访问token'),
    endpoint?: string(name='Endpoint', description='oss的endpoint'),
    accessKeySecret?: string(name='AccessKeySecret', description='oss访问access key secret id'),
    objectName?: string(name='ObjectName', description='暂时不用'),
    accessKeyId?: string(name='AccessKeyId', description='oss访问access key id'),
    bucket?: string(name='Bucket', description='oss文件保存bucket位置'),
    snapshotBucket?: string(name='SnapshotBucket', description='oss快照保存bucket位置'),
  }(name='Data'),
  code?: int32(name='Code'),
}

model GetTokenResponse = {
  headers: map[string]string(name='headers'),
  body: GetTokenResponseBody(name='body'),
}

async function getTokenWithOptions(request: GetTokenRequest, runtime: Util.RuntimeOptions): GetTokenResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('GetToken', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function getToken(request: GetTokenRequest): GetTokenResponse {
  var runtime = new Util.RuntimeOptions{};
  return getTokenWithOptions(request, runtime);
}

model ValuateApplicationRequest {
  applicationId?: string(name='ApplicationId', description='应用ID'),
  resourceGroupId?: string(name='ResourceGroupId', description='资源组ID'),
}

model ValuateApplicationResponseBody = {
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  data?: long(name='Data'),
  code?: int32(name='Code'),
}

model ValuateApplicationResponse = {
  headers: map[string]string(name='headers'),
  body: ValuateApplicationResponseBody(name='body'),
}

async function valuateApplicationWithOptions(request: ValuateApplicationRequest, runtime: Util.RuntimeOptions): ValuateApplicationResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('ValuateApplication', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function valuateApplication(request: ValuateApplicationRequest): ValuateApplicationResponse {
  var runtime = new Util.RuntimeOptions{};
  return valuateApplicationWithOptions(request, runtime);
}

model GetTemplateRequest {
  templateId?: string(name='TemplateId'),
  region?: string(name='Region'),
  resourceGroupId?: string(name='ResourceGroupId'),
}

model GetTemplateResponseBody = {
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  data?: {
    description?: string(name='Description'),
    imageURL?: string(name='ImageURL'),
    name?: string(name='Name'),
    topoURL?: string(name='TopoURL'),
    templateId?: string(name='TemplateId'),
    createTime?: string(name='CreateTime'),
    resourceGroupId?: string(name='ResourceGroupId'),
  }(name='Data'),
  code?: int32(name='Code'),
}

model GetTemplateResponse = {
  headers: map[string]string(name='headers'),
  body: GetTemplateResponseBody(name='body'),
}

async function getTemplateWithOptions(request: GetTemplateRequest, runtime: Util.RuntimeOptions): GetTemplateResponse {
  Util.validateModel(request);
  var req = new OpenApi.OpenApiRequest{ 
    body = Util.toMap(request),
  };
  return doRPCRequest('GetTemplate', '2021-09-31', 'HTTPS', 'POST', 'AK', 'json', req, runtime);
}

async function getTemplate(request: GetTemplateRequest): GetTemplateResponse {
  var runtime = new Util.RuntimeOptions{};
  return getTemplateWithOptions(request, runtime);
}

