/**
 *
 */
import OpenApi;
import OpenApi.OpenApiUtil;

extends OpenApi;


init(config: OpenApiUtil.Config){
  super(config);
  @endpointRule = 'regional';
  @endpointMap = {
    'cn-qingdao' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'cn-beijing' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'cn-chengdu' = 'dbs-api.cn-chengdu.aliyuncs.com',
    'cn-zhangjiakou' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'cn-huhehaote' = 'dbs-api.cn-huhehaote.aliyuncs.com',
    'cn-hangzhou' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'cn-shanghai' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'cn-shenzhen' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'cn-hongkong' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'ap-southeast-1' = 'dbs-api.ap-southeast-1.aliyuncs.com',
    'ap-southeast-2' = 'dbs-api.ap-southeast-2.aliyuncs.com',
    'ap-southeast-3' = 'dbs-api.ap-southeast-3.aliyuncs.com',
    'ap-southeast-5' = 'dbs-api.ap-southeast-5.aliyuncs.com',
    'ap-northeast-1' = 'dbs-api.ap-northeast-1.aliyuncs.com',
    'us-west-1' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'us-east-1' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'eu-central-1' = 'dbs-api.eu-central-1.aliyuncs.com',
    'cn-hangzhou-finance' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'cn-shanghai-finance-1' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'cn-shenzhen-finance-1' = 'dbs-api.cn-hangzhou.aliyuncs.com',
    'ap-south-1' = 'dbs-api.ap-south-1.aliyuncs.com',
    'eu-west-1' = 'dbs-api.eu-west-1.aliyuncs.com',
    'me-east-1' = 'dbs-api.me-east-1.aliyuncs.com',
  };

  checkConfig(config);
  @endpoint = getEndpoint('dbs', @regionId, @endpointRule, @network, @suffix, @endpointMap, @endpoint);
}

function getEndpoint(productId: string, regionId: string, endpointRule: string, network: string, suffix: string, endpointMap: map[string]string, endpoint: string) throws: string{
  if (!$isNull(endpoint)) {
    return endpoint;
  }
  
  if (!$isNull(endpointMap) && !$isNull(endpointMap[regionId])) {
    return endpointMap[regionId];
  }
  return OpenApiUtil.getEndpointRules(productId, regionId, endpointRule, network, suffix);
}

model ChangeResourceGroupRequest {
  clientToken?: string(name='ClientToken', description='The client token that is used to ensure the idempotence of the request.', example='dbs'),
  newResourceGroupId?: string(name='NewResourceGroupId', description='The ID of the resource group to which you want to move the resource.

This parameter is required.', example='rg-aekz4kee6******'),
  regionCode?: string(name='RegionCode', description='The region ID of the instance.', example='cn-hangzhou'),
  resourceId?: string(name='ResourceId', description='The ID of the resource.

This parameter is required.', example='dbs1jyajqk******'),
  resourceType?: string(name='ResourceType', description='The type of the resource. Set the value to backupplan.

This parameter is required.', example='backupplan'),
}

model ChangeResourceGroupResponseBody = {
  code?: string(name='Code', description='The status code returned.', example='Param.NotFound'),
  data?: string(name='Data', description='Indicates whether the resource was successfully moved. Valid values:

*   **true**: The resource was successfully moved.
*   **false**: The resource failed to be moved.', example='true'),
  errCode?: string(name='ErrCode', description='The error code returned if the request failed.', example='Request.Forbidden'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request failed.', example='RAM DENY'),
  message?: string(name='Message', description='The additional information.', example='The resource group is forbidden to operate'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='04EBD9F5-F06F-5302-8499-005C72*******'),
  success?: string(name='Success', description='Indicates whether the request was successful. Valid values:

*   **true**: The request was successful.
*   **false**: The request failed.', example='true'),
}

model ChangeResourceGroupResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ChangeResourceGroupResponseBody(name='body'),
}

/**
 * @summary Moves a resource from one resource group to another.
 *
 * @param request ChangeResourceGroupRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ChangeResourceGroupResponse
 */
@context("changeResourceGroupWithContext")
async function changeResourceGroupWithOptions(request: ChangeResourceGroupRequest, runtime: $RuntimeOptions): ChangeResourceGroupResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.clientToken)) {
    query['ClientToken'] = request.clientToken;
  }
  if (!$isNull(request.newResourceGroupId)) {
    query['NewResourceGroupId'] = request.newResourceGroupId;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.resourceId)) {
    query['ResourceId'] = request.resourceId;
  }
  if (!$isNull(request.resourceType)) {
    query['ResourceType'] = request.resourceType;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'ChangeResourceGroup',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Moves a resource from one resource group to another.
 *
 * @param request ChangeResourceGroupRequest
 * @return ChangeResourceGroupResponse
 */
async function changeResourceGroup(request: ChangeResourceGroupRequest): ChangeResourceGroupResponse {
  var runtime = new $RuntimeOptions{};
  return changeResourceGroupWithOptions(request, runtime);
}

model ConfigureBackupSetInfoRequest {
  backupMethod?: string(name='BackupMethod', description='This parameter is required.', example='Physical'),
  backupMode?: string(name='BackupMode', description='This parameter is required.', example='Automated'),
  backupSetId?: string(name='BackupSetId', example='ee-d84wwm3c****'),
  backupSetName?: string(name='BackupSetName', description='This parameter is required.'),
  backupType?: string(name='BackupType', description='This parameter is required.', example='FullBackup'),
  checkSum?: string(name='CheckSum', example='****'),
  clientToken?: string(name='ClientToken', example='dbs'),
  dataSourceId?: string(name='DataSourceId', description='This parameter is required.', example='ds-7iz7uw****'),
  extraMeta?: string(name='ExtraMeta'),
  regionCode?: string(name='RegionCode', description='This parameter is required.', example='cn-hangzhou'),
  regionId?: string(name='RegionId', example='cn-hangzhou'),
  uploadStatus?: string(name='UploadStatus', description='This parameter is required.', example='WaitingUpload'),
}

model ConfigureBackupSetInfoResponseBody = {
  code?: string(name='Code', example='Success'),
  data?: {
    backupSetId?: string(name='BackupSetId', example='ee-d84wwm3ca****'),
  }(name='Data'),
  errCode?: string(name='ErrCode', example='Request.Forbidden'),
  errMessage?: string(name='ErrMessage', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', example='Successful!'),
  requestId?: string(name='RequestId', example='54A63B3B-AA10-1CC3-A6BB-6CCE98D1****'),
  success?: string(name='Success', example='true'),
}

model ConfigureBackupSetInfoResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ConfigureBackupSetInfoResponseBody(name='body'),
}

/**
 * @summary 配置备份集信息
 *
 * @param request ConfigureBackupSetInfoRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ConfigureBackupSetInfoResponse
 */
@context("configureBackupSetInfoWithContext")
async function configureBackupSetInfoWithOptions(request: ConfigureBackupSetInfoRequest, runtime: $RuntimeOptions): ConfigureBackupSetInfoResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupMethod)) {
    query['BackupMethod'] = request.backupMethod;
  }
  if (!$isNull(request.backupMode)) {
    query['BackupMode'] = request.backupMode;
  }
  if (!$isNull(request.backupSetId)) {
    query['BackupSetId'] = request.backupSetId;
  }
  if (!$isNull(request.backupSetName)) {
    query['BackupSetName'] = request.backupSetName;
  }
  if (!$isNull(request.backupType)) {
    query['BackupType'] = request.backupType;
  }
  if (!$isNull(request.checkSum)) {
    query['CheckSum'] = request.checkSum;
  }
  if (!$isNull(request.clientToken)) {
    query['ClientToken'] = request.clientToken;
  }
  if (!$isNull(request.dataSourceId)) {
    query['DataSourceId'] = request.dataSourceId;
  }
  if (!$isNull(request.extraMeta)) {
    query['ExtraMeta'] = request.extraMeta;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!$isNull(request.uploadStatus)) {
    query['UploadStatus'] = request.uploadStatus;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'ConfigureBackupSetInfo',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 配置备份集信息
 *
 * @param request ConfigureBackupSetInfoRequest
 * @return ConfigureBackupSetInfoResponse
 */
async function configureBackupSetInfo(request: ConfigureBackupSetInfoRequest): ConfigureBackupSetInfoResponse {
  var runtime = new $RuntimeOptions{};
  return configureBackupSetInfoWithOptions(request, runtime);
}

model CreateAdvancedPolicyRequest {
  instanceName?: string(name='InstanceName', description='The ID of the PolarDB instance.', example='pc-2ze3nrr64c5****'),
  regionCode?: string(name='RegionCode', description='The region in which backup sets reside.', example='cn-shanghai'),
}

model CreateAdvancedPolicyResponseBody = {
  code?: string(name='Code', description='The response code.', example='Success'),
  data?: boolean(name='Data', description='Indicates whether the advanced backup policy takes effect. Valid values:

*   **true**
*   **false**', example='true'),
  errCode?: string(name='ErrCode', description='The error code returned if the request failed.', example='Success'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request failed.', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', description='The returned message.', example='instanceName can not be empty.'),
  requestId?: string(name='RequestId', description='The request ID.', example='1EFBAC73-4A72-5AD0-BE27-932491FCB848'),
  success?: string(name='Success', description='Indicates whether the request was successful. Valid values:

*   true
*   false', example='true'),
}

model CreateAdvancedPolicyResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: CreateAdvancedPolicyResponseBody(name='body'),
}

/**
 * @summary Enables an advanced backup policy for a PolarDB instance.
 *
 * @description ### [](#)Supported database engines
 * PolarDB for MySQL
 * >  This API operation is available only to specific customers. If you want to call this API operation, join the Database Backup (DBS) DingTalk group (ID 35585947) for customer consultation to request permissions.
 *
 * @param request CreateAdvancedPolicyRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return CreateAdvancedPolicyResponse
 */
@context("createAdvancedPolicyWithContext")
async function createAdvancedPolicyWithOptions(request: CreateAdvancedPolicyRequest, runtime: $RuntimeOptions): CreateAdvancedPolicyResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'CreateAdvancedPolicy',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Enables an advanced backup policy for a PolarDB instance.
 *
 * @description ### [](#)Supported database engines
 * PolarDB for MySQL
 * >  This API operation is available only to specific customers. If you want to call this API operation, join the Database Backup (DBS) DingTalk group (ID 35585947) for customer consultation to request permissions.
 *
 * @param request CreateAdvancedPolicyRequest
 * @return CreateAdvancedPolicyResponse
 */
async function createAdvancedPolicy(request: CreateAdvancedPolicyRequest): CreateAdvancedPolicyResponse {
  var runtime = new $RuntimeOptions{};
  return createAdvancedPolicyWithOptions(request, runtime);
}

model CreateDownloadRequest {
  adminDatabase?: string(name='AdminDatabase'),
  bakSetId?: string(name='BakSetId', description='The ID of the backup set. You can call the [DescribeBackups](https://help.aliyun.com/document_detail/26273.html) operation to query the ID of the backup set.

> This parameter is required if the BakSetType parameter is set to full.', example='146005****'),
  bakSetSize?: string(name='BakSetSize', description='The size of the full backup set. Unit: bytes. You can call the [DescribeBackups](https://help.aliyun.com/document_detail/26273.html) operation to query the size of the full backup set.', example='216****'),
  bakSetType?: string(name='BakSetType', description='The type of the download task. Valid values:

*   **full**: downloads a full backup set.
*   **pitr**: downloads a backup set at a specific point in time.', example='full'),
  clusterName?: string(name='ClusterName'),
  downloadPointInTime?: string(name='DownloadPointInTime', description='The point in time at which the backup set is downloaded. Specify a UNIX timestamp representing the number of milliseconds that have elapsed since January 1, 1970, 00:00:00 UTC.

> This parameter is required if the BakSetType parameter is set to pitr.', example='1661331864000'),
  formatType?: string(name='FormatType', description='The format to which the downloaded backup set is converted. Valid values:

*   **CSV**
*   **SQL**
*   **Parquet**

> This parameter is required.', example='CSV'),
  instanceName?: string(name='InstanceName', description='The ID of the instance.

This parameter is required.', example='rm-wz994c1t1****'),
  isCluster?: string(name='IsCluster'),
  isPhysical?: boolean(name='IsPhysical'),
  primaryKeyTypeOnly?: string(name='PrimaryKeyTypeOnly'),
  regionCode?: string(name='RegionCode', description='The ID of the region in which the instance resides. You can call the [DescribeDBInstanceAttribute](https://help.aliyun.com/document_detail/26231.html) operation to query the region ID of the instance.

This parameter is required.', example='cn-beijing'),
  targetBucket?: string(name='TargetBucket', description='The name of the OSS bucket that is used to store the backup set.

*   This parameter is required if the TargetType parameter is set to OSS.
*   Make sure that your account is granted the **AliyunDBSDefaultRole** permission. For more information, see [Use RAM for resource authorization](https://help.aliyun.com/document_detail/26307.html). You can also grant permissions based on the operation instructions in the Resource Access Management (RAM) console.', example='test123'),
  targetOssRegion?: string(name='TargetOssRegion', description='The region in which the OSS bucket resides.

> This parameter is required if the TargetType parameter is set to OSS.', example='cn-beijing'),
  targetPath?: string(name='TargetPath', description='The destination path to which the backup set is downloaded.

> This parameter is required if the TargetType parameter is set to OSS.', example='test_db/path'),
  targetType?: string(name='TargetType', description='The type of the destination to which the backup set is downloaded. Valid values:

*   **OSS**
*   **URL**', example='OSS'),
  useZstd?: string(name='UseZstd'),
}

model CreateDownloadResponseBody = {
  code?: string(name='Code', description='The status code returned.', example='DBS.ParamIsInValid'),
  data?: {
    backupSetTime?: long(name='BackupSetTime', description='The point in time of the backup set if the task is used to download a backup set at a specific point in time. This value is a UNIX timestamp representing the number of milliseconds that have elapsed since January 1, 1970, 00:00:00 UTC.', example='1661373070000'),
    bakSetId?: string(name='BakSetId', description='The ID of the full backup set.', example='146005****'),
    dbList?: string(name='DbList', description='The database and table information that is returned if databases and tables are filtered by the download task.', example='testdb'),
    downloadStatus?: string(name='DownloadStatus', description='The state of the download task. Valid values:

*   initializing: The download task was being initialized.
*   queuing: The download task was queuing.
*   running: The download task was running.
*   failed: The download task failed.
*   finished: The download task was complete.
*   expired: The download task expired.

> If the TargetType parameter is set to URL, the download task expires in three days after the task is complete.', example='initializing'),
    exportDataSize?: long(name='ExportDataSize', description='The size of the downloaded data. Unit: bytes.', example='0'),
    format?: string(name='Format', description='The format to which the downloaded data is converted.', example='CSV'),
    gmtCreate?: long(name='GmtCreate', description='The time when the download task was created. This value is a UNIX timestamp representing the number of milliseconds that have elapsed since January 1, 1970, 00:00:00 UTC.', example='1661940917570'),
    importDataSize?: long(name='ImportDataSize', description='The size of the processed data. Unit: bytes.', example='0'),
    progress?: string(name='Progress', description='The number of tables that have been downloaded and the total number of tables to be downloaded.

> If the task is in the preparation stage, 0/0 is returned.', example='0/0'),
    regionCode?: string(name='RegionCode', description='The ID of the region in which the instance resides.', example='cn-beijing'),
    targetPath?: string(name='TargetPath', description='The destination path to which the backup set is downloaded.

>  This parameter is returned if the value of **TargetType is OSS**.', example='test_db/path'),
    targetType?: string(name='TargetType', description='The type of the destination to which the backup set is downloaded.', example='URL'),
    taskId?: string(name='TaskId', description='The ID of the download task.', example='dt-qxnsfq5s****'),
  }(name='Data', description='The information about the download task.'),
  errCode?: string(name='ErrCode', description='The error code returned if the request failed.', example='DBS.ParamIsInValid'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request failed.', example='formatType can not be empty'),
  message?: string(name='Message', description='The error message returned if the request failed.', example='formatType can not be empty'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='A08F908D-2C35-583F-93C1-ED80753F****'),
  success?: string(name='Success', description='Indicates whether the request was successful. Valid values:

*   **true**: The request was successful.
*   **false**: The request failed.', example='true'),
}

model CreateDownloadResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: CreateDownloadResponseBody(name='body'),
}

/**
 * @summary Creates an advanced download task for an ApsaraDB RDS for MySQL instance, an ApsaraDB RDS for PostgreSQL instance, or a PolarDB for MySQL cluster.
 *
 * @description ### [](#)Supported database engines
 * *   ApsaraDB RDS for MySQL
 * *   ApsaraDB RDS for PostgreSQL
 * *   PolarDB for MySQL
 * ### [](#)References
 * For the instances that meet your business requirements, you can create an advanced download task by point in time or backup set. You can set the download destination to a URL or directly upload the downloaded backup set to your Object Storage Service (OSS) bucket to facilitate data analysis and offline archiving.
 * *   [Download the backup files of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/98819.html)
 * *   [Download the backup files of an ApsaraDB RDS for PostgreSQL instance](https://help.aliyun.com/document_detail/96774.html)
 * *   [Download the backup files of a PolarDB for MySQL cluster](https://help.aliyun.com/document_detail/2627635.html)
 *
 * @param request CreateDownloadRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return CreateDownloadResponse
 */
@context("createDownloadWithContext")
async function createDownloadWithOptions(request: CreateDownloadRequest, runtime: $RuntimeOptions): CreateDownloadResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.adminDatabase)) {
    query['AdminDatabase'] = request.adminDatabase;
  }
  if (!$isNull(request.bakSetId)) {
    query['BakSetId'] = request.bakSetId;
  }
  if (!$isNull(request.bakSetSize)) {
    query['BakSetSize'] = request.bakSetSize;
  }
  if (!$isNull(request.bakSetType)) {
    query['BakSetType'] = request.bakSetType;
  }
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.downloadPointInTime)) {
    query['DownloadPointInTime'] = request.downloadPointInTime;
  }
  if (!$isNull(request.formatType)) {
    query['FormatType'] = request.formatType;
  }
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.isCluster)) {
    query['IsCluster'] = request.isCluster;
  }
  if (!$isNull(request.isPhysical)) {
    query['IsPhysical'] = request.isPhysical;
  }
  if (!$isNull(request.primaryKeyTypeOnly)) {
    query['PrimaryKeyTypeOnly'] = request.primaryKeyTypeOnly;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.targetBucket)) {
    query['TargetBucket'] = request.targetBucket;
  }
  if (!$isNull(request.targetOssRegion)) {
    query['TargetOssRegion'] = request.targetOssRegion;
  }
  if (!$isNull(request.targetPath)) {
    query['TargetPath'] = request.targetPath;
  }
  if (!$isNull(request.targetType)) {
    query['TargetType'] = request.targetType;
  }
  if (!$isNull(request.useZstd)) {
    query['UseZstd'] = request.useZstd;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'CreateDownload',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Creates an advanced download task for an ApsaraDB RDS for MySQL instance, an ApsaraDB RDS for PostgreSQL instance, or a PolarDB for MySQL cluster.
 *
 * @description ### [](#)Supported database engines
 * *   ApsaraDB RDS for MySQL
 * *   ApsaraDB RDS for PostgreSQL
 * *   PolarDB for MySQL
 * ### [](#)References
 * For the instances that meet your business requirements, you can create an advanced download task by point in time or backup set. You can set the download destination to a URL or directly upload the downloaded backup set to your Object Storage Service (OSS) bucket to facilitate data analysis and offline archiving.
 * *   [Download the backup files of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/98819.html)
 * *   [Download the backup files of an ApsaraDB RDS for PostgreSQL instance](https://help.aliyun.com/document_detail/96774.html)
 * *   [Download the backup files of a PolarDB for MySQL cluster](https://help.aliyun.com/document_detail/2627635.html)
 *
 * @param request CreateDownloadRequest
 * @return CreateDownloadResponse
 */
async function createDownload(request: CreateDownloadRequest): CreateDownloadResponse {
  var runtime = new $RuntimeOptions{};
  return createDownloadWithOptions(request, runtime);
}

model DeleteSandboxInstanceRequest {
  backupPlanId?: string(name='BackupPlanId', description='The ID of the backup schedule. You can call the [DescribeBackupPlanList](https://help.aliyun.com/document_detail/437215.html) operation to query the ID of the backup schedule.

> If your instance is an ApsaraDB RDS for MySQL instance, you can [configure automatic access to a data source](https://help.aliyun.com/document_detail/193091.html) to automatically add the instance to DBS and obtain the ID of the backup schedule.

This parameter is required.', example='1hxxxx8xxxxxa'),
  instanceId?: string(name='InstanceId', description='The ID of the sandbox instance. You can call the [DescribeSandboxInstances](https://help.aliyun.com/document_detail/437257.html) operation to query the ID of the sandbox instance.

This parameter is required.', example='1jxxxxnxxx1xc'),
  zoneId?: string(name='ZoneId'),
}

model DeleteSandboxInstanceResponseBody = {
  code?: string(name='Code', description='The error code returned if the request failed.', example='Param.NotFound'),
  data?: string(name='Data', description='The returned data.', example='operation forbidden due to sandbox is creating.'),
  errCode?: string(name='ErrCode', description='The error code returned if the request failed.', example='Param.NotFound'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request failed.', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', description='The error message returned if the request failed.', example='The specified parameter %s value is not valid.'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='4F1888AC-1138-4995-B9FE-D2734F61C058'),
  success?: string(name='Success', description='Indicates whether the request was successful.', example='true'),
}

model DeleteSandboxInstanceResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DeleteSandboxInstanceResponseBody(name='body'),
}

/**
 * @summary Releases a sandbox instance.
 *
 * @description This operation is available only for the Database Backup (DBS) API of the 2021-01-01 version.
 *
 * @param request DeleteSandboxInstanceRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DeleteSandboxInstanceResponse
 */
@context("deleteSandboxInstanceWithContext")
async function deleteSandboxInstanceWithOptions(request: DeleteSandboxInstanceRequest, runtime: $RuntimeOptions): DeleteSandboxInstanceResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupPlanId)) {
    query['BackupPlanId'] = request.backupPlanId;
  }
  if (!$isNull(request.instanceId)) {
    query['InstanceId'] = request.instanceId;
  }
  if (!$isNull(request.zoneId)) {
    query['ZoneId'] = request.zoneId;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DeleteSandboxInstance',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Releases a sandbox instance.
 *
 * @description This operation is available only for the Database Backup (DBS) API of the 2021-01-01 version.
 *
 * @param request DeleteSandboxInstanceRequest
 * @return DeleteSandboxInstanceResponse
 */
async function deleteSandboxInstance(request: DeleteSandboxInstanceRequest): DeleteSandboxInstanceResponse {
  var runtime = new $RuntimeOptions{};
  return deleteSandboxInstanceWithOptions(request, runtime);
}

model DescribeBackupDataListRequest {
  backupId?: string(name='BackupId', description='The ID of the backup set.', example='213064****'),
  backupMethod?: string(name='BackupMethod', description='The backup method. Valid values:

*   **Physical**
*   **Logical**
*   **Snapshot**', example='Snapshot'),
  backupMode?: string(name='BackupMode', description='The backup mode. Valid values:

*   **Automated**
*   **Manual**', example='Automated'),
  backupScale?: string(name='BackupScale', description='The backup scale. Valid values:

*   **DBInstance**
*   **DBTable**', example='DBInstance'),
  backupStatus?: string(name='BackupStatus', description='The status of the backup set. Valid values:

*   **OK**: The backup succeeded.
*   **ERROR**: The backup failed.', example='OK'),
  backupType?: string(name='BackupType', description='The backup type. Valid values:

*   **FullBackup**
*   **IncrementBackup**', example='FullBackup'),
  dataSourceId?: string(name='DataSourceId', description='This is a reserved parameter.', example='test****'),
  endTime?: string(name='EndTime', description='The end of the time range to query. The end time must be later than the start time. The time follows the yyyy-MM-ddTHH:mm:ssZ format and is displayed in UTC.', example='2024-04-17T17:00:32Z'),
  instanceIsDeleted?: boolean(name='InstanceIsDeleted', description='Specifies whether the cluster is deleted. Valid values:

*   **true**
*   **false** (default)', example='false'),
  instanceName?: string(name='InstanceName', description='The ID of the PolarDB for MySQL cluster.', example='pc-2ze3nrr64c5******'),
  instanceRegion?: string(name='InstanceRegion', description='The region in which the original cluster resides.', example='cn-hangzhou'),
  pageNumber?: int32(name='PageNumber', description='The page number. The value must be a positive integer that does not exceed the maximum value of the INTEGER data type. Default value: 1.', example='1'),
  pageSize?: int32(name='PageSize', description='The number of entries per page. Default value: 20.', example='20'),
  regionCode?: string(name='RegionCode', description='The region in which the backup set resides.', example='cn-hangzhou'),
  sceneType?: string(name='SceneType', description='The type of the backup scenario. Set the value to **LEVEL_1**, which indicates the level-1 backup of the region in which the PolarDB for MySQL cluster resides.', example='LEVEL_1'),
  startTime?: string(name='StartTime', description='The beginning of the time range to query. Specify the time in the ISO 8601 standard in the yyyy-MM-ddTHH:mm:ssZ format. The time must be in UTC.', example='2024-04-17T17:00:16Z'),
}

model DescribeBackupDataListResponseBody = {
  code?: string(name='Code', description='The status code.', example='Success'),
  data?: {
    content?: [ 
      {
        backupDownloadURL?: string(name='BackupDownloadURL', description='The URL that is used to download the backup set over the Internet.

>  This parameter is returned only when the value of BackupMethod is **Physical** or **Logical**.', example='http://oss.com/****'),
        backupEndTime?: string(name='BackupEndTime', description='The end time of the backup. The time is in the yyyy-MM-ddTHH:mm:ssZ format. The time is in UTC.', example='2024-04-17T17:00:32Z'),
        backupId?: string(name='BackupId', description='The ID of the backup set.', example='213088****'),
        backupIntranetDownloadURL?: string(name='BackupIntranetDownloadURL', description='The URL that is used to download the backup set over the internal network.

>  This parameter is returned only when the value of BackupMethod is **Physical** or **Logical**.', example='http://oss.com/****'),
        backupLocation?: string(name='BackupLocation', description='The storage path of backup files.', example='logic'),
        backupMethod?: string(name='BackupMethod', description='The backup method. Valid values:

*   **Physical**
*   **Logical**
*   **Snapshot**', example='Snapshot'),
        backupMode?: string(name='BackupMode', description='The backup mode. Valid values:

*   **Automated**
*   **Manual**', example='Automated'),
        backupName?: string(name='BackupName', description='The name of the backup set.', example='logic_backup'),
        backupScale?: string(name='BackupScale', description='The backup scale. Valid values:

*   **DBInstance**
*   **DBTable**', example='DBInstance'),
        backupSize?: long(name='BackupSize', description='The size of the backup set. Unit: byte.', example='25669140480'),
        backupStartTime?: string(name='BackupStartTime', description='The start time of the backup. The time is in the yyyy-MM-ddTHH:mm:ssZ format. The time is in UTC.', example='2024-04-17T17:00:16Z'),
        backupStatus?: string(name='BackupStatus', description='The status of the backup set. Valid values:

*   **OK**: The backup succeeded.
*   **ERROR**: The backup failed.', example='OK'),
        backupType?: string(name='BackupType', description='The backup type. Valid values:

*   **FullBackup**
*   **IncrementBackup**', example='FullBackup'),
        checksum?: string(name='Checksum', description='The checksum value.', example='84a4c16431f969712e6895992719****'),
        consistentTime?: long(name='ConsistentTime', description='The snapshot checkpoint time. This value is a UNIX timestamp representing the number of seconds that have elapsed since January 1, 1970, 00:00:00 UTC.', example='1713373221'),
        encryption?: string(name='Encryption', description='The information about the encryption.', example='psk2'),
        engine?: string(name='Engine', description='The type of the database engine.', example='polardb_mysql'),
        engineVersion?: string(name='EngineVersion', description='The engine version.', example='5.7'),
        expectExpireTime?: string(name='ExpectExpireTime', description='The time when the backup set expires. The time follows the ISO 8601 standard in the yyyy-MM-ddTHH:mm:ssZ format. The time is displayed in UTC.', example='2024-04-19T05:00:49Z'),
        expectExpireType?: string(name='ExpectExpireType', description='Indicates whether the backup set expires. Valid values:

*   NEVER: The backup set does not expire.
*   EXPIRED: The backup set expired.
*   DELAY: The backup set expires after a specific period of time.', example='DELAY'),
        instanceName?: string(name='InstanceName', description='The instance ID.', example='pc-2ze3nrr64c5******'),
        isAvail?: int32(name='IsAvail', description='Indicates whether the backup set is available. Valid values:

*   **1**: The backup set is available.
*   **0**: The backup set is unavailable.', example='1'),
        polarSnapshot?: {
          dumpId?: long(name='DumpId', description='The dump backup ID.', example='abc****'),
          dumpSize?: long(name='DumpSize', description='The size of the dump backup. Unit: byte.', example='25669140589'),
          expectExpireTime?: string(name='ExpectExpireTime', description='The time when the backup set expires. The time follows the ISO 8601 standard in the YYYY-MM-DDThh:mm:ssZ format. The time is displayed in UTC.', example='2024-04-19T05:00:49Z'),
          expectExpireType?: string(name='expectExpireType', description='Indicates whether the backup set expires. Valid values:

*   NEVER: The backup set does not expire.
*   EXPIRED: The backup set expired.
*   DELAY: The backup set expires after a specific period of time.', example='DELAY'),
        }(name='PolarSnapshot', description='The information about the PolarDB level-2 dump.

>  This parameter is returned only if the level-2 dump feature is enabled for the PolarDB for MySQL cluster and the level-1 backup is dumped.'),
        supportDeletion?: int32(name='SupportDeletion', description='Indicates whether the backup set can be deleted. Valid values:

*   **0**: The backup set can be deleted.
*   **1**: The backup set cannot be deleted.', example='0'),
      }
    ](name='Content', description='The information about the task.'),
    extra?: string(name='Extra', description='The additional information.', example='dbtest'),
    pageNumber?: long(name='PageNumber', description='The page number of the returned page.', example='1'),
    pageSize?: long(name='PageSize', description='The number of entries per page.', example='20'),
    totalElements?: long(name='TotalElements', description='The total number of backup sets.', example='1'),
    totalPages?: long(name='TotalPages', description='The total number of pages returned.', example='1'),
  }(name='Data', description='The returned data.'),
  errCode?: string(name='ErrCode', description='The error code.', example='Request.Forbidden'),
  errMessage?: string(name='ErrMessage', description='The error message.', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', description='The returned message.', example='The specified parameter %s value is not valid.'),
  requestId?: string(name='RequestId', description='The request ID.', example='95A5FFD0-7F46-5A7D-9DFE-6A376B4E2A28'),
  success?: string(name='Success', description='Indicates whether the operation was successful. Valid values:

*   **true**
*   **false**', example='true'),
}

model DescribeBackupDataListResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeBackupDataListResponseBody(name='body'),
}

/**
 * @summary Queries the information about the backup data of a PolarDB for MySQL cluster.
 *
 * @description ### [](#)Supported database engine
 * PolarDB for MySQL
 * >  This API operation is available only to specific customers. If you want to call this API operation, join the Database Backup (DBS) DingTalk group (ID: 35585947) for customer consultation to request permissions.
 * ### [](#)References
 * [Back up data of PolarDB for MySQL](https://help.aliyun.com/document_detail/88172.html)
 *
 * @param request DescribeBackupDataListRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeBackupDataListResponse
 */
@context("describeBackupDataListWithContext")
async function describeBackupDataListWithOptions(request: DescribeBackupDataListRequest, runtime: $RuntimeOptions): DescribeBackupDataListResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupId)) {
    query['BackupId'] = request.backupId;
  }
  if (!$isNull(request.backupMethod)) {
    query['BackupMethod'] = request.backupMethod;
  }
  if (!$isNull(request.backupMode)) {
    query['BackupMode'] = request.backupMode;
  }
  if (!$isNull(request.backupScale)) {
    query['BackupScale'] = request.backupScale;
  }
  if (!$isNull(request.backupStatus)) {
    query['BackupStatus'] = request.backupStatus;
  }
  if (!$isNull(request.backupType)) {
    query['BackupType'] = request.backupType;
  }
  if (!$isNull(request.dataSourceId)) {
    query['DataSourceId'] = request.dataSourceId;
  }
  if (!$isNull(request.endTime)) {
    query['EndTime'] = request.endTime;
  }
  if (!$isNull(request.instanceIsDeleted)) {
    query['InstanceIsDeleted'] = request.instanceIsDeleted;
  }
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.instanceRegion)) {
    query['InstanceRegion'] = request.instanceRegion;
  }
  if (!$isNull(request.pageNumber)) {
    query['PageNumber'] = request.pageNumber;
  }
  if (!$isNull(request.pageSize)) {
    query['PageSize'] = request.pageSize;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.sceneType)) {
    query['SceneType'] = request.sceneType;
  }
  if (!$isNull(request.startTime)) {
    query['StartTime'] = request.startTime;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeBackupDataList',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries the information about the backup data of a PolarDB for MySQL cluster.
 *
 * @description ### [](#)Supported database engine
 * PolarDB for MySQL
 * >  This API operation is available only to specific customers. If you want to call this API operation, join the Database Backup (DBS) DingTalk group (ID: 35585947) for customer consultation to request permissions.
 * ### [](#)References
 * [Back up data of PolarDB for MySQL](https://help.aliyun.com/document_detail/88172.html)
 *
 * @param request DescribeBackupDataListRequest
 * @return DescribeBackupDataListResponse
 */
async function describeBackupDataList(request: DescribeBackupDataListRequest): DescribeBackupDataListResponse {
  var runtime = new $RuntimeOptions{};
  return describeBackupDataListWithOptions(request, runtime);
}

model DescribeBackupPolicyRequest {
  instanceName?: string(name='InstanceName', description='The ID of the PolarDB for MySQL cluster.', example='pc-2ze3nrr64c5******'),
  regionCode?: string(name='RegionCode', description='The region in which the backup set resides.', example='cn-beijing'),
}

model DescribeBackupPolicyResponseBody = {
  code?: string(name='Code', description='The status code.', example='Success'),
  data?: {
    advanceDataPolicies?: [ 
      {
        autoCreated?: boolean(name='AutoCreated', description='Indicates whether the backup policy is generated by the system. Valid values:

*   **true**: The backup policy is generated by the system.
*   **false**: The backup policy is a custom one.', example='true'),
        bakType?: string(name='BakType', description='The backup type. Valid values:

*   **F**: full backup
*   **L**: log backup', example='F'),
        destRegion?: string(name='DestRegion', description='The region in which the backup files are stored.', example='cn-beijing'),
        destType?: string(name='DestType', description='The storage method of backup files. Valid values:

*   **db**: database
*   **level1**: level-1 backup
*   **level2**: level-2 backup
*   **level2Cross**: level-2 cross-region backup', example='level1'),
        dumpAction?: string(name='DumpAction', description='The information about the dump policy. Valid values:

*   **copy**: The backup data is copied from the data source to the destination.
*   **move**: The backup data is moved from the data source to the destination.', example='copy'),
        filterKey?: string(name='FilterKey', description='The scheduling frequency. Valid values:

*   **dayOfWeek**: scheduling by week
*   **dayOfMonth**: scheduling by month
*   **dayOfYear**: scheduling by year
*   **backupInterval**: scheduling at a specific interval

>  This parameter is returned only if the value of FilterType is **crontab**.', example='dayOfWeek'),
        filterType?: string(name='FilterType', description='The scheduling mode of the advanced backup policy. Valid values:

*   **crontab**: periodic scheduling
*   **event**: event-based scheduling', example='crontab'),
        filterValue?: string(name='FilterValue', description='The day of a week on which you want to back up data.', example='1,2,3,4,5,6,7'),
        policyId?: string(name='PolicyId', description='The ID of the advanced backup policy.', example='71930ac2e9f15e41615e10627c******'),
        retentionType?: string(name='RetentionType', description='The retention type of backup sets. Valid values:

*   **never**: Backup sets never expire.
*   **delay**: Backup sets are retained for a specific number of days.', example='delay'),
        retentionValue?: string(name='RetentionValue', description='The validity period, in days.', example='7'),
        srcRegion?: string(name='SrcRegion', description='The region in which the data source of the backup policy resides.', example='cn-beijing'),
        srcType?: string(name='SrcType', description='The type of the data source of the backup policy. Valid values:

*   **db**: database
*   **level1**: level-1 backup
*   **level2**: level-2 backup
*   **level2Cross**: level-2 cross-region backup', example='db'),
        storageClass?: string(name='StorageClass'),
      }
    ](name='AdvanceDataPolicies', description='The details of data backup policies.'),
    advanceIncPolicies?: [ 
      {
        autoCreated?: boolean(name='AutoCreated'),
        bakType?: string(name='BakType'),
        destRegion?: string(name='DestRegion'),
        destType?: string(name='DestType'),
        dumpAction?: string(name='DumpAction'),
        filterKey?: string(name='FilterKey'),
        filterType?: string(name='FilterType'),
        filterValue?: string(name='FilterValue'),
        policyId?: string(name='PolicyId'),
        retentionType?: string(name='RetentionType'),
        retentionValue?: string(name='RetentionValue'),
        srcRegion?: string(name='SrcRegion'),
        srcType?: string(name='SrcType'),
      }
    ](name='AdvanceIncPolicies'),
    advanceLogPolicies?: [ 
      {
        destRegion?: string(name='DestRegion', description='The region in which the backup files are stored.', example='cn-shanghai'),
        destType?: string(name='DestType', description='The storage method of backup files. Valid values:

*   **db**: database
*   **level1**: level-1 backup
*   **level2**: level-2 backup
*   **level2Cross**: level-2 cross-region backup', example='level1'),
        enableLogBackup?: long(name='EnableLogBackup', description='A reserved parameter.', example='1'),
        filterKey?: string(name='FilterKey'),
        filterType?: string(name='FilterType'),
        filterValue?: string(name='FilterValue'),
        logRetentionType?: string(name='LogRetentionType', description='The retention type of log backups. Valid values:

*   **never**: Log backups never expire.
*   **delay**: Log backups are retained for a specific number of days.', example='delay'),
        logRetentionValue?: string(name='LogRetentionValue', description='The retention period of log backups.', example='3'),
        policyId?: string(name='PolicyId', description='The backup policy ID.', example='6s67c7i3y8f8p72808p******'),
        srcRegion?: string(name='SrcRegion', description='The region in which the data source of the backup policy resides.', example='cn-beijing'),
        srcType?: string(name='SrcType', description='The type of the data source of the backup policy. Valid values:

*   **db**: database
*   **level1**: level-1 backup
*   **level2**: level-2 backup
*   **level2Cross**: level-2 cross-region backup', example='level1'),
      }
    ](name='AdvanceLogPolicies', description='The details of log backup policies.'),
    backupMethod?: string(name='BackupMethod', description='The method that is used to generate backup files. Valid values:

*   **Physical**: physical backup
*   **Snapshot**: snapshot backup', example='Physical'),
    backupPriority?: int32(name='BackupPriority', description='Indicates whether the secondary database is preferentially backed up. Valid values:

*   **1**: The secondary database is preferentially backed up.
*   **2**: Only the primary database is backed up.

>  This parameter is returned only for ApsaraDB RDS for SQL Server instances. If the instance runs a different database engine, **0** is returned.', example='0'),
    backupRetentionPeriod?: int32(name='BackupRetentionPeriod', description='The retention period of basic backup files. If an advanced backup policy is enabled, the value indicates the retention period of the level-1 backup policy.', example='7'),
    backupRetentionPolicyOnClusterDeletion?: string(name='BackupRetentionPolicyOnClusterDeletion', description='The policy that is used to retain the archived backup files if the instance is deleted. Valid values:

*   **NONE**: No archived backup file is retained.
*   **LATEST**: Only the latest archived backup file is retained.
*   **ALL**: All archived backup files are retained.', example='LATEST'),
    category?: string(name='Category', description='Indicates whether the second-granularity backup feature is enabled. Valid values:

*   **Flash**: The second-granularity backup feature is enabled.
*   **Standard**: The standard backup feature is enabled.

>  This parameter is returned only for MySQL instances.', example='Standard'),
    enableBackup?: int32(name='EnableBackup', description='Indicates whether the backup feature is enabled.', example='1'),
    enableIncBackup?: int32(name='EnableIncBackup', description='Indicates whether the incremental backup feature is enabled.', example='0'),
    enableLogBackup?: int32(name='EnableLogBackup', description='Indicates whether the log backup feature is enabled. Valid values:

*   **1**: The log backup feature is enabled.
*   **0**: The log backup feature is disabled.', example='1'),
    highFrequencyBakInterval?: int32(name='HighFrequencyBakInterval', description='The interval for high-frequency backups. Unit: minutes. For example, a value of 120 indicates that a backup is performed every two hours.', example='120'),
    highSpaceUsageProtection?: string(name='HighSpaceUsageProtection', description='Indicates whether logs are forcibly cleared if the storage usage of the instance is greater than 80% or the available storage space of the instance is smaller than 5 GB. Valid values:

*   **Disable**: Logs are not forcibly cleared.
*   **Enable**: Logs are forcibly cleared.', example='Enable'),
    incBackupInterval?: int32(name='IncBackupInterval', description='The interval for high-frequency incremental backups.', example='-1'),
    localLogRetentionSpace?: int32(name='LocalLogRetentionSpace', description='The maximum storage usage that is allowed for log files on the instance.', example='30'),
    logBackupLocalRetentionNumber?: string(name='LogBackupLocalRetentionNumber', description='The number of local binary log files that are retained.', example='10'),
    logBackupRetention?: int32(name='LogBackupRetention', description='The retention period of log backups.', example='7'),
    preferredBackupDate?: string(name='PreferredBackupDate', description='The backup cycle of a basic backup. The backup cycle is represented by a seven-digit string, which corresponds to the days of the week from Monday to Sunday. A value of 1 indicates that a basic backup is performed on that day, and a value of 0 indicates that no basic backup is performed on that day.', example='1010101'),
    preferredBackupWindow?: string(name='PreferredBackupWindow', description='The time period during which a basic backup is performed.', example='23:00Z-24:00Z'),
    preferredBackupWindowBegin?: string(name='PreferredBackupWindowBegin', description='The start time of a basic backup.', example='23:00Z'),
  }(name='Data', description='The details of the backup policy.'),
  errCode?: string(name='ErrCode', description='The error code.', example='Success'),
  errMessage?: string(name='ErrMessage', description='The error message.', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', description='The returned message.', example='instanceName can not be empty.'),
  requestId?: string(name='RequestId', description='The request ID.', example='54A63B3B-AA10-1CC3-A6BB-6CCE98D19628'),
  success?: string(name='Success', description='Indicates whether the request was successful. Valid values:

*   **true**
*   **false**', example='true'),
}

model DescribeBackupPolicyResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeBackupPolicyResponseBody(name='body'),
}

/**
 * @summary Queries the information about the backup policy of a PolarDB for MySQL instance.
 *
 * @description ### [](#)Supported database engine
 * PolarDB for MySQL
 * >  The API operation is available only to specific customers. If you want to call this API operation, request permissions by joining the Database Backup (DBS) DingTalk group (ID 35585947) for customer consultation.
 * ### [](#)References
 * [Topics related to backup policies of PolarDB for MySQL instances](https://help.aliyun.com/document_detail/280422.html)
 *
 * @param request DescribeBackupPolicyRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeBackupPolicyResponse
 */
@context("describeBackupPolicyWithContext")
async function describeBackupPolicyWithOptions(request: DescribeBackupPolicyRequest, runtime: $RuntimeOptions): DescribeBackupPolicyResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeBackupPolicy',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries the information about the backup policy of a PolarDB for MySQL instance.
 *
 * @description ### [](#)Supported database engine
 * PolarDB for MySQL
 * >  The API operation is available only to specific customers. If you want to call this API operation, request permissions by joining the Database Backup (DBS) DingTalk group (ID 35585947) for customer consultation.
 * ### [](#)References
 * [Topics related to backup policies of PolarDB for MySQL instances](https://help.aliyun.com/document_detail/280422.html)
 *
 * @param request DescribeBackupPolicyRequest
 * @return DescribeBackupPolicyResponse
 */
async function describeBackupPolicy(request: DescribeBackupPolicyRequest): DescribeBackupPolicyResponse {
  var runtime = new $RuntimeOptions{};
  return describeBackupPolicyWithOptions(request, runtime);
}

model DescribeBakDataSourceStorageAccessInfoRequest {
  backupSetId?: string(name='BackupSetId', description='This parameter is required.', example='ee-d84wwm3cazdbjli1m1*****'),
  backupType?: string(name='BackupType', description='This parameter is required.', example='FullBackup'),
  clientToken?: string(name='ClientToken', example='dbs'),
  dataSourceId?: string(name='DataSourceId', description='This parameter is required.', example='ds-7iz7uwzgcgumznkd02xn*****'),
  durationSeconds?: long(name='DurationSeconds', example='3600'),
  regionCode?: string(name='RegionCode', description='This parameter is required.', example='cn-beijing'),
  regionId?: string(name='RegionId', example='cn-beijing'),
  storageType?: string(name='StorageType'),
}

model DescribeBakDataSourceStorageAccessInfoResponseBody = {
  code?: string(name='Code', example='Success'),
  data?: {
    ossAccessInfo?: {
      accessKeyId?: string(name='AccessKeyId', example='TMP.3Kk6fNt7hhNmHrGYFkLe5WAo8qL18Hk2rKSZkDkZvrey1ksVAFgJ8Vty8isrBHaH5KUNYAwtcW8HUPzjjsNLo*******'),
      accessKeySecret?: string(name='AccessKeySecret', example='6XzFspxx5wKjuJ2QwATkxnV7fcFxR*****'),
      bucketName?: string(name='BucketName', example='dbs-bakdata-test-cn-beijing-backup-oss-0-*****'),
      expiredTime?: string(name='ExpiredTime', example='2024-07-11T05:14:44Z'),
      objectKey?: string(name='ObjectKey', example='VN/2023/11/13/activity/20080101/activity-*****.tar'),
      ossEndpoint?: string(name='OssEndpoint', example='oss-cn-beijing.****.com'),
      ossInternalEndpoint?: string(name='OssInternalEndpoint', example='oss-cn-beijing-****.aliyuncs.com'),
      ossRegion?: string(name='OssRegion', example='cn-beijing'),
      securityToken?: string(name='SecurityToken', example='554c0098-9858-4871-9c4c-33d9d*****'),
    }(name='OssAccessInfo'),
    storageType?: string(name='StorageType', example='OSS'),
  }(name='Data'),
  errCode?: string(name='ErrCode', example='Request.Forbidden'),
  errMessage?: string(name='ErrMessage', example='Have no Permissions'),
  message?: string(name='Message', example='Successful'),
  requestId?: string(name='RequestId', example='D13761C3-9971-5C02-B789-3F3CD159****'),
  success?: string(name='Success', example='true'),
}

model DescribeBakDataSourceStorageAccessInfoResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeBakDataSourceStorageAccessInfoResponseBody(name='body'),
}

/**
 * @summary 查询存储介质访问详情
 *
 * @param request DescribeBakDataSourceStorageAccessInfoRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeBakDataSourceStorageAccessInfoResponse
 */
@context("describeBakDataSourceStorageAccessInfoWithContext")
async function describeBakDataSourceStorageAccessInfoWithOptions(request: DescribeBakDataSourceStorageAccessInfoRequest, runtime: $RuntimeOptions): DescribeBakDataSourceStorageAccessInfoResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupSetId)) {
    query['BackupSetId'] = request.backupSetId;
  }
  if (!$isNull(request.backupType)) {
    query['BackupType'] = request.backupType;
  }
  if (!$isNull(request.clientToken)) {
    query['ClientToken'] = request.clientToken;
  }
  if (!$isNull(request.dataSourceId)) {
    query['DataSourceId'] = request.dataSourceId;
  }
  if (!$isNull(request.durationSeconds)) {
    query['DurationSeconds'] = request.durationSeconds;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.regionId)) {
    query['RegionId'] = request.regionId;
  }
  if (!$isNull(request.storageType)) {
    query['StorageType'] = request.storageType;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeBakDataSourceStorageAccessInfo',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 查询存储介质访问详情
 *
 * @param request DescribeBakDataSourceStorageAccessInfoRequest
 * @return DescribeBakDataSourceStorageAccessInfoResponse
 */
async function describeBakDataSourceStorageAccessInfo(request: DescribeBakDataSourceStorageAccessInfoRequest): DescribeBakDataSourceStorageAccessInfoResponse {
  var runtime = new $RuntimeOptions{};
  return describeBakDataSourceStorageAccessInfoWithOptions(request, runtime);
}

model DescribeCostInfoByDbsInstanceRequest {
  backupPlanId?: string(name='BackupPlanId', example='dbsr1l3ro21****'),
  regionCode?: string(name='RegionCode', example='cn-hangzhou'),
}

model DescribeCostInfoByDbsInstanceResponseBody = {
  code?: string(name='Code', example='Success'),
  data?: string(name='Data', example='{
      "backupPlanComment": "",
      "commodity": "cbs_post",
      "product": "cbs",
      "moduleCode": "BackupStorageSize",
      "instanceName": "d-2zefd6337d766294",
      "backupPlanId": "dbs:d-2zefd6337d766294",
      "moduleName": "mongodb"
    }'),
  errCode?: string(name='ErrCode', example='Param.NotFound'),
  errMessage?: string(name='ErrMessage', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', example='The specified parameter %s value is not valid.'),
  requestId?: string(name='RequestId', example='9C397502-B4F2-4E22-AD97-C81F0049F3F3'),
  success?: string(name='Success', example='true'),
}

model DescribeCostInfoByDbsInstanceResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeCostInfoByDbsInstanceResponseBody(name='body'),
}

/**
 * @summary 根据dbs实例id获取费用列表
 *
 * @param request DescribeCostInfoByDbsInstanceRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeCostInfoByDbsInstanceResponse
 */
@context("describeCostInfoByDbsInstanceWithContext")
async function describeCostInfoByDbsInstanceWithOptions(request: DescribeCostInfoByDbsInstanceRequest, runtime: $RuntimeOptions): DescribeCostInfoByDbsInstanceResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupPlanId)) {
    query['BackupPlanId'] = request.backupPlanId;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeCostInfoByDbsInstance',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 根据dbs实例id获取费用列表
 *
 * @param request DescribeCostInfoByDbsInstanceRequest
 * @return DescribeCostInfoByDbsInstanceResponse
 */
async function describeCostInfoByDbsInstance(request: DescribeCostInfoByDbsInstanceRequest): DescribeCostInfoByDbsInstanceResponse {
  var runtime = new $RuntimeOptions{};
  return describeCostInfoByDbsInstanceWithOptions(request, runtime);
}

model DescribeDBTablesRecoveryBackupSetRequest {
  clusterName?: string(name='ClusterName'),
  instanceId?: string(name='InstanceId'),
  regionCode?: string(name='RegionCode'),
}

model DescribeDBTablesRecoveryBackupSetResponseBody = {
  code?: string(name='Code'),
  data?: string(name='Data'),
  errCode?: string(name='ErrCode'),
  errMessage?: string(name='ErrMessage'),
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  success?: string(name='Success'),
}

model DescribeDBTablesRecoveryBackupSetResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeDBTablesRecoveryBackupSetResponseBody(name='body'),
}

/**
 * @summary 查库表恢复可用的备份集
 *
 * @param request DescribeDBTablesRecoveryBackupSetRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeDBTablesRecoveryBackupSetResponse
 */
@context("describeDBTablesRecoveryBackupSetWithContext")
async function describeDBTablesRecoveryBackupSetWithOptions(request: DescribeDBTablesRecoveryBackupSetRequest, runtime: $RuntimeOptions): DescribeDBTablesRecoveryBackupSetResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.instanceId)) {
    query['InstanceId'] = request.instanceId;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeDBTablesRecoveryBackupSet',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 查库表恢复可用的备份集
 *
 * @param request DescribeDBTablesRecoveryBackupSetRequest
 * @return DescribeDBTablesRecoveryBackupSetResponse
 */
async function describeDBTablesRecoveryBackupSet(request: DescribeDBTablesRecoveryBackupSetRequest): DescribeDBTablesRecoveryBackupSetResponse {
  var runtime = new $RuntimeOptions{};
  return describeDBTablesRecoveryBackupSetWithOptions(request, runtime);
}

model DescribeDBTablesRecoveryStateRequest {
  clusterName?: string(name='ClusterName'),
  instanceId?: string(name='InstanceId'),
  regionCode?: string(name='RegionCode'),
}

model DescribeDBTablesRecoveryStateResponseBody = {
  code?: string(name='Code'),
  data?: string(name='Data'),
  errCode?: string(name='ErrCode'),
  errMessage?: string(name='ErrMessage'),
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  success?: string(name='Success'),
}

model DescribeDBTablesRecoveryStateResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeDBTablesRecoveryStateResponseBody(name='body'),
}

/**
 * @summary 查库表恢复状态
 *
 * @param request DescribeDBTablesRecoveryStateRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeDBTablesRecoveryStateResponse
 */
@context("describeDBTablesRecoveryStateWithContext")
async function describeDBTablesRecoveryStateWithOptions(request: DescribeDBTablesRecoveryStateRequest, runtime: $RuntimeOptions): DescribeDBTablesRecoveryStateResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.instanceId)) {
    query['InstanceId'] = request.instanceId;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeDBTablesRecoveryState',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 查库表恢复状态
 *
 * @param request DescribeDBTablesRecoveryStateRequest
 * @return DescribeDBTablesRecoveryStateResponse
 */
async function describeDBTablesRecoveryState(request: DescribeDBTablesRecoveryStateRequest): DescribeDBTablesRecoveryStateResponse {
  var runtime = new $RuntimeOptions{};
  return describeDBTablesRecoveryStateWithOptions(request, runtime);
}

model DescribeDBTablesRecoveryTimeRangeRequest {
  clusterName?: string(name='ClusterName'),
  instanceId?: string(name='InstanceId'),
  regionCode?: string(name='RegionCode'),
}

model DescribeDBTablesRecoveryTimeRangeResponseBody = {
  code?: string(name='Code'),
  data?: string(name='Data'),
  errCode?: string(name='ErrCode'),
  errMessage?: string(name='ErrMessage'),
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  success?: string(name='Success'),
}

model DescribeDBTablesRecoveryTimeRangeResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeDBTablesRecoveryTimeRangeResponseBody(name='body'),
}

/**
 * @summary 查库表恢复可恢复的时间范围
 *
 * @param request DescribeDBTablesRecoveryTimeRangeRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeDBTablesRecoveryTimeRangeResponse
 */
@context("describeDBTablesRecoveryTimeRangeWithContext")
async function describeDBTablesRecoveryTimeRangeWithOptions(request: DescribeDBTablesRecoveryTimeRangeRequest, runtime: $RuntimeOptions): DescribeDBTablesRecoveryTimeRangeResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.instanceId)) {
    query['InstanceId'] = request.instanceId;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeDBTablesRecoveryTimeRange',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 查库表恢复可恢复的时间范围
 *
 * @param request DescribeDBTablesRecoveryTimeRangeRequest
 * @return DescribeDBTablesRecoveryTimeRangeResponse
 */
async function describeDBTablesRecoveryTimeRange(request: DescribeDBTablesRecoveryTimeRangeRequest): DescribeDBTablesRecoveryTimeRangeResponse {
  var runtime = new $RuntimeOptions{};
  return describeDBTablesRecoveryTimeRangeWithOptions(request, runtime);
}

model DescribeDownloadBackupSetStorageInfoRequest {
  backupSetId?: string(name='BackupSetId', description='The ID of the backup set.', example='30****'),
  clusterName?: string(name='ClusterName', example='dds-example'),
  duration?: string(name='Duration', description='The validity period of the URL that is used as the download destination. Take note of the following items:

*   Default value: 7200. This means that the URL is valid for 2 hours by default.
*   Valid values: 300 to 86400. Unit: seconds. This means that you can specify a validity period in the range of 5 minutes to 1 day.
*   Before you specify this parameter, convert the validity period to seconds. For example, if you want to set the validity period of the URL to 5 minutes, enter 300.

This parameter is required.', example='300'),
  instanceName?: string(name='InstanceName', description='The ID of the instance.

> The **BackupSetId** parameter is required if you specify the **InstanceName** parameter.', example='rm-uf6qqf569n435****'),
  regionCode?: string(name='RegionCode', description='The ID of the region in which the instance resides.

This parameter is required.', example='cn-hangzhou'),
  taskId?: string(name='TaskId', description='The download task ID.

*   The **BackupSetId** and **InstanceName** parameters are required if you do not specify the **TaskId** parameter.
*   To view the download task ID, go to the instance details page in the console and click **Backup and Restoration** in the left-side navigation pane. On the **Backup Download** tab, view the task ID.', example='dt-s0ugzak9****'),
}

model DescribeDownloadBackupSetStorageInfoResponseBody = {
  code?: string(name='Code', description='The error code returned if the request failed.', example='DBS.ParamIsInValid'),
  data?: {
    expirationTime?: long(name='ExpirationTime', description='The validity period of the URL.

> This value is a UNIX timestamp representing the number of milliseconds that have elapsed since January 1, 1970, 00:00:00 UTC.', example='1661329050'),
    privateUrl?: string(name='PrivateUrl', description='The private download URL of the backup set.'),
    publicUrl?: string(name='PublicUrl', description='The public download URL of the backup set.'),
  }(name='Data', description='The returned data.'),
  errCode?: string(name='ErrCode', description='The error code returned if the request failed.', example='DBS.ParamIsInValid'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request failed.', example='Argument: regionCode Must not be empty'),
  message?: string(name='Message', description='The error message returned if the request failed.', example='Argument: regionCode Must not be empty'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='44B8C2F5-919D-5D29-BCD5-DEB03467****'),
  success?: string(name='Success', description='Indicates whether the request was successful. Valid values:

*   **true**: The request was successful.
*   **false**: The request failed.', example='true'),
}

model DescribeDownloadBackupSetStorageInfoResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeDownloadBackupSetStorageInfoResponseBody(name='body'),
}

/**
 * @summary Queries the storage information of a downloaded backup set.
 *
 * @description ### [](#)Supported database engines
 * *   ApsaraDB RDS for MySQL that uses Enterprise SSDs (ESSDs)
 * *   RDS PostgreSQL
 * *   PolarDB for MySQL
 * ### [](#)References
 * *   [Download the backup files of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/98819.html)
 * *   [Download the backup files of an ApsaraDB RDS for PostgreSQL instance](https://help.aliyun.com/document_detail/96774.html)
 * *   [Download the backup files of a PolarDB for MySQL cluster](https://help.aliyun.com/document_detail/2627635.html)
 *
 * @param request DescribeDownloadBackupSetStorageInfoRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeDownloadBackupSetStorageInfoResponse
 */
@context("describeDownloadBackupSetStorageInfoWithContext")
async function describeDownloadBackupSetStorageInfoWithOptions(request: DescribeDownloadBackupSetStorageInfoRequest, runtime: $RuntimeOptions): DescribeDownloadBackupSetStorageInfoResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupSetId)) {
    query['BackupSetId'] = request.backupSetId;
  }
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.duration)) {
    query['Duration'] = request.duration;
  }
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.taskId)) {
    query['TaskId'] = request.taskId;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeDownloadBackupSetStorageInfo',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries the storage information of a downloaded backup set.
 *
 * @description ### [](#)Supported database engines
 * *   ApsaraDB RDS for MySQL that uses Enterprise SSDs (ESSDs)
 * *   RDS PostgreSQL
 * *   PolarDB for MySQL
 * ### [](#)References
 * *   [Download the backup files of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/98819.html)
 * *   [Download the backup files of an ApsaraDB RDS for PostgreSQL instance](https://help.aliyun.com/document_detail/96774.html)
 * *   [Download the backup files of a PolarDB for MySQL cluster](https://help.aliyun.com/document_detail/2627635.html)
 *
 * @param request DescribeDownloadBackupSetStorageInfoRequest
 * @return DescribeDownloadBackupSetStorageInfoResponse
 */
async function describeDownloadBackupSetStorageInfo(request: DescribeDownloadBackupSetStorageInfoRequest): DescribeDownloadBackupSetStorageInfoResponse {
  var runtime = new $RuntimeOptions{};
  return describeDownloadBackupSetStorageInfoWithOptions(request, runtime);
}

model DescribeDownloadSupportRequest {
  clusterName?: string(name='ClusterName', example='dds-example'),
  instanceName?: string(name='InstanceName', description='The ID of the instance.

This parameter is required.', example='rm-bp1a48p922r4b****'),
  regionCode?: string(name='RegionCode', description='The ID of the region in which the instance resides. You can call the [DescribeDBInstanceAttribute](https://help.aliyun.com/document_detail/26231.html) operation to query the region ID of the instance.

This parameter is required.', example='cn-hangzhou'),
}

model DescribeDownloadSupportResponseBody = {
  code?: string(name='Code', description='The error code returned if the request failed.', example='DBS.ParamIsInValid'),
  data?: string(name='Data', description='Indicates whether the advanced download feature is supported. Valid values:

*   **true**: The advanced download feature is supported.
*   **false**: The advanced download feature is not supported.', example='true'),
  errCode?: string(name='ErrCode', description='The error code returned if the request failed.', example='DBS.ParamIsInValid'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request failed.', example='Argument: regionCode Must not be empty'),
  message?: string(name='Message', description='The error message returned if the request failed.', example='Argument: regionCode Must not be empty'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='F1A186F7-7B34-5C11-A903-EE23876B****'),
  success?: string(name='Success', description='Indicates whether the request was successful. Valid values:

*   **true**: The request was successful.
*   **false**: The request failed.', example='true'),
}

model DescribeDownloadSupportResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeDownloadSupportResponseBody(name='body'),
}

/**
 * @summary Queries whether an instance supports the advanced download feature.
 *
 * @description ### [](#)Supported database engines
 * *   ApsaraDB RDS for MySQL
 * *   ApsaraDB RDS for PostgreSQL
 * *   PolarDB for MySQL
 * ### [](#)References
 * You can create an advanced download task by point in time or backup set. You can set the download destination to a URL or directly upload the downloaded backup set to your Object Storage Service (OSS) bucket to facilitate data analysis and offline archiving.
 * *   [Download the backup files of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/98819.html)
 * *   [Download the backup files of an ApsaraDB RDS for PostgreSQL instance](https://help.aliyun.com/document_detail/96774.html)
 * *   [Download the backup files of a PolarDB for MySQL cluster](https://help.aliyun.com/document_detail/2627635.html)
 *
 * @param request DescribeDownloadSupportRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeDownloadSupportResponse
 */
@context("describeDownloadSupportWithContext")
async function describeDownloadSupportWithOptions(request: DescribeDownloadSupportRequest, runtime: $RuntimeOptions): DescribeDownloadSupportResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeDownloadSupport',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries whether an instance supports the advanced download feature.
 *
 * @description ### [](#)Supported database engines
 * *   ApsaraDB RDS for MySQL
 * *   ApsaraDB RDS for PostgreSQL
 * *   PolarDB for MySQL
 * ### [](#)References
 * You can create an advanced download task by point in time or backup set. You can set the download destination to a URL or directly upload the downloaded backup set to your Object Storage Service (OSS) bucket to facilitate data analysis and offline archiving.
 * *   [Download the backup files of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/98819.html)
 * *   [Download the backup files of an ApsaraDB RDS for PostgreSQL instance](https://help.aliyun.com/document_detail/96774.html)
 * *   [Download the backup files of a PolarDB for MySQL cluster](https://help.aliyun.com/document_detail/2627635.html)
 *
 * @param request DescribeDownloadSupportRequest
 * @return DescribeDownloadSupportResponse
 */
async function describeDownloadSupport(request: DescribeDownloadSupportRequest): DescribeDownloadSupportResponse {
  var runtime = new $RuntimeOptions{};
  return describeDownloadSupportWithOptions(request, runtime);
}

model DescribeDownloadTaskRequest {
  backupSetId?: string(name='BackupSetId', description='The ID of the backup set generated when you create a download task. You can call the [DescribeBackups](https://help.aliyun.com/document_detail/26273.html) operation to query the ID.', example='216****'),
  clusterName?: string(name='ClusterName', example='dds-example'),
  currentPage?: string(name='CurrentPage', description='The page number of the page to return.', example='1'),
  datasourceId?: string(name='DatasourceId', description='The ID of the Database Backup (DBS) data source. Specify the parameter in the format of *ds-${Instance ID}_${regionId}*.', example='ds-rm-2ze8g2am97624****_cn-hangzhou'),
  endTime?: string(name='EndTime', description='The end of the time range to query. Specify this parameter as a timestamp of the LONG type. Unit: milliseconds.', example='1661941556000'),
  instanceName?: string(name='InstanceName', description='The ID of the instance.

> This parameter is required.', example='rm-bp1imnmcjxdz7****'),
  orderColumn?: string(name='OrderColumn', description='The column based on which the entries are sorted. By default, the entries are sorted by the time when the download task was created. Set the value to **gmt_create**.', example='gmt_create'),
  orderDirect?: string(name='OrderDirect', description='The order in which you want to sort the entries. Valid values:

*   **asc**: the ascending order.
*   **desc**: the descending order. This is the default value.', example='desc'),
  pageSize?: string(name='PageSize', description='The number of entries to return on each page.', example='50'),
  regionCode?: string(name='RegionCode', description='The ID of the region in which the instance resides. You can call the [DescribeDBInstanceAttribute](https://help.aliyun.com/document_detail/26231.html) operation to query the region ID of the instance.

This parameter is required.', example='cn-hangzhou'),
  startTime?: string(name='StartTime', description='The beginning of the time range to query. Specify this parameter as a timestamp of the LONG type. Unit: milliseconds.', example='1661941554000'),
  state?: string(name='State', description='The state of the download task. Valid values:

*   **Initializing**: The download task is being initialized.
*   **queueing**: The download task is queuing.
*   **running**: The download task is running.
*   **failed**: The download task fails.
*   **finished**: The download task is complete.
*   **expired**: The download task expires.', example='queueing'),
  taskType?: string(name='TaskType', description='The type of the download task. Valid values:

*   **full**: downloads a full backup set.
*   **pitr**: downloads a backup set at a specific point in time.', example='full'),
}

model DescribeDownloadTaskResponseBody = {
  code?: string(name='Code', description='The error code returned if the request fails.', example='DBS.InternalError'),
  data?: {
    content?: {
      list?: [ 
      {
        backupSetTime?: string(name='BackupSetTime', description='The point in time of the backup set if the task is used to download a backup set at a specific point in time. The value is a timestamp of the LONG type. Unit: millisecond.', example='1663162216000'),
        bakSetId?: string(name='BakSetId', description='The ID of the full backup set.', example='148261****'),
        dbList?: string(name='DbList', description='The details of the databases.', example='[dbtest]'),
        downloadStatus?: string(name='DownloadStatus', description='The status of the download task. Valid values:

*   **Initializing**: The download task is being initialized.
*   **queuing**: The download task is queuing.
*   **running**: The download task is running.
*   **failed**: The download task fails.
*   **finished**: The download task is complete.
*   **expired**: The download task expires.', example='queueing'),
        exportDataSize?: string(name='ExportDataSize', description='The amount of output data. Unit: bytes.', example='0'),
        format?: string(name='Format', description='The format to which the downloaded backup set is converted. Valid values:

*   **csv**
*   **SQL**
*   **Parquet**', example='csv'),
        gmtCreate?: string(name='GmtCreate', description='The time when the download task was created. The value is a timestamp.', example='1663321957000'),
        importDataSize?: string(name='ImportDataSize', description='The amount of data that is processed. Unit: bytes.', example='0'),
        progress?: string(name='Progress', description='The number of tables that have been downloaded and the total number of tables to be downloaded.', example='0/0'),
        regionCode?: string(name='RegionCode', description='The ID of the region in which the instance resides.', example='cn-hangzhou'),
        targetPath?: string(name='TargetPath', description='The destination path to which the data is downloaded if the value of **TargetType is OSS**.', example='test_db/path'),
        targetType?: string(name='TargetType', description='The type of the method in which the backup set is downloaded. Valid values:

*   **OSS**
*   **URL**', example='URL'),
        taskId?: string(name='TaskId', description='The download task ID.', example='dt-qxntlvgu****'),
      }
    ](name='List')
    }(name='Content', description='The details of the task.'),
    extra?: string(name='Extra', description='The extra description of the download tasks.', example='dbtest'),
    pageNumber?: long(name='PageNumber', description='The page number of the returned page. The value must be an integer that is greater than 0. Default value: 1.', example='1'),
    pageSize?: long(name='PageSize', description='The number of entries returned per page.', example='10'),
    totalElements?: long(name='TotalElements', description='The total number of full backup tasks.', example='1'),
    totalPages?: long(name='TotalPages', description='The total number of returned pages.', example='2'),
  }(name='Data', description='The details of the tasks.'),
  errCode?: string(name='ErrCode', description='The error code returned if the request fails.', example='DBS.InternalError'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request fails.', example='instanceName can not be empty'),
  message?: string(name='Message', description='The error message returned if the request fails.', example='instanceName can not be empty'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='5D285EB9-A443-592D-9F3D-A888FAC3****'),
  success?: string(name='Success', description='Indicates whether the request was successful. Valid values:

*   **true**: The request was successful.
*   **false**: The request failed.', example='true'),
}

model DescribeDownloadTaskResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeDownloadTaskResponseBody(name='body'),
}

/**
 * @summary Queries the advanced download tasks for an ApsaraDB RDS for MySQL instance, an ApsaraDB RDS for PostgreSQL instance, or a PolarDB for MySQL cluster.
 *
 * @description ### [](#)Supported database engines
 * *   ApsaraDB RDS for MySQL
 * *   ApsaraDB RDS for PostgreSQL
 * *   PolarDB for MySQL
 * ### [](#)References
 * *   [Download the backup files of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/98819.html)
 * *   [Download the backup files of an ApsaraDB RDS for PostgreSQL instance](https://help.aliyun.com/document_detail/96774.html)
 * *   [Download the backup files of a PolarDB for MySQL cluster](https://help.aliyun.com/document_detail/2627635.html)
 *
 * @param request DescribeDownloadTaskRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeDownloadTaskResponse
 */
@context("describeDownloadTaskWithContext")
async function describeDownloadTaskWithOptions(request: DescribeDownloadTaskRequest, runtime: $RuntimeOptions): DescribeDownloadTaskResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupSetId)) {
    query['BackupSetId'] = request.backupSetId;
  }
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.currentPage)) {
    query['CurrentPage'] = request.currentPage;
  }
  if (!$isNull(request.datasourceId)) {
    query['DatasourceId'] = request.datasourceId;
  }
  if (!$isNull(request.endTime)) {
    query['EndTime'] = request.endTime;
  }
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.orderColumn)) {
    query['OrderColumn'] = request.orderColumn;
  }
  if (!$isNull(request.orderDirect)) {
    query['OrderDirect'] = request.orderDirect;
  }
  if (!$isNull(request.pageSize)) {
    query['PageSize'] = request.pageSize;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.startTime)) {
    query['StartTime'] = request.startTime;
  }
  if (!$isNull(request.state)) {
    query['State'] = request.state;
  }
  if (!$isNull(request.taskType)) {
    query['TaskType'] = request.taskType;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeDownloadTask',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries the advanced download tasks for an ApsaraDB RDS for MySQL instance, an ApsaraDB RDS for PostgreSQL instance, or a PolarDB for MySQL cluster.
 *
 * @description ### [](#)Supported database engines
 * *   ApsaraDB RDS for MySQL
 * *   ApsaraDB RDS for PostgreSQL
 * *   PolarDB for MySQL
 * ### [](#)References
 * *   [Download the backup files of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/98819.html)
 * *   [Download the backup files of an ApsaraDB RDS for PostgreSQL instance](https://help.aliyun.com/document_detail/96774.html)
 * *   [Download the backup files of a PolarDB for MySQL cluster](https://help.aliyun.com/document_detail/2627635.html)
 *
 * @param request DescribeDownloadTaskRequest
 * @return DescribeDownloadTaskResponse
 */
async function describeDownloadTask(request: DescribeDownloadTaskRequest): DescribeDownloadTaskResponse {
  var runtime = new $RuntimeOptions{};
  return describeDownloadTaskWithOptions(request, runtime);
}

model DescribeSandboxBackupSetsRequest {
  backupPlanId?: string(name='BackupPlanId', description='The ID of the backup schedule. You can call the [DescribeBackupPlanList](https://help.aliyun.com/document_detail/437215.html) operation to query the ID of the backup schedule.

> If your instance is an ApsaraDB RDS for MySQL instance, you can [configure automatic access to a data source](https://help.aliyun.com/document_detail/193091.html) to automatically add the instance to DBS and obtain the ID of the backup schedule.

This parameter is required.', example='1hxxxx8xxxxxa'),
  backupSetId?: string(name='BackupSetId', description='The ID of the backup set. If this parameter is specified, only the snapshot of the specified backup set is returned. If this parameter is not specified, all the snapshots of the backup schedule are returned.', example='1xxxx2xxxxx1e'),
  pageNumber?: string(name='PageNumber', description='The number of the page to return. Pages start from page 1. Default value: 1.', example='1'),
  pageSize?: string(name='PageSize', description='The number of entries to return on each page. Valid values:

*   30: This is the default value.
*   50\\\\.
*   100\\\\.', example='30'),
}

model DescribeSandboxBackupSetsResponseBody = {
  code?: string(name='Code', description='The error code returned if the request failed.', example='Param.NotFound'),
  data?: string(name='Data', description='The returned data. The following parameters are contained:

*   **backupSetTime**: the point in time when the snapshot was created. The time follows the ISO 8601 standard in the yyyy-MM-ddThh:mm:ssZ format. The time is displayed in UTC.
*   **backupSetId**: the ID of the backup set.
*   **backupSetType**: the type of the snapshot. A value of **Full** indicates that the snapshot is a full backup snapshot. A value of **Inc** indicates that the snapshot is an incremental backup snapshot.
*   **backupPlanId**: the ID of the backup schedule.', example='"Data": {     "number": 2,     "size": 2,     "content": [       {         "backupSetTime": "2021-08-28T23:12:31Z",         "backupSetId": "Inc_1hxxxx8xxxxxa_20210801064200_mysql-bin.000134",         "backupSetType": "Inc",         "backupPlanId": "1hxxxx8xxxxxa"       },       {         "backupSetTime": "2021-08-28T22:42:28Z",         "backupSetId": "1hxxxx8xxxxxa_20210829064228",         "backupSetType": "FULL",         "backupPlanId": "1hxxxx8xxxxxa"       }     ],     "totalElements": 2   },'),
  errCode?: string(name='ErrCode', description='The error code returned if the request failed.', example='Param.NotFound'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request failed.', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', description='The error message returned if the request failed.', example='The specified parameter %s value is not valid.'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='4F1888AC-1138-4995-B9FE-D2734F61C058'),
  success?: string(name='Success', description='Indicates whether the request was successful.', example='true'),
}

model DescribeSandboxBackupSetsResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeSandboxBackupSetsResponseBody(name='body'),
}

/**
 * @summary Queries the snapshots of an instance.
 *
 * @description Before you call this operation, you must enable the sandbox feature for the database instance. For more information, see [Use the emergency recovery feature of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/203154.html) or [Create a sandbox instance for emergency disaster recovery of a self-managed MySQL database](https://help.aliyun.com/document_detail/185577.html). This operation is available only for the Database Backup (DBS) API of the 2021-01-01 version.
 *
 * @param request DescribeSandboxBackupSetsRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeSandboxBackupSetsResponse
 */
@context("describeSandboxBackupSetsWithContext")
async function describeSandboxBackupSetsWithOptions(request: DescribeSandboxBackupSetsRequest, runtime: $RuntimeOptions): DescribeSandboxBackupSetsResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupPlanId)) {
    query['BackupPlanId'] = request.backupPlanId;
  }
  if (!$isNull(request.backupSetId)) {
    query['BackupSetId'] = request.backupSetId;
  }
  if (!$isNull(request.pageNumber)) {
    query['PageNumber'] = request.pageNumber;
  }
  if (!$isNull(request.pageSize)) {
    query['PageSize'] = request.pageSize;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeSandboxBackupSets',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries the snapshots of an instance.
 *
 * @description Before you call this operation, you must enable the sandbox feature for the database instance. For more information, see [Use the emergency recovery feature of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/203154.html) or [Create a sandbox instance for emergency disaster recovery of a self-managed MySQL database](https://help.aliyun.com/document_detail/185577.html). This operation is available only for the Database Backup (DBS) API of the 2021-01-01 version.
 *
 * @param request DescribeSandboxBackupSetsRequest
 * @return DescribeSandboxBackupSetsResponse
 */
async function describeSandboxBackupSets(request: DescribeSandboxBackupSetsRequest): DescribeSandboxBackupSetsResponse {
  var runtime = new $RuntimeOptions{};
  return describeSandboxBackupSetsWithOptions(request, runtime);
}

model DescribeSandboxInstancesRequest {
  backupPlanId?: string(name='BackupPlanId', description='The ID of the backup schedule. You can call the [DescribeBackupPlanList](https://help.aliyun.com/document_detail/437215.html) operation to obtain the ID of the backup schedule.

> If your instance is an ApsaraDB RDS for MySQL instance, you can [configure automatic access to a data source](https://help.aliyun.com/document_detail/193091.html) to automatically add the instance to DBS and obtain the ID of the backup schedule.

This parameter is required.', example='1hxxxx8xxxxxa'),
  instanceId?: string(name='InstanceId', description='The ID of the sandbox instance. You can call the [CreateSandboxInstance](https://help.aliyun.com/document_detail/437252.html) operation to obtain the ID of the sandbox instance.', example='1jxxxxnxxx1xc'),
  pageNumber?: string(name='PageNumber', description='The number of the page to return. The value must be an integer that is greater than 0. Default value: 1.', example='1'),
  pageSize?: string(name='PageSize', description='The number of entries to return on each page. Valid values:

*   30\\\\. This is the default value.
*   50
*   100', example='30'),
}

model DescribeSandboxInstancesResponseBody = {
  code?: string(name='Code', description='The error code returned if the request fails.', example='Param.NotFound'),
  data?: string(name='Data', description='The response parameters.

*   **connectionString**: the connection string of the sandbox instance, in the format of IP address:Port number. This parameter indicates the endpoint of the sandbox instance if the value of the SandboxType parameter is **Sandbox**. This parameter indicates the Network File System (NFS) mount address if the value of the SandboxType parameter is **NFS**.
*   **restoreSeconds**: the time required to create the sandbox instance. Unit: seconds.
*   **restoreTime**: the point in time to which the sandbox instance is restored. The time follows the ISO 8601 standard in the yyyy-MM-ddThh:mm:ssZ format. The time is displayed in UTC.
*   **instanceId**: the ID of the sandbox instance.
*   **backupSetId**: the ID of the backup set.
*   **createTime**: the point in time when the sandbox instance was created. The time follows the ISO 8601 standard in the yyyy-MM-ddThh:mm:ssZ format. The time is displayed in UTC.
*   **backupPlanId**: the ID of the backup schedule.
*   **vpcId**: the ID of the virtual private cloud (VPC).
*   **vpcSwitchId**: the ID of the VSwitch.
*   **sandboxSpecification**: the specifications of the sandbox instance.
*   **status**: the status of the sandbox instance. Valid values: **running**, **check_pass**, and **stop**.', example='{     "number": 1,     "size": 1,     "content": [       {         "connectionString": "172.26.178.229:3306",         "restoreSeconds": 15,         "restoreTime": "2021-08-11T07:26:24Z",         "instanceId": "1jxxxxx9xxxms",         "backupSetId": "1hxxxx8xxxxxa_20210811152624",         "createTime": "2021-08-12T07:40:29Z",         "backupPlanId": "1hxxxx8xxxxxa",         "vpcId": "vpc-bp1dxxxxxjy0xxxxx1xxp",         "sandboxSpecification": "MYSQL_1C_1M_SD",         "status": "running",         "vpcSwitchId": "vsw-bp1bxxxxxumxxxxxwxx2w"       }     ],     "totalElements": 1   }'),
  errCode?: string(name='ErrCode', description='The error code returned if the request fails.', example='Param.NotFound'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request fails.', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', description='The error message returned if the request fails.', example='The specified parameter %s value is not valid.'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='4F1888AC-1138-4995-B9FE-D2734F61C058'),
  success?: string(name='Success', description='Indicates whether the request was successful.', example='true'),
}

model DescribeSandboxInstancesResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeSandboxInstancesResponseBody(name='body'),
}

/**
 * @summary Queries sandbox instances that are created within an account.
 *
 * @description This operation is available only in Database Backup (DBS) API of the 2021-01-01 version.
 *
 * @param request DescribeSandboxInstancesRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeSandboxInstancesResponse
 */
@context("describeSandboxInstancesWithContext")
async function describeSandboxInstancesWithOptions(request: DescribeSandboxInstancesRequest, runtime: $RuntimeOptions): DescribeSandboxInstancesResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupPlanId)) {
    query['BackupPlanId'] = request.backupPlanId;
  }
  if (!$isNull(request.instanceId)) {
    query['InstanceId'] = request.instanceId;
  }
  if (!$isNull(request.pageNumber)) {
    query['PageNumber'] = request.pageNumber;
  }
  if (!$isNull(request.pageSize)) {
    query['PageSize'] = request.pageSize;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeSandboxInstances',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries sandbox instances that are created within an account.
 *
 * @description This operation is available only in Database Backup (DBS) API of the 2021-01-01 version.
 *
 * @param request DescribeSandboxInstancesRequest
 * @return DescribeSandboxInstancesResponse
 */
async function describeSandboxInstances(request: DescribeSandboxInstancesRequest): DescribeSandboxInstancesResponse {
  var runtime = new $RuntimeOptions{};
  return describeSandboxInstancesWithOptions(request, runtime);
}

model DescribeSandboxRecoveryTimeRequest {
  backupPlanId?: string(name='BackupPlanId', description='The ID of the backup schedule. You can call the [DescribeBackupPlanList](https://help.aliyun.com/document_detail/437215.html) operation to obtain the ID of the backup schedule. If you set this parameter to the backup schedule ID obtained by calling the DescribeBackupPlanList operation, the dbs prefix must be removed. Otherwise, the call fails.

> If your instance is an ApsaraDB RDS for MySQL instance, you can [configure automatic access to a data source](https://help.aliyun.com/document_detail/193091.html) to automatically add the instance to DBS and obtain the ID of the backup schedule.

This parameter is required.', example='1jyjal15l****'),
}

model DescribeSandboxRecoveryTimeResponseBody = {
  code?: string(name='Code', description='The error code returned if the request fails.', example='Param.NotFound'),
  data?: {
    backupPlanId?: string(name='BackupPlanId', description='The backup schedule of the sandbox instance.', example='1hxxxx8xxxxxa'),
    recoveryBeginTime?: string(name='RecoveryBeginTime', description='The beginning of the time range during which the sandbox instance can be restored. The time follows the ISO 8601 standard in the yyyy-MM-ddThh:mm:ssZ format. The time is displayed in UTC.', example='2021-08-01T12:01:01Z'),
    recoveryEndTime?: string(name='RecoveryEndTime', description='The end of the time range during which the sandbox instance can be restored. The time follows the ISO 8601 standard in the yyyy-MM-ddThh:mm:ssZ format. The time is displayed in UTC.', example='2021-08-02T12:01:01Z'),
  }(name='Data', description='The response parameters.'),
  errCode?: string(name='ErrCode', description='The error code returned if the request fails.', example='Param.NotFound'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request fails.', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', description='The error message returned if the request fails.', example='The specified parameter %s value is not valid.'),
  requestId?: string(name='RequestId', description='The ID of the request.', example='4F1888AC-1138-4995-B9FE-D2734F61C058'),
  success?: string(name='Success', description='Indicates whether the request was successful.', example='true'),
}

model DescribeSandboxRecoveryTimeResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: DescribeSandboxRecoveryTimeResponseBody(name='body'),
}

/**
 * @summary Queries the recoverable time range of a sandbox instance.
 *
 * @description Before you call this operation, you must enable the sandbox feature for the database instance. For more information, see [Use the emergency recovery feature of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/203154.html) or [Create a sandbox instance for emergency disaster recovery of a self-managed MySQL database](https://help.aliyun.com/document_detail/185577.html). This operation is available only in Database Backup (DBS) API of the 2021-01-01 version.
 *
 * @param request DescribeSandboxRecoveryTimeRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return DescribeSandboxRecoveryTimeResponse
 */
@context("describeSandboxRecoveryTimeWithContext")
async function describeSandboxRecoveryTimeWithOptions(request: DescribeSandboxRecoveryTimeRequest, runtime: $RuntimeOptions): DescribeSandboxRecoveryTimeResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.backupPlanId)) {
    query['BackupPlanId'] = request.backupPlanId;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'DescribeSandboxRecoveryTime',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Queries the recoverable time range of a sandbox instance.
 *
 * @description Before you call this operation, you must enable the sandbox feature for the database instance. For more information, see [Use the emergency recovery feature of an ApsaraDB RDS for MySQL instance](https://help.aliyun.com/document_detail/203154.html) or [Create a sandbox instance for emergency disaster recovery of a self-managed MySQL database](https://help.aliyun.com/document_detail/185577.html). This operation is available only in Database Backup (DBS) API of the 2021-01-01 version.
 *
 * @param request DescribeSandboxRecoveryTimeRequest
 * @return DescribeSandboxRecoveryTimeResponse
 */
async function describeSandboxRecoveryTime(request: DescribeSandboxRecoveryTimeRequest): DescribeSandboxRecoveryTimeResponse {
  var runtime = new $RuntimeOptions{};
  return describeSandboxRecoveryTimeWithOptions(request, runtime);
}

model ModifyBackupPolicyRequest {
  advanceDataPolicies?: [ 
    {
      actionType?: string(name='ActionType', description='The type of the operation. Valid values:

*   **CREATE**
*   **UPDATE**
*   **DELETE**', example='UPDATE'),
      destRegion?: string(name='DestRegion', description='The region in which backup files are stored.', example='cn-shanghai'),
      destType?: string(name='DestType', description='The storage method of backup files. Valid values:

*   **db**: database.
*   **level1**: level-1 backup.
*   **level2**: level-2 backup.
*   **level2Cross**: level-2 cross-region backup.', example='level1'),
      filterKey?: string(name='FilterKey', description='The scheduling cycle. Valid values:

*   **dayOfWeek**: scheduling by week.
*   **dayOfMonth**: scheduling by month.
*   **dayOfYear**: scheduling by year.
*   **backupInterval**: scheduling at a specific interval.

>  This parameter is required only when FilterType is set to **crontab**.', example='backupInterval'),
      filterType?: string(name='FilterType', description='The scheduling mode of the advanced backup policy. Valid values:

*   **crontab**: periodic scheduling.
*   **event**: event-based scheduling.', example='crontab'),
      filterValue?: string(name='FilterValue', description='The backup cycle.', example='180'),
      onlyPreserveOneEachDay?: boolean(name='OnlyPreserveOneEachDay'),
      policyId?: string(name='PolicyId', description='The ID of the advanced backup policy. You can call the [DescribeBackupPolicy](https://help.aliyun.com/document_detail/2869783.html) operation to query the ID.', example='6s67c7i3y8f8p72808p******'),
      retentionType?: string(name='RetentionType', description='The retention type of backup sets. Valid values:

*   **never**: Backup sets never expire.
*   **delay**: Backup sets are retained for a specific number of days.', example='delay'),
      retentionValue?: string(name='RetentionValue', description='The retention period. Unit: day.', example='4'),
      srcRegion?: string(name='SrcRegion', description='The region in which the data source of the backup policy resides.', example='cn-shanghai'),
      srcType?: string(name='SrcType', description='The type of the data source of the backup policy. Valid values:

*   **db**: database.
*   **level1**: level-1 backup.
*   **level2**: level-2 backup.
*   **level2Cross**: level-2 cross-region backup.', example='db'),
      storageClass?: string(name='StorageClass'),
    }
  ](name='AdvanceDataPolicies', description='The details of data backup policies.'),
  advanceIncPolicies?: [ 
    {
      actionType?: string(name='ActionType'),
      destRegion?: string(name='DestRegion'),
      destType?: string(name='DestType'),
      filterKey?: string(name='FilterKey'),
      filterType?: string(name='FilterType'),
      filterValue?: string(name='FilterValue'),
      onlyPreserveOneEachDay?: boolean(name='OnlyPreserveOneEachDay'),
      policyId?: string(name='PolicyId'),
      retentionType?: string(name='RetentionType'),
      retentionValue?: string(name='RetentionValue'),
      srcRegion?: string(name='SrcRegion'),
      srcType?: string(name='SrcType'),
    }
  ](name='AdvanceIncPolicies'),
  advanceLogPolicies?: [ 
    {
      actionType?: string(name='ActionType'),
      destRegion?: string(name='DestRegion'),
      destType?: string(name='DestType'),
      enableLogBackup?: long(name='EnableLogBackup'),
      filterKey?: string(name='FilterKey'),
      filterType?: string(name='FilterType'),
      filterValue?: string(name='FilterValue'),
      logRetentionType?: string(name='LogRetentionType'),
      logRetentionValue?: string(name='LogRetentionValue'),
      policyId?: string(name='PolicyId'),
      srcRegion?: string(name='SrcRegion'),
      srcType?: string(name='SrcType'),
    }
  ](name='AdvanceLogPolicies'),
  backupMethod?: string(name='BackupMethod'),
  backupPriority?: int32(name='BackupPriority'),
  backupRetentionPolicyOnClusterDeletion?: string(name='BackupRetentionPolicyOnClusterDeletion'),
  category?: string(name='Category'),
  enableIncBackup?: boolean(name='EnableIncBackup'),
  instanceName?: string(name='InstanceName', description='The ID of the PolarDB instance.', example='pc-2ze3nrr64c5****'),
  preferredBackupWindowBegin?: string(name='PreferredBackupWindowBegin', description='The start time of a basic backup.', example='17:00Z'),
  regionCode?: string(name='RegionCode', description='The region in which backup sets reside.', example='cn-shanghai'),
}

model ModifyBackupPolicyShrinkRequest {
  advanceDataPoliciesShrink?: string(name='AdvanceDataPolicies', description='The details of data backup policies.'),
  advanceIncPoliciesShrink?: string(name='AdvanceIncPolicies'),
  advanceLogPoliciesShrink?: string(name='AdvanceLogPolicies'),
  backupMethod?: string(name='BackupMethod'),
  backupPriority?: int32(name='BackupPriority'),
  backupRetentionPolicyOnClusterDeletion?: string(name='BackupRetentionPolicyOnClusterDeletion'),
  category?: string(name='Category'),
  enableIncBackup?: boolean(name='EnableIncBackup'),
  instanceName?: string(name='InstanceName', description='The ID of the PolarDB instance.', example='pc-2ze3nrr64c5****'),
  preferredBackupWindowBegin?: string(name='PreferredBackupWindowBegin', description='The start time of a basic backup.', example='17:00Z'),
  regionCode?: string(name='RegionCode', description='The region in which backup sets reside.', example='cn-shanghai'),
}

model ModifyBackupPolicyResponseBody = {
  code?: string(name='Code', description='The response code.', example='Success'),
  data?: {
    advanceDataPolicies?: [ 
      {
        autoCreated?: boolean(name='AutoCreated', description='Indicates whether the backup policy is generated by the system. Valid values:

*   **true**: The backup policy is generated by the system.
*   **false**: The backup policy is a custom one.', example='false'),
        bakType?: string(name='BakType', description='The backup type. Valid values:

*   **F**: full backup.
*   **L**: log backup.', example='F'),
        destRegion?: string(name='DestRegion', description='The region in which backup files are stored.', example='cn-shanghai'),
        destType?: string(name='DestType', description='The storage method of backup files. Valid values:

*   **db**: database.
*   **level1**: level-1 backup.
*   **level2**: level-2 backup.
*   **level2Cross**: level-2 cross-region backup.', example='level1'),
        dumpAction?: string(name='DumpAction', description='The information about the dump policy. Valid values:

*   **copy**: The backup data is copied from the data source to the destination.
*   **move**: The backup data is moved from the data source to the destination.', example='copy'),
        filterKey?: string(name='FilterKey', description='The scheduling cycle. Valid values:

*   **dayOfWeek**: scheduling by week.
*   **dayOfMonth**: scheduling by month.
*   **dayOfYear**: scheduling by year.
*   **backupInterval**: scheduling at a specific interval.

>  This parameter is returned only when FilterType is set to **crontab**.', example='backupInterval'),
        filterType?: string(name='FilterType', description='The scheduling mode of the advanced backup policy. Valid values:

*   **crontab**: periodic scheduling.
*   **event**: event-based scheduling.', example='crontab'),
        filterValue?: string(name='FilterValue', description='The backup cycle.', example='180'),
        onlyPreserveOneEachDay?: boolean(name='OnlyPreserveOneEachDay'),
        policyId?: string(name='PolicyId', description='The ID of the advanced backup policy.', example='dc13b153acc91141789122c23835****'),
        retentionType?: string(name='RetentionType', description='The retention type of backup sets. Valid values:

*   **never**: Backup sets never expire.
*   **delay**: Backup sets are retained for a specific number of days.', example='delay'),
        retentionValue?: string(name='RetentionValue', description='The retention period. Unit: day.', example='4'),
        srcRegion?: string(name='SrcRegion', description='The region in which the data source of the backup policy resides.', example='cn-shanghai'),
        srcType?: string(name='SrcType', description='The type of the data source of the backup policy. Valid values:

*   **db**: database.
*   **level1**: level-1 backup.
*   **level2**: level-2 backup.
*   **level2Cross**: level-2 cross-region backup.', example='db'),
        storageClass?: string(name='StorageClass'),
      }
    ](name='AdvanceDataPolicies', description='The details of data backup policies.'),
    advanceIncPolicies?: [ 
      {
        autoCreated?: boolean(name='AutoCreated'),
        bakType?: string(name='BakType'),
        destRegion?: string(name='DestRegion'),
        destType?: string(name='DestType'),
        dumpAction?: string(name='DumpAction'),
        filterKey?: string(name='FilterKey'),
        filterType?: string(name='FilterType'),
        filterValue?: string(name='FilterValue'),
        onlyPreserveOneEachDay?: boolean(name='OnlyPreserveOneEachDay'),
        policyId?: string(name='PolicyId'),
        retentionType?: string(name='RetentionType'),
        retentionValue?: string(name='RetentionValue'),
        srcRegion?: string(name='SrcRegion'),
        srcType?: string(name='SrcType'),
      }
    ](name='AdvanceIncPolicies'),
    advanceLogPolicies?: [ 
      {
        destRegion?: string(name='DestRegion'),
        destType?: string(name='DestType'),
        enableLogBackup?: long(name='EnableLogBackup'),
        filterKey?: string(name='FilterKey'),
        filterType?: string(name='FilterType'),
        filterValue?: string(name='FilterValue'),
        logRetentionType?: string(name='LogRetentionType'),
        logRetentionValue?: string(name='LogRetentionValue'),
        policyId?: string(name='PolicyId'),
        srcRegion?: string(name='SrcRegion'),
        srcType?: string(name='SrcType'),
      }
    ](name='AdvanceLogPolicies'),
    backupMethod?: string(name='BackupMethod'),
    backupPriority?: int32(name='BackupPriority'),
    backupRetentionPolicyOnClusterDeletion?: string(name='BackupRetentionPolicyOnClusterDeletion'),
    category?: string(name='Category'),
    enableIncBackup?: boolean(name='EnableIncBackup'),
    preferredBackupWindow?: string(name='PreferredBackupWindow', description='The time period during which a basic backup is performed.', example='17:00Z-18:00Z'),
    preferredBackupWindowBegin?: string(name='PreferredBackupWindowBegin', description='The start time of a basic backup.', example='17:00Z'),
  }(name='Data', description='The details of the backup policy.'),
  errCode?: string(name='ErrCode', description='The error code returned if the request failed.', example='Success'),
  errMessage?: string(name='ErrMessage', description='The error message returned if the request failed.', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', description='The returned message.', example='instanceName can not be empty.'),
  requestId?: string(name='RequestId', description='The request ID.', example='D570F209-A166-50C6-98A3-155A20B218B7'),
  success?: string(name='Success', description='Indicates whether the request was successful. Valid values:

*   **true**
*   **false**', example='true'),
}

model ModifyBackupPolicyResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ModifyBackupPolicyResponseBody(name='body'),
}

/**
 * @summary Modifies the backup policy of a PolarDB instance.
 *
 * @description ### [](#)Supported database engines
 * PolarDB for MySQL
 * >  This API operation is available only to specific customers. If you want to call this API operation, join the Database Backup (DBS) DingTalk group (ID 35585947) for customer consultation to request permissions.
 *
 * @param tmpReq ModifyBackupPolicyRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ModifyBackupPolicyResponse
 */
@context("modifyBackupPolicyWithContext")
async function modifyBackupPolicyWithOptions(tmpReq: ModifyBackupPolicyRequest, runtime: $RuntimeOptions): ModifyBackupPolicyResponse {
  tmpReq.validate();
  var request = new ModifyBackupPolicyShrinkRequest{};
  OpenApiUtil.convert(tmpReq, request);
  if (!$isNull(tmpReq.advanceDataPolicies)) {
    request.advanceDataPoliciesShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.advanceDataPolicies, 'AdvanceDataPolicies', 'json');
  }
  if (!$isNull(tmpReq.advanceIncPolicies)) {
    request.advanceIncPoliciesShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.advanceIncPolicies, 'AdvanceIncPolicies', 'json');
  }
  if (!$isNull(tmpReq.advanceLogPolicies)) {
    request.advanceLogPoliciesShrink = OpenApiUtil.arrayToStringWithSpecifiedStyle(tmpReq.advanceLogPolicies, 'AdvanceLogPolicies', 'json');
  }
  var query = {};
  if (!$isNull(request.advanceDataPoliciesShrink)) {
    query['AdvanceDataPolicies'] = request.advanceDataPoliciesShrink;
  }
  if (!$isNull(request.advanceIncPoliciesShrink)) {
    query['AdvanceIncPolicies'] = request.advanceIncPoliciesShrink;
  }
  if (!$isNull(request.advanceLogPoliciesShrink)) {
    query['AdvanceLogPolicies'] = request.advanceLogPoliciesShrink;
  }
  if (!$isNull(request.backupMethod)) {
    query['BackupMethod'] = request.backupMethod;
  }
  if (!$isNull(request.backupPriority)) {
    query['BackupPriority'] = request.backupPriority;
  }
  if (!$isNull(request.backupRetentionPolicyOnClusterDeletion)) {
    query['BackupRetentionPolicyOnClusterDeletion'] = request.backupRetentionPolicyOnClusterDeletion;
  }
  if (!$isNull(request.category)) {
    query['Category'] = request.category;
  }
  if (!$isNull(request.enableIncBackup)) {
    query['EnableIncBackup'] = request.enableIncBackup;
  }
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.preferredBackupWindowBegin)) {
    query['PreferredBackupWindowBegin'] = request.preferredBackupWindowBegin;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'ModifyBackupPolicy',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary Modifies the backup policy of a PolarDB instance.
 *
 * @description ### [](#)Supported database engines
 * PolarDB for MySQL
 * >  This API operation is available only to specific customers. If you want to call this API operation, join the Database Backup (DBS) DingTalk group (ID 35585947) for customer consultation to request permissions.
 *
 * @param request ModifyBackupPolicyRequest
 * @return ModifyBackupPolicyResponse
 */
async function modifyBackupPolicy(request: ModifyBackupPolicyRequest): ModifyBackupPolicyResponse {
  var runtime = new $RuntimeOptions{};
  return modifyBackupPolicyWithOptions(request, runtime);
}

model ModifyDBTablesRecoveryStateRequest {
  category?: string(name='Category'),
  clusterName?: string(name='ClusterName'),
  instanceId?: string(name='InstanceId'),
  regionCode?: string(name='RegionCode'),
  retention?: string(name='Retention'),
}

model ModifyDBTablesRecoveryStateResponseBody = {
  code?: string(name='Code'),
  data?: string(name='Data'),
  errCode?: string(name='ErrCode'),
  errMessage?: string(name='ErrMessage'),
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  success?: string(name='Success'),
}

model ModifyDBTablesRecoveryStateResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: ModifyDBTablesRecoveryStateResponseBody(name='body'),
}

/**
 * @summary 修改库表恢复状态
 *
 * @param request ModifyDBTablesRecoveryStateRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return ModifyDBTablesRecoveryStateResponse
 */
@context("modifyDBTablesRecoveryStateWithContext")
async function modifyDBTablesRecoveryStateWithOptions(request: ModifyDBTablesRecoveryStateRequest, runtime: $RuntimeOptions): ModifyDBTablesRecoveryStateResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.category)) {
    query['Category'] = request.category;
  }
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.instanceId)) {
    query['InstanceId'] = request.instanceId;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.retention)) {
    query['Retention'] = request.retention;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'ModifyDBTablesRecoveryState',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 修改库表恢复状态
 *
 * @param request ModifyDBTablesRecoveryStateRequest
 * @return ModifyDBTablesRecoveryStateResponse
 */
async function modifyDBTablesRecoveryState(request: ModifyDBTablesRecoveryStateRequest): ModifyDBTablesRecoveryStateResponse {
  var runtime = new $RuntimeOptions{};
  return modifyDBTablesRecoveryStateWithOptions(request, runtime);
}

model RetryDownloadTaskRequest {
  clusterName?: string(name='ClusterName', example='dds-example'),
  instanceName?: string(name='InstanceName', example='rm-example'),
  regionCode?: string(name='RegionCode', example='cn-hangzhou'),
  taskId?: string(name='TaskId', example='dt-example'),
}

model RetryDownloadTaskResponseBody = {
  code?: string(name='Code', example='Success'),
  data?: string(name='Data'),
  errCode?: string(name='ErrCode', example='Success'),
  errMessage?: string(name='ErrMessage', example='The specified parameter %s value is not valid.'),
  message?: string(name='Message', example='instanceName can not be empty.'),
  requestId?: string(name='RequestId', example='49FE4E8E-39B9-56DE-BC07-5AEBFAXXXXXX'),
  success?: string(name='Success', example='True'),
}

model RetryDownloadTaskResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: RetryDownloadTaskResponseBody(name='body'),
}

/**
 * @summary 重试高级下载任务
 *
 * @param request RetryDownloadTaskRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return RetryDownloadTaskResponse
 */
@context("retryDownloadTaskWithContext")
async function retryDownloadTaskWithOptions(request: RetryDownloadTaskRequest, runtime: $RuntimeOptions): RetryDownloadTaskResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.instanceName)) {
    query['InstanceName'] = request.instanceName;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  if (!$isNull(request.taskId)) {
    query['TaskId'] = request.taskId;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'RetryDownloadTask',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 重试高级下载任务
 *
 * @param request RetryDownloadTaskRequest
 * @return RetryDownloadTaskResponse
 */
async function retryDownloadTask(request: RetryDownloadTaskRequest): RetryDownloadTaskResponse {
  var runtime = new $RuntimeOptions{};
  return retryDownloadTaskWithOptions(request, runtime);
}

model SupportDBTableRecoveryRequest {
  clusterName?: string(name='ClusterName'),
  instanceId?: string(name='InstanceId'),
  regionCode?: string(name='RegionCode'),
}

model SupportDBTableRecoveryResponseBody = {
  code?: string(name='Code'),
  data?: string(name='Data'),
  errCode?: string(name='ErrCode'),
  errMessage?: string(name='ErrMessage'),
  message?: string(name='Message'),
  requestId?: string(name='RequestId'),
  success?: string(name='Success'),
}

model SupportDBTableRecoveryResponse = {
  headers?: map[string]string(name='headers'),
  statusCode?: int32(name='statusCode'),
  body?: SupportDBTableRecoveryResponseBody(name='body'),
}

/**
 * @summary 查询是否支持库表恢复
 *
 * @param request SupportDBTableRecoveryRequest
 * @param runtime runtime options for this request RuntimeOptions
 * @return SupportDBTableRecoveryResponse
 */
@context("supportDBTableRecoveryWithContext")
async function supportDBTableRecoveryWithOptions(request: SupportDBTableRecoveryRequest, runtime: $RuntimeOptions): SupportDBTableRecoveryResponse {
  request.validate();
  var query = {};
  if (!$isNull(request.clusterName)) {
    query['ClusterName'] = request.clusterName;
  }
  if (!$isNull(request.instanceId)) {
    query['InstanceId'] = request.instanceId;
  }
  if (!$isNull(request.regionCode)) {
    query['RegionCode'] = request.regionCode;
  }
  var req = new OpenApiUtil.OpenApiRequest{ 
    query = OpenApiUtil.query(query),
  };
  var params = new OpenApiUtil.Params{
    action = 'SupportDBTableRecovery',
    version = '2021-01-01',
    protocol = 'HTTPS',
    pathname = '/',
    method = 'POST',
    authType = 'AK',
    style = 'RPC',
    reqBodyType = 'formData',
    bodyType = 'json',
  };
  return callApi(params, req, runtime);
}

/**
 * @summary 查询是否支持库表恢复
 *
 * @param request SupportDBTableRecoveryRequest
 * @return SupportDBTableRecoveryResponse
 */
async function supportDBTableRecovery(request: SupportDBTableRecoveryRequest): SupportDBTableRecoveryResponse {
  var runtime = new $RuntimeOptions{};
  return supportDBTableRecoveryWithOptions(request, runtime);
}

